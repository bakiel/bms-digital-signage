@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --header-height: 4.5rem;
  --footer-height: 3rem;
  --color-primary: #2c4c9c;
  --color-primary-dark: #1e3a7b;
  --color-secondary: #0066cc;
  --color-accent: #e63946;
  --color-background: #f8fafc;
  --color-text: #1e293b;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  overflow: hidden;
  /* background-color: var(--color-background); Removed static bg color */
  color: var(--color-text);
  position: relative; /* Needed for z-index stacking & particle positioning */
}

/* Keep gradient animation definition for potential use elsewhere */
@keyframes gradientAnimation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Removed .animated-gradient-background rule as gradient is now on body */
/* Removed CSS blur due to rendering issues */

/* Force particle canvas background to be transparent */
#tsparticles > canvas {
  background-color: transparent !important;
}

/* Main Layout */
.signage-layout {
  display: flex;
  flex-direction: column;
  height: 100vh; /* Full viewport height */
  background-color: transparent; /* Ensure this layer doesn't block body gradient */
  width: 100vw;
  overflow: hidden; /* Prevent body scroll */
}


/* InfoBar styles (Header) */
.info-bar {
  background: linear-gradient(to right, var(--color-primary-dark), var(--color-primary));
  color: white;
  padding: 0 1.5rem; 
  display: flex;
  align-items: center;
  gap: 1.5rem; 
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  height: var(--header-height); /* Use variable */
  flex-shrink: 0; 
  z-index: 100; 
  /* position: fixed; Removed fixed */
}

.info-bar-logo {
  height: 2.5rem; 
  flex-shrink: 0; 
}

.info-bar-datetime {
  display: flex;
  flex-direction: column; 
  align-items: flex-start;
  flex-shrink: 0;
}

.info-bar-time {
  font-size: 1.25rem; 
  font-weight: 600;
}

.info-bar-date {
  font-size: 0.8rem; 
  opacity: 0.8;
}

.info-bar-weather {
  font-size: 1rem;
  font-weight: 500;
  white-space: nowrap;
  flex-shrink: 0;
  background-color: rgba(255, 255, 255, 0.1); 
  padding: 0.4rem 0.8rem;
  border-radius: 0.5rem;
}

.info-bar-ticker-container {
  flex: 1; 
  overflow: hidden; 
  min-width: 0; 
}

/* Main Content Area (Slideshow) */
.signage-main-content {
  flex-grow: 1; /* Allow content to fill remaining space */
  position: relative; /* For positioning animated slides */
  overflow: hidden; /* Hide overflowing slide content */
  /* Explicitly set height based on viewport minus header/footer */
  height: calc(100vh - var(--header-height) - var(--footer-height)); 
  display: flex; 
  align-items: stretch; /* Stretch children vertically */
  justify-content: center; /* Center children horizontally */
}

/* Wrapper for the animated slide inside main content */
.slide-wrapper {
  width: 100%;
  height: 100%;
  position: absolute; 
  top: 0;
  left: 0;
  display: flex; 
  align-items: stretch; 
}


/* Slide styles */
.slide {
  height: 100%; /* Ensure slide fills its container */
  width: 100%; 
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-sizing: border-box;
  position: relative; /* Needed for pseudo-element positioning */
}

/* Product slide */
.product-slide {
  padding: 1rem 2rem; /* Add padding specifically here */
}

.product-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  /* padding: 3rem; Use slide padding */
  max-width: 1600px;
  margin: 0 auto;
  flex-grow: 1; /* Allow content to take space */
  align-items: center;
  min-height: 0; /* Prevent overflow issues with flex-grow */
}

/* Product Image Container - Keep solid white for focus */
.product-image-container {
  background-color: transparent; /* Make background transparent */
  border-radius: 1rem;
  padding: 2rem;
  /* box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); Removed shadow */
  display: flex;
  justify-content: center;
  align-items: center;
  height: 65vh; /* Adjusted relative height */
  max-height: 550px; /* Adjusted max-height */
}

.product-image {
  max-height: 90%;
  max-width: 90%;
  object-fit: contain;
  transition: transform 0.35s ease-out; /* Keep hover transition */
  animation: imagePulse 4s ease-in-out infinite; /* Add subtle pulse animation */
}

.product-details {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 2rem 3rem;
  /* Frosted glass effect for details - Increased opacity for contrast */
  background-color: rgba(248, 250, 252, 0.96); /* Nearly opaque light grey (slate-50) */
  backdrop-filter: blur(18px); /* Final blur adjustment */
  border-radius: 1rem; /* Match image container */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1); /* Add shadow */
}

.product-image-container:hover .product-image {
  transform: scale(1.08); /* Stronger hover scale effect */
  /* Removed box-shadow change on image hover to prevent container effect */
}

.product-category {
  color: var(--color-secondary);
  font-size: 1.1rem; /* Slightly smaller */
  font-weight: 600; /* Bolder */
  margin-bottom: 0.75rem; /* More space below */
  display: inline-block; /* Allow background/padding */
  padding: 0.2rem 0.6rem; /* Add padding */
  background-color: rgba(0, 102, 204, 0.1); /* Faint secondary color background */
  border-radius: 0.375rem; /* rounded-md */
  border: 1px solid rgba(0, 102, 204, 0.2); /* Faint border */
}

.product-name {
  color: var(--color-primary);
  font-size: 3.2rem; /* Slightly smaller */
  font-weight: 700;
  margin-bottom: 1.2rem; /* Increased margin */
  line-height: 1.15;
  color: var(--color-primary-dark);
  overflow-wrap: break-word; /* Allow wrapping long names */
}

.product-description {
  overflow-wrap: break-word; /* Allow wrapping long descriptions */
  font-size: 1.15rem; /* Slightly smaller */
  margin-bottom: 1.8rem; /* Adjusted margin */
  line-height: 1.6;
  color: #475569; /* Softer text color */
}

.product-price {
  font-size: 2.5rem; /* Final reduction */
  font-weight: 700;
  color: var(--color-secondary);
  margin-bottom: 0.5rem;
  line-height: 1.1;
}

.product-original-price {
  font-size: 1.4rem; /* Slightly smaller */
  text-decoration: line-through;
  color: #64748b;
  margin-bottom: 0.5rem;
}

.product-discount {
  background-color: var(--color-accent);
  color: white;
  font-weight: 600;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  display: inline-block;
  margin-bottom: 1.5rem;
}

.product-tiers {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
}

.product-tier {
  background-color: #f1f5f9;
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
}

.product-tier-name {
  font-weight: 600;
}

.product-tier-price {
  color: var(--color-secondary);
  font-weight: 600;
}

.product-special-banner {
  background-color: var(--color-accent);
  color: white;
  text-align: center;
  padding: 1rem;
  font-size: 1.5rem;
  font-weight: 700;
}

/* Category slide - Redesigned */
.category-slide {
  /* Inherits base .slide styles */
  gap: 1rem; 
  align-items: center; 
  padding: 1rem 2rem; /* Add padding here */
}

.category-header {
  background-color: transparent; 
  color: white; 
  padding: 0.5rem 0; 
  text-align: center;
  flex-shrink: 0; 
  width: 100%;
  max-width: 1200px; 
  /* margin-bottom: 0.5rem; Rely on gap */
}

.category-title {
  font-size: 2.2rem; 
  font-weight: 700;
  color: var(--color-primary-dark); /* Dark blue title */
  margin-bottom: 0.1rem; 
  line-height: 1.1; 
}

.category-description {
  font-size: 1rem; 
  opacity: 0.8;
  color: #475569; /* Darker grey description */
  max-width: 800px; 
  margin: 0 auto; 
  line-height: 1.2; 
}

.category-products {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
  gap: 1.5rem; 
  width: 100%;
  max-width: 1400px; 
  flex-grow: 1; 
  overflow-y: auto; 
  padding: 0.5rem; 
  min-height: 0; 
}

.category-product {
  /* Frosted glass effect for cards */
  background-color: rgba(248, 250, 252, 0.92); /* More opaque light grey for category cards */
  backdrop-filter: blur(12px); 
  border-radius: 0.75rem;
  border: 1px solid rgba(0, 0, 0, 0.08); /* Subtle dark border */
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15); 
  display: flex;
  flex-direction: column;
  transition: transform 0.25s ease-out, box-shadow 0.25s ease-out;
}
.category-product:hover {
  transform: translateY(-5px) scale(1.01); 
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); 
}

.category-product-image {
  height: 18rem; /* Increased image area height for better visibility */
  background-color: rgba(226, 232, 240, 0.85); /* Lighter slate (slate-200) with opacity */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.category-product-image img {
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
}

.category-product-details {
  padding: 1rem 1.2rem; /* Adjusted padding */
  flex-grow: 1; /* Make details fill available space */
  display: flex;
  flex-direction: column;
  color: var(--color-text); /* Darker text for contrast */
}

.category-product-name {
  font-size: 1.4rem; /* Increased font size */
  font-weight: 600;
  color: var(--color-primary-dark); /* Dark blue name */
  margin-bottom: 0.3rem;
  line-height: 1.3;
}

.category-product-description {
  font-size: 1.0rem; /* Increased font size */
  color: #475569; /* Darker grey description (slate-600) */
  flex-grow: 1;
  margin-bottom: 0.6rem;
  line-height: 1.4;
  opacity: 0.9;
  /* Allow description to wrap */
  overflow-wrap: break-word;
  word-break: break-word;
}

.category-product-price {
  font-size: 1.3rem; /* Increased font size */
  font-weight: 700;
  color: var(--color-secondary); /* Standard blue price */
  /* margin-top: auto; Removed - flex-grow on details handles this */
  display: flex; /* Use flexbox for layout */
  flex-direction: column; /* Stack prices vertically */
  align-items: flex-start; /* Align prices to the left */
  gap: 0.1rem; /* Add small gap between prices */
}
.category-product-price span { /* Style for original price */
   color: #64748b; /* Darker grey original price (slate-500) */
   opacity: 0.8;
   text-decoration: line-through; /* Ensure line-through */
   font-size: 0.9rem; /* Slightly smaller original price */
   font-weight: 500; /* Less bold */
}

/* Make discounted price red when original price span exists */
.category-product-price:has(span) {
  color: var(--color-accent); /* Red for discounted price */
}

/* Keep original price span grey even when discounted price is red */
.category-product-price:has(span) span {
  color: #64748b; /* Override back to darker grey */
  opacity: 0.8; /* Ensure opacity is maintained */
}

/* Adjust special banner specifically for category cards */
.category-product .product-special-banner {
  padding: 0.4rem 0.8rem; /* Reduced padding */
  font-size: 0.8rem; /* Smaller font */
  font-weight: 600; /* Slightly less bold */
  background-color: var(--color-accent); /* Explicitly set background */
  color: white; /* Explicitly set text color */
  text-align: center; /* Explicitly set text alignment */
  flex-shrink: 0; /* Prevent banner from shrinking */
}


/* Announcement slide */
.announcement-slide {
  /* background: linear-gradient(135deg, var(--color-primary-dark), var(--color-primary)); Removed base gradient */
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* padding: 3rem; Use slide padding */
  text-align: center;
  position: relative; /* Needed for pseudo-element */
  overflow: hidden; /* Ensure pseudo-element doesn't overflow */
}

/* Subtle background overlay for focus */
.announcement-slide::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 70%, rgba(0, 0, 0, 0.7) 100%),
              linear-gradient(135deg, var(--color-primary-dark), var(--color-primary)); /* Combine radial with original gradient */
  z-index: -1; /* Place behind content but above main animated background */
  opacity: 0.8; /* Adjust opacity as needed */
}

/* Explicitly set title and content color to white for contrast */
.announcement-title,
.announcement-content {
  color: white !important; /* Use !important to ensure override if needed */
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4); /* Add subtle text shadow */
}

.announcement-title {
  font-size: 4rem;
  font-weight: 900; /* Make title bolder */
  margin-bottom: 2rem;
}

.announcement-content {
  font-size: 2rem;
  max-width: 1000px;
  line-height: 1.5;
}

/* Add glow and float effect to announcement image */
.announcement-slide .announcement-image {
  filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5)); /* White glow */
  animation: imageFloat 6s ease-in-out infinite; /* Add slow float animation */
}

/* Background logo watermark for Product and Category slides */
.product-slide::before,
.category-slide::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Center the pseudo-element */
  width: 40%; /* Adjust size as needed */
  height: 40%; /* Adjust size as needed */
  background-image: url('/images/2_BMS_Logo.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  opacity: 0.04; /* Very low opacity for watermark effect */
  z-index: -1; /* Place behind slide content */
}

/* Admin button styles (within footer) */
.admin-button {
  background-color: rgba(255, 255, 255, 0.8); /* Lighter background */
  color: var(--color-primary-dark); /* Dark text */
  border: 1px solid rgba(0, 0, 0, 0.1); /* Subtle border */
  padding: 0.4rem 1rem; /* Reduced vertical padding */
  font-size: 0.85rem; /* Slightly smaller font */
  border-radius: 0.6rem; /* Slightly less rounded */
  cursor: pointer;
  font-weight: 500; /* Less bold */
  transition: all 0.2s ease-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Reduced shadow */
  flex-shrink: 0; /* Prevent buttons shrinking */
  line-height: 1.4; /* Adjust line height to fit padding */
  min-height: unset; /* Remove min-height from TV optimization */
}

.admin-button:hover {
  background-color: white; /* White background on hover */
  transform: translateY(-1px); /* Smaller lift effect */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); /* Adjusted hover shadow */
}

/* Slide indicators (within footer) */
.slide-indicators {
  display: flex;
  gap: 0.6rem; /* Slightly more gap */
  align-items: center;
  margin: 0 1.5rem; /* Add horizontal margin to create space */
  flex-shrink: 0; /* Prevent indicators from shrinking if space is tight */
}

.slide-indicator {
  width: 0.5rem; /* Make indicators square */
  height: 0.5rem; /* Make indicators square */
  background-color: rgba(255, 255, 255, 0.3); 
  border-radius: 1px; /* Minimal rounding for square */
  border: none;
  padding: 0;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.2s;
}

.slide-indicator.active {
  background-color: rgba(255, 255, 255, 0.8); 
  transform: scale(1.1);
}

/* Ticker animation */
.ticker-wrap {
  width: 100%;
  overflow: hidden;
}

.ticker {
  display: inline-block;
  white-space: nowrap;
  padding-right: 100%;
  animation: ticker 45s linear infinite; /* Slower ticker */
}

@keyframes ticker {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

/* TV Display Optimizations */
@media screen and (min-width: 1280px) {
  body {
    /* font-size: 24px; */ /* Removed base font size increase */
    line-height: 1.5;
  }
  
  .product-name {
    font-size: 42px;
    font-weight: bold;
    text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.5);
  }
  
  .product-price {
    font-size: 36px;
    font-weight: bold;
  }
  
  /* Removed button size increase for TV */
  /* button.admin-button { 
    min-width: 120px;
    min-height: 48px;
  } */
}

/* Footer layout adjustments */
.footer {
  background: linear-gradient(to right, var(--color-primary-dark), var(--color-primary));
  color: white;
  display: flex; 
  align-items: center;
  justify-content: space-between; /* Distribute space */
  padding: 0 1.5rem; 
  height: var(--footer-height); /* Use variable */
  font-size: 0.8rem;
  /* position: fixed; Removed fixed */
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 100; 
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
  flex-shrink: 0; /* Prevent footer from shrinking */
}

.footer-content {
  flex-grow: 1; /* Allow text to take up extra space */
  text-align: left; 
  flex-shrink: 1; /* Allow text to shrink if needed */
  min-width: 0; /* Prevent text overflow issues */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; /* Add ellipsis if text is too long */
}

/* Admin Controls within Footer */
.footer .admin-controls {
  /* position: static; Removed static */
  display: flex;
  align-items: center; 
  gap: 0.6rem; 
  flex-shrink: 0; 
  opacity: 0; /* Start hidden */
  pointer-events: none; /* Start non-interactive */
  transition: opacity 0.3s ease-in-out; /* Fade transition */
}

/* Show admin controls in footer when class is present */
.footer .admin-controls.controls-visible {
  opacity: 1;
  pointer-events: auto;
}

/* Removed fullscreen hiding rules */

/* Loading Animation Styles */
.loading-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  inset: 0;
  background: linear-gradient(-45deg, #e0f2fe, #ffffff, #cae9fc, #ffffff); /* Match main background */
  background-size: 400% 400%;
  animation: gradientAnimation 25s ease infinite;
  z-index: 200; /* Ensure it's above everything */
}

.loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Fading Blocks Loader Styles */
.fading-blocks-loader {
  width: 48px; /* Adjust size as needed */
  height: 48px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 4px;
}

.fading-blocks-loader .block {
  background-color: var(--color-primary);
  animation: fadeGrid 1.3s infinite ease-in-out;
}

/* Stagger animation delays */
.fading-blocks-loader .block:nth-child(1) { animation-delay: 0.2s; }
.fading-blocks-loader .block:nth-child(2) { animation-delay: 0.3s; }
.fading-blocks-loader .block:nth-child(3) { animation-delay: 0.4s; }
.fading-blocks-loader .block:nth-child(4) { animation-delay: 0.1s; }
.fading-blocks-loader .block:nth-child(5) { animation-delay: 0.2s; }
.fading-blocks-loader .block:nth-child(6) { animation-delay: 0.3s; }
.fading-blocks-loader .block:nth-child(7) { animation-delay: 0.0s; }
.fading-blocks-loader .block:nth-child(8) { animation-delay: 0.1s; }
.fading-blocks-loader .block:nth-child(9) { animation-delay: 0.2s; }

@keyframes fadeGrid {
  0%, 70%, 100% {
    transform: scale3D(1, 1, 1);
    opacity: 1;
  } 35% {
    transform: scale3D(0, 0, 1);
    opacity: 0;
  }
}

.loading-text {
  margin-top: 1.5rem;
  font-size: 1.25rem;
  font-weight: 500;
  color: var(--color-primary-dark);
}

/* Keyframes for subtle image pulse */
@keyframes imagePulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

/* Keyframes for image float animation */
@keyframes imageFloat {
  0% { transform: translateY(0); }
  50% { transform: translateY(-10px); } /* Adjust float height */
  100% { transform: translateY(0); }
}
