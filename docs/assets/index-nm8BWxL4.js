(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Nf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function a2(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var ah={exports:{}},Ja={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function o2(){if(T0)return Ja;T0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ja.Fragment=e,Ja.jsx=n,Ja.jsxs=n,Ja}var C0;function l2(){return C0||(C0=1,ah.exports=o2()),ah.exports}var m=l2(),oh={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function c2(){if(k0)return xe;k0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function R(M,F,J){this.props=M,this.context=F,this.refs=T,this.updater=J||x}R.prototype.isReactComponent={},R.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=R.prototype;function U(M,F,J){this.props=M,this.context=F,this.refs=T,this.updater=J||x}var z=U.prototype=new k;z.constructor=U,_(z,R.prototype),z.isPureReactComponent=!0;var A=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function I(M,F,J,Q,re,he){return J=he.ref,{$$typeof:t,type:M,key:F,ref:J!==void 0?J:null,props:he}}function C(M,F){return I(M.type,F,void 0,void 0,void 0,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function N(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return F[J]})}var D=/\/+/g;function V(M,F){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):F.toString(36)}function te(){}function se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(te,te):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ae(M,F,J,Q,re){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var le=!1;if(M===null)le=!0;else switch(he){case"bigint":case"string":case"number":le=!0;break;case"object":switch(M.$$typeof){case t:case e:le=!0;break;case g:return le=M._init,ae(le(M._payload),F,J,Q,re)}}if(le)return re=re(M),le=Q===""?"."+V(M,0):Q,A(re)?(J="",le!=null&&(J=le.replace(D,"$&/")+"/"),ae(re,F,J,"",function(_e){return _e})):re!=null&&(j(re)&&(re=C(re,J+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(D,"$&/")+"/")+le)),F.push(re)),1;le=0;var $e=Q===""?".":Q+":";if(A(M))for(var ce=0;ce<M.length;ce++)Q=M[ce],he=$e+V(Q,ce),le+=ae(Q,F,J,he,re);else if(ce=b(M),typeof ce=="function")for(M=ce.call(M),ce=0;!(Q=M.next()).done;)Q=Q.value,he=$e+V(Q,ce++),le+=ae(Q,F,J,he,re);else if(he==="object"){if(typeof M.then=="function")return ae(se(M),F,J,Q,re);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return le}function H(M,F,J){if(M==null)return M;var Q=[],re=0;return ae(M,Q,"","",function(he){return F.call(J,he,re++)}),Q}function X(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var ne=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ie(){}return xe.Children={map:H,forEach:function(M,F,J){H(M,function(){F.apply(this,arguments)},J)},count:function(M){var F=0;return H(M,function(){F++}),F},toArray:function(M){return H(M,function(F){return F})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=R,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=U,xe.StrictMode=s,xe.Suspense=h,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return L.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cloneElement=function(M,F,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Q=_({},M.props),re=M.key,he=void 0;if(F!=null)for(le in F.ref!==void 0&&(he=void 0),F.key!==void 0&&(re=""+F.key),F)!P.call(F,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&F.ref===void 0||(Q[le]=F[le]);var le=arguments.length-2;if(le===1)Q.children=J;else if(1<le){for(var $e=Array(le),ce=0;ce<le;ce++)$e[ce]=arguments[ce+2];Q.children=$e}return I(M.type,re,void 0,void 0,he,Q)},xe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},xe.createElement=function(M,F,J){var Q,re={},he=null;if(F!=null)for(Q in F.key!==void 0&&(he=""+F.key),F)P.call(F,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=F[Q]);var le=arguments.length-2;if(le===1)re.children=J;else if(1<le){for(var $e=Array(le),ce=0;ce<le;ce++)$e[ce]=arguments[ce+2];re.children=$e}if(M&&M.defaultProps)for(Q in le=M.defaultProps,le)re[Q]===void 0&&(re[Q]=le[Q]);return I(M,he,void 0,void 0,null,re)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:d,render:M}},xe.isValidElement=j,xe.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:X}},xe.memo=function(M,F){return{$$typeof:f,type:M,compare:F===void 0?null:F}},xe.startTransition=function(M){var F=L.T,J={};L.T=J;try{var Q=M(),re=L.S;re!==null&&re(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ie,ne)}catch(he){ne(he)}finally{L.T=F}},xe.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},xe.use=function(M){return L.H.use(M)},xe.useActionState=function(M,F,J){return L.H.useActionState(M,F,J)},xe.useCallback=function(M,F){return L.H.useCallback(M,F)},xe.useContext=function(M){return L.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,F){return L.H.useDeferredValue(M,F)},xe.useEffect=function(M,F,J){var Q=L.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(M,F)},xe.useId=function(){return L.H.useId()},xe.useImperativeHandle=function(M,F,J){return L.H.useImperativeHandle(M,F,J)},xe.useInsertionEffect=function(M,F){return L.H.useInsertionEffect(M,F)},xe.useLayoutEffect=function(M,F){return L.H.useLayoutEffect(M,F)},xe.useMemo=function(M,F){return L.H.useMemo(M,F)},xe.useOptimistic=function(M,F){return L.H.useOptimistic(M,F)},xe.useReducer=function(M,F,J){return L.H.useReducer(M,F,J)},xe.useRef=function(M){return L.H.useRef(M)},xe.useState=function(M){return L.H.useState(M)},xe.useSyncExternalStore=function(M,F,J){return L.H.useSyncExternalStore(M,F,J)},xe.useTransition=function(){return L.H.useTransition()},xe.version="19.1.0",xe}var A0;function Mf(){return A0||(A0=1,oh.exports=c2()),oh.exports}var E=Mf();const Yn=Nf(E);var lh={exports:{}},eo={},ch={exports:{}},uh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function u2(){return R0||(R0=1,function(t){function e(H,X){var ne=H.length;H.push(X);e:for(;0<ne;){var ie=ne-1>>>1,M=H[ie];if(0<a(M,X))H[ie]=X,H[ne]=M,ne=ie;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var X=H[0],ne=H.pop();if(ne!==X){H[0]=ne;e:for(var ie=0,M=H.length,F=M>>>1;ie<F;){var J=2*(ie+1)-1,Q=H[J],re=J+1,he=H[re];if(0>a(Q,ne))re<M&&0>a(he,Q)?(H[ie]=he,H[re]=ne,ie=re):(H[ie]=Q,H[J]=ne,ie=J);else if(re<M&&0>a(he,ne))H[ie]=he,H[re]=ne,ie=re;else break e}}return X}function a(H,X){var ne=H.sortIndex-X.sortIndex;return ne!==0?ne:H.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,v=null,b=3,x=!1,_=!1,T=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var X=n(f);X!==null;){if(X.callback===null)s(f);else if(X.startTime<=H)s(f),X.sortIndex=X.expirationTime,e(h,X);else break;X=n(f)}}function L(H){if(T=!1,A(H),!_)if(n(h)!==null)_=!0,P||(P=!0,V());else{var X=n(f);X!==null&&ae(L,X.startTime-H)}}var P=!1,I=-1,C=5,j=-1;function N(){return R?!0:!(t.unstable_now()-j<C)}function D(){if(R=!1,P){var H=t.unstable_now();j=H;var X=!0;try{e:{_=!1,T&&(T=!1,U(I),I=-1),x=!0;var ne=b;try{t:{for(A(H),v=n(h);v!==null&&!(v.expirationTime>H&&N());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,b=v.priorityLevel;var M=ie(v.expirationTime<=H);if(H=t.unstable_now(),typeof M=="function"){v.callback=M,A(H),X=!0;break t}v===n(h)&&s(h),A(H)}else s(h);v=n(h)}if(v!==null)X=!0;else{var F=n(f);F!==null&&ae(L,F.startTime-H),X=!1}}break e}finally{v=null,b=ne,x=!1}X=void 0}}finally{X?V():P=!1}}}var V;if(typeof z=="function")V=function(){z(D)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=D,V=function(){se.postMessage(null)}}else V=function(){k(D,0)};function ae(H,X){I=k(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ne=b;b=X;try{return H()}finally{b=ne}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=b;b=H;try{return X()}finally{b=ne}},t.unstable_scheduleCallback=function(H,X,ne){var ie=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ie+ne:ie):ne=ie,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ne+M,H={id:g++,callback:X,priorityLevel:H,startTime:ne,expirationTime:M,sortIndex:-1},ne>ie?(H.sortIndex=ne,e(f,H),n(h)===null&&H===n(f)&&(T?(U(I),I=-1):T=!0,ae(L,ne-ie))):(H.sortIndex=M,e(h,H),_||x||(_=!0,P||(P=!0,V()))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var X=b;return function(){var ne=b;b=X;try{return H.apply(this,arguments)}finally{b=ne}}}}(uh)),uh}var N0;function d2(){return N0||(N0=1,ch.exports=u2()),ch.exports}var dh={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function h2(){if(M0)return zt;M0=1;var t=Mf();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zt.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,g)},zt.flushSync=function(h){var f=c.T,g=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=g,s.d.f()}},zt.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},zt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},zt.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):g==="script"&&s.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},zt.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},zt.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin);s.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},zt.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},zt.requestFormReset=function(h){s.d.r(h)},zt.unstable_batchedUpdates=function(h,f){return h(f)},zt.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},zt.version="19.1.0",zt}var D0;function f2(){if(D0)return dh.exports;D0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dh.exports=h2(),dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function m2(){if(O0)return eo;O0=1;var t=d2(),e=Mf(),n=f2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function h(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===u)return d(p),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,S=p.child;S;){if(S===o){w=!0,o=p,u=y;break}if(S===u){w=!0,u=p,o=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===o){w=!0,o=y,u=p;break}if(S===u){w=!0,u=y,o=p;break}S=S.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function f(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=f(i),r!==null)return r;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case z:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case A:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:se(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return se(i(r))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ie=[],M=-1;function F(i){return{current:i}}function J(i){0>M||(i.current=ie[M],ie[M]=null,M--)}function Q(i,r){M++,ie[M]=i.current,i.current=r}var re=F(null),he=F(null),le=F(null),$e=F(null);function ce(i,r){switch(Q(le,r),Q(he,i),Q(re,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?e0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=e0(r),i=t0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(re),Q(re,i)}function _e(){J(re),J(he),J(le)}function Ie(i){i.memoizedState!==null&&Q($e,i);var r=re.current,o=t0(r,i.type);r!==o&&(Q(he,i),Q(re,o))}function ye(i){he.current===i&&(J(re),J(he)),$e.current===i&&(J($e),Ka._currentValue=ne)}var Fe=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,Te=t.unstable_requestPaint,st=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,kn=t.unstable_NormalPriority,un=t.unstable_LowPriority,Si=t.unstable_IdlePriority,yt=t.log,dn=t.unstable_setDisableYieldValue,Ze=null,Be=null;function vt(i){if(typeof yt=="function"&&dn(i),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ze,i)}catch{}}var Ct=Math.clz32?Math.clz32:hn,Fo=Math.log,ji=Math.LN2;function hn(i){return i>>>=0,i===0?32:31-(Fo(i)/ji|0)|0}var Un=256,us=4194304;function ds(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Go(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=ds(u):(w&=S,w!==0?p=ds(w):o||(o=S&~i,o!==0&&(p=ds(o))))):(S=u&~y,S!==0?p=ds(S):w!==0?p=ds(w):o||(o=u&~i,o!==0&&(p=ds(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function ia(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Y1(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(){var i=Un;return Un<<=1,(Un&4194048)===0&&(Un=256),i}function Bm(){var i=us;return us<<=1,(us&62914560)===0&&(us=4194304),i}function Xc(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function sa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function K1(i,r,o,u,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,O=i.expirationTimes,G=i.hiddenUpdates;for(o=w&~o;0<o;){var Z=31-Ct(o),ee=1<<Z;S[Z]=0,O[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var K=Y[Z];K!==null&&(K.lane&=-536870913)}o&=~ee}u!==0&&Um(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~r))}function Um(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ct(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Vm(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ct(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function Qc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qm(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:x0(i.type))}function X1(i,r){var o=X.p;try{return X.p=i,r()}finally{X.p=o}}var Ei=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Ei,It="__reactProps$"+Ei,Hs="__reactContainer$"+Ei,Wc="__reactEvents$"+Ei,Q1="__reactListeners$"+Ei,Z1="__reactHandles$"+Ei,Hm="__reactResources$"+Ei,ra="__reactMarker$"+Ei;function Jc(i){delete i[Dt],delete i[It],delete i[Wc],delete i[Q1],delete i[Z1]}function $s(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Hs]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=r0(i);i!==null;){if(o=i[Dt])return o;i=r0(i)}return r}i=o,o=i.parentNode}return null}function Is(i){if(i=i[Dt]||i[Hs]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function aa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Fs(i){var r=i[Hm];return r||(r=i[Hm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function bt(i){i[ra]=!0}var $m=new Set,Im={};function hs(i,r){Gs(i,r),Gs(i+"Capture",r)}function Gs(i,r){for(Im[i]=r,i=0;i<r.length;i++)$m.add(r[i])}var W1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fm={},Gm={};function J1(i){return Fe.call(Gm,i)?!0:Fe.call(Fm,i)?!1:W1.test(i)?Gm[i]=!0:(Fm[i]=!0,!1)}function Yo(i,r,o){if(J1(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ko(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function ni(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var eu,Ym;function Ys(i){if(eu===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);eu=r&&r[1]||"",Ym=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eu+i+Ym}var tu=!1;function nu(i,r){if(!i||tu)return"";tu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var Y=K}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(K){Y=K}i.call(ee.prototype)}}else{try{throw Error()}catch(K){Y=K}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var O=w.split(`
`),G=S.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===G.length)for(u=O.length-1,p=G.length-1;1<=u&&0<=p&&O[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==G[p]){var Z=`
`+O[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=p);break}}}finally{tu=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ys(o):""}function e_(i){switch(i.tag){case 26:case 27:case 5:return Ys(i.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 15:return nu(i.type,!1);case 11:return nu(i.type.render,!1);case 1:return nu(i.type,!0);case 31:return Ys("Activity");default:return""}}function Km(i){try{var r="";do r+=e_(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xm(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function t_(i){var r=Xm(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xo(i){i._valueTracker||(i._valueTracker=t_(i))}function Qm(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Xm(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Qo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var n_=/[\n"\\]/g;function mn(i){return i.replace(n_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function iu(i,r,o,u,p,y,w,S){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?su(i,w,fn(r)):o!=null?su(i,w,fn(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+fn(S):i.removeAttribute("name")}function Zm(i,r,o,u,p,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function su(i,r,o){r==="number"&&Qo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Wm(i,r,o){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+fn(o):""}function Jm(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=fn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Xs(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var i_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ep(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||i_.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function tp(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&ep(i,p,u)}else for(var y in r)r.hasOwnProperty(y)&&ep(i,y,r[y])}function ru(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(i){return r_.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var au=null;function ou(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qs=null,Zs=null;function np(i){var r=Is(i);if(r&&(i=r.stateNode)){var o=i[It]||null;e:switch(i=r.stateNode,r.type){case"input":if(iu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[It]||null;if(!p)throw Error(s(90));iu(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Qm(u)}break e;case"textarea":Wm(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var lu=!1;function ip(i,r,o){if(lu)return i(r,o);lu=!0;try{var u=i(r);return u}finally{if(lu=!1,(Qs!==null||Zs!==null)&&(Ll(),Qs&&(r=Qs,i=Zs,Zs=Qs=null,np(r),i)))for(r=0;r<i.length;r++)np(i[r])}}function oa(i,r){var o=i.stateNode;if(o===null)return null;var u=o[It]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(ii)try{var la={};Object.defineProperty(la,"passive",{get:function(){cu=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{cu=!1}var Ti=null,uu=null,Wo=null;function sp(){if(Wo)return Wo;var i,r=uu,o=r.length,u,p="value"in Ti?Ti.value:Ti.textContent,y=p.length;for(i=0;i<o&&r[i]===p[i];i++);var w=o-i;for(u=1;u<=w&&r[o-u]===p[y-u];u++);return Wo=p.slice(i,1<u?1-u:void 0)}function Jo(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function el(){return!0}function rp(){return!1}function Ft(i){function r(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?el:rp,this.isPropagationStopped=rp,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),r}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Ft(fs),ca=g({},fs,{view:0,detail:0}),a_=Ft(ca),du,hu,ua,nl=g({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ua&&(ua&&i.type==="mousemove"?(du=i.screenX-ua.screenX,hu=i.screenY-ua.screenY):hu=du=0,ua=i),du)},movementY:function(i){return"movementY"in i?i.movementY:hu}}),ap=Ft(nl),o_=g({},nl,{dataTransfer:0}),l_=Ft(o_),c_=g({},ca,{relatedTarget:0}),fu=Ft(c_),u_=g({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),d_=Ft(u_),h_=g({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f_=Ft(h_),m_=g({},fs,{data:0}),op=Ft(m_),p_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v_(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=y_[i])?!!r[i]:!1}function mu(){return v_}var b_=g({},ca,{key:function(i){if(i.key){var r=p_[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Jo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?g_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(i){return i.type==="keypress"?Jo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),x_=Ft(b_),w_=g({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=Ft(w_),__=g({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),S_=Ft(__),j_=g({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),E_=Ft(j_),T_=g({},nl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),C_=Ft(T_),k_=g({},fs,{newState:0,oldState:0}),A_=Ft(k_),R_=[9,13,27,32],pu=ii&&"CompositionEvent"in window,da=null;ii&&"documentMode"in document&&(da=document.documentMode);var N_=ii&&"TextEvent"in window&&!da,cp=ii&&(!pu||da&&8<da&&11>=da),up=" ",dp=!1;function hp(i,r){switch(i){case"keyup":return R_.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ws=!1;function M_(i,r){switch(i){case"compositionend":return fp(r);case"keypress":return r.which!==32?null:(dp=!0,up);case"textInput":return i=r.data,i===up&&dp?null:i;default:return null}}function D_(i,r){if(Ws)return i==="compositionend"||!pu&&hp(i,r)?(i=sp(),Wo=uu=Ti=null,Ws=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cp&&r.locale!=="ko"?null:r.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!O_[i.type]:r==="textarea"}function pp(i,r,o,u){Qs?Zs?Zs.push(u):Zs=[u]:Qs=u,r=Hl(r,"onChange"),0<r.length&&(o=new tl("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ha=null,fa=null;function z_(i){Xy(i,0)}function il(i){var r=aa(i);if(Qm(r))return i}function gp(i,r){if(i==="change")return r}var yp=!1;if(ii){var gu;if(ii){var yu="oninput"in document;if(!yu){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),yu=typeof vp.oninput=="function"}gu=yu}else gu=!1;yp=gu&&(!document.documentMode||9<document.documentMode)}function bp(){ha&&(ha.detachEvent("onpropertychange",xp),fa=ha=null)}function xp(i){if(i.propertyName==="value"&&il(fa)){var r=[];pp(r,fa,i,ou(i)),ip(z_,r)}}function L_(i,r,o){i==="focusin"?(bp(),ha=r,fa=o,ha.attachEvent("onpropertychange",xp)):i==="focusout"&&bp()}function P_(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return il(fa)}function B_(i,r){if(i==="click")return il(r)}function U_(i,r){if(i==="input"||i==="change")return il(r)}function V_(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Zt=typeof Object.is=="function"?Object.is:V_;function ma(i,r){if(Zt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Fe.call(r,p)||!Zt(i[p],r[p]))return!1}return!0}function wp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _p(i,r){var o=wp(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wp(o)}}function Sp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Sp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function jp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Qo(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Qo(i.document)}return r}function vu(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var q_=ii&&"documentMode"in document&&11>=document.documentMode,Js=null,bu=null,pa=null,xu=!1;function Ep(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xu||Js==null||Js!==Qo(u)||(u=Js,"selectionStart"in u&&vu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pa&&ma(pa,u)||(pa=u,u=Hl(bu,"onSelect"),0<u.length&&(r=new tl("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Js)))}function ms(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var er={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},wu={},Tp={};ii&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ps(i){if(wu[i])return wu[i];if(!er[i])return i;var r=er[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Tp)return wu[i]=r[o];return i}var Cp=ps("animationend"),kp=ps("animationiteration"),Ap=ps("animationstart"),H_=ps("transitionrun"),$_=ps("transitionstart"),I_=ps("transitioncancel"),Rp=ps("transitionend"),Np=new Map,_u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_u.push("scrollEnd");function An(i,r){Np.set(i,r),hs(r,[i])}var Mp=new WeakMap;function pn(i,r){if(typeof i=="object"&&i!==null){var o=Mp.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Km(r)},Mp.set(i,r),r)}return{value:i,source:r,stack:Km(r)}}var gn=[],tr=0,Su=0;function sl(){for(var i=tr,r=Su=tr=0;r<i;){var o=gn[r];gn[r++]=null;var u=gn[r];gn[r++]=null;var p=gn[r];gn[r++]=null;var y=gn[r];if(gn[r++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&Dp(o,p,y)}}function rl(i,r,o,u){gn[tr++]=i,gn[tr++]=r,gn[tr++]=o,gn[tr++]=u,Su|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ju(i,r,o,u){return rl(i,r,o,u),al(i)}function nr(i,r){return rl(i,null,null,r),al(i)}function Dp(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-Ct(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function al(i){if(50<Va)throw Va=0,Rd=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ir={};function F_(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(i,r,o,u){return new F_(i,r,o,u)}function Eu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function si(i,r){var o=i.alternate;return o===null?(o=Wt(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Op(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ol(i,r,o,u,p,y){var w=0;if(u=i,typeof i=="function")Eu(i)&&(w=1);else if(typeof i=="string")w=YS(i,o,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Wt(31,o,r,p),i.elementType=j,i.lanes=y,i;case _:return gs(o.children,p,y,r);case T:w=8,p|=24;break;case R:return i=Wt(12,o,r,p|2),i.elementType=R,i.lanes=y,i;case L:return i=Wt(13,o,r,p),i.elementType=L,i.lanes=y,i;case P:return i=Wt(19,o,r,p),i.elementType=P,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case z:w=10;break e;case U:w=9;break e;case A:w=11;break e;case I:w=14;break e;case C:w=16,u=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Wt(w,o,r,p),r.elementType=i,r.type=u,r.lanes=y,r}function gs(i,r,o,u){return i=Wt(7,i,u,r),i.lanes=o,i}function Tu(i,r,o){return i=Wt(6,i,null,r),i.lanes=o,i}function Cu(i,r,o){return r=Wt(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var sr=[],rr=0,ll=null,cl=0,yn=[],vn=0,ys=null,ri=1,ai="";function vs(i,r){sr[rr++]=cl,sr[rr++]=ll,ll=i,cl=r}function zp(i,r,o){yn[vn++]=ri,yn[vn++]=ai,yn[vn++]=ys,ys=i;var u=ri;i=ai;var p=32-Ct(u)-1;u&=~(1<<p),o+=1;var y=32-Ct(r)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,ri=1<<32-Ct(r)+p|o<<p|u,ai=y+i}else ri=1<<y|o<<p|u,ai=i}function ku(i){i.return!==null&&(vs(i,1),zp(i,1,0))}function Au(i){for(;i===ll;)ll=sr[--rr],sr[rr]=null,cl=sr[--rr],sr[rr]=null;for(;i===ys;)ys=yn[--vn],yn[vn]=null,ai=yn[--vn],yn[vn]=null,ri=yn[--vn],yn[vn]=null}var qt=null,rt=null,Oe=!1,bs=null,Vn=!1,Ru=Error(s(519));function xs(i){var r=Error(s(418,""));throw va(pn(r,i)),Ru}function Lp(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Dt]=i,r[It]=u,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Ha.length;o++)ke(Ha[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Zm(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xo(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Jm(r,u.value,u.defaultValue,u.children),Xo(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Jy(r.textContent,o)?(u.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),u.onScroll!=null&&ke("scroll",r),u.onScrollEnd!=null&&ke("scrollend",r),u.onClick!=null&&(r.onclick=$l),r=!0):r=!1,r||xs(i)}function Pp(i){for(qt=i.return;qt;)switch(qt.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function ga(i){if(i!==qt)return!1;if(!Oe)return Pp(i),Oe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Gd(i.type,i.memoizedProps)),o=!o),o&&rt&&xs(i),Pp(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){rt=Nn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}rt=null}}else r===27?(r=rt,Hi(i.type)?(i=Qd,Qd=null,rt=i):rt=r):rt=qt?Nn(i.stateNode.nextSibling):null;return!0}function ya(){rt=qt=null,Oe=!1}function Bp(){var i=bs;return i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i),bs=null),i}function va(i){bs===null?bs=[i]:bs.push(i)}var Nu=F(null),ws=null,oi=null;function Ci(i,r,o){Q(Nu,r._currentValue),r._currentValue=o}function li(i){i._currentValue=Nu.current,J(Nu)}function Mu(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Du(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var O=0;O<r.length;O++)if(S.context===r[O]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Mu(y.return,o,i),u||(w=null);break e}y=S.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Mu(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ba(i,r,o,u){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var S=p.type;Zt(p.pendingProps.value,w.value)||(i!==null?i.push(S):i=[S])}}else if(p===$e.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ka):i=[Ka])}p=p.return}i!==null&&Du(r,i,o,u),r.flags|=262144}function ul(i){for(i=i.firstContext;i!==null;){if(!Zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _s(i){ws=i,oi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ot(i){return Up(ws,i)}function dl(i,r){return ws===null&&_s(i),Up(i,r)}function Up(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},oi===null){if(i===null)throw Error(s(308));oi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else oi=oi.next=r;return o}var G_=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},Y_=t.unstable_scheduleCallback,K_=t.unstable_NormalPriority,pt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(){return{controller:new G_,data:new Map,refCount:0}}function xa(i){i.refCount--,i.refCount===0&&Y_(K_,function(){i.controller.abort()})}var wa=null,zu=0,ar=0,or=null;function X_(i,r){if(wa===null){var o=wa=[];zu=0,ar=Pd(),or={status:"pending",value:void 0,then:function(u){o.push(u)}}}return zu++,r.then(Vp,Vp),r}function Vp(){if(--zu===0&&wa!==null){or!==null&&(or.status="fulfilled");var i=wa;wa=null,ar=0,or=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Q_(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var qp=H.S;H.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&X_(i,r),qp!==null&&qp(i,r)};var Ss=F(null);function Lu(){var i=Ss.current;return i!==null?i:Ye.pooledCache}function hl(i,r){r===null?Q(Ss,Ss.current):Q(Ss,r.pool)}function Hp(){var i=Lu();return i===null?null:{parent:pt._currentValue,pool:i}}var _a=Error(s(460)),$p=Error(s(474)),fl=Error(s(542)),Pu={then:function(){}};function Ip(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ml(){}function Fp(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ml,ml),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Yp(i),i;default:if(typeof r.status=="string")r.then(ml,ml);else{if(i=Ye,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Yp(i),i}throw Sa=r,_a}}var Sa=null;function Gp(){if(Sa===null)throw Error(s(459));var i=Sa;return Sa=null,i}function Yp(i){if(i===_a||i===fl)throw Error(s(483))}var ki=!1;function Bu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ai(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ri(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ze&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=al(i),Dp(i,null,o),r}return rl(i,u,r,o),al(i)}function ja(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Vm(i,o)}}function Vu(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qu=!1;function Ea(){if(qu){var i=or;if(i!==null)throw i}}function Ta(i,r,o,u){qu=!1;var p=i.updateQueue;ki=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var O=S,G=O.next;O.next=null,w===null?y=G:w.next=G,w=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==w&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=O))}if(y!==null){var ee=p.baseState;w=0,Z=G=O=null,S=y;do{var Y=S.lane&-536870913,K=Y!==S.lane;if(K?(Ne&Y)===Y:(u&Y)===Y){Y!==0&&Y===ar&&(qu=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ve=i,fe=S;Y=r;var qe=o;switch(fe.tag){case 1:if(ve=fe.payload,typeof ve=="function"){ee=ve.call(qe,ee,Y);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=fe.payload,Y=typeof ve=="function"?ve.call(qe,ee,Y):ve,Y==null)break e;ee=g({},ee,Y);break e;case 2:ki=!0}}Y=S.callback,Y!==null&&(i.flags|=64,K&&(i.flags|=8192),K=p.callbacks,K===null?p.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=K,O=ee):Z=Z.next=K,w|=Y;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;K=S,S=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);Z===null&&(O=ee),p.baseState=O,p.firstBaseUpdate=G,p.lastBaseUpdate=Z,y===null&&(p.shared.lanes=0),Bi|=w,i.lanes=w,i.memoizedState=ee}}function Kp(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Xp(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Kp(o[i],r)}var lr=F(null),pl=F(0);function Qp(i,r){i=pi,Q(pl,i),Q(lr,r),pi=i|r.baseLanes}function Hu(){Q(pl,pi),Q(lr,lr.current)}function $u(){pi=pl.current,J(lr),J(pl)}var Ni=0,je=null,Ue=null,ft=null,gl=!1,cr=!1,js=!1,yl=0,Ca=0,ur=null,Z_=0;function lt(){throw Error(s(321))}function Iu(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Zt(i[o],r[o]))return!1;return!0}function Fu(i,r,o,u,p,y){return Ni=y,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=i===null||i.memoizedState===null?Dg:Og,js=!1,y=o(u,p),js=!1,cr&&(y=Wp(r,o,u,p)),Zp(i),y}function Zp(i){H.H=Sl;var r=Ue!==null&&Ue.next!==null;if(Ni=0,ft=Ue=je=null,gl=!1,Ca=0,ur=null,r)throw Error(s(300));i===null||xt||(i=i.dependencies,i!==null&&ul(i)&&(xt=!0))}function Wp(i,r,o,u){je=i;var p=0;do{if(cr&&(ur=null),Ca=0,cr=!1,25<=p)throw Error(s(301));if(p+=1,ft=Ue=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=sS,y=r(o,u)}while(cr);return y}function W_(){var i=H.H,r=i.useState()[0];return r=typeof r.then=="function"?ka(r):r,i=i.useState()[0],(Ue!==null?Ue.memoizedState:null)!==i&&(je.flags|=1024),r}function Gu(){var i=yl!==0;return yl=0,i}function Yu(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Ku(i){if(gl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}gl=!1}Ni=0,ft=Ue=je=null,cr=!1,Ca=yl=0,ur=null}function Gt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?je.memoizedState=ft=i:ft=ft.next=i,ft}function mt(){if(Ue===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=Ue.next;var r=ft===null?je.memoizedState:ft.next;if(r!==null)ft=r,Ue=i;else{if(i===null)throw je.alternate===null?Error(s(467)):Error(s(310));Ue=i,i={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ft===null?je.memoizedState=ft=i:ft=ft.next=i}return ft}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ka(i){var r=Ca;return Ca+=1,ur===null&&(ur=[]),i=Fp(ur,i,r),r=je,(ft===null?r.memoizedState:ft.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Dg:Og),i}function vl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ka(i);if(i.$$typeof===z)return Ot(i)}throw Error(s(438,String(i)))}function Qu(i){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Xu(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=N;return r.index++,o}function ci(i,r){return typeof r=="function"?r(i):r}function bl(i){var r=mt();return Zu(r,Ue,i)}function Zu(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}r.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var S=w=null,O=null,G=r,Z=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ne&ee)===ee:(Ni&ee)===ee){var Y=G.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===ar&&(Z=!0);else if((Ni&Y)===Y){G=G.next,Y===ar&&(Z=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=ee,w=y):O=O.next=ee,je.lanes|=Y,Bi|=Y;ee=G.action,js&&o(y,ee),y=G.hasEagerState?G.eagerState:o(y,ee)}else Y={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=Y,w=y):O=O.next=Y,je.lanes|=ee,Bi|=ee;G=G.next}while(G!==null&&G!==r);if(O===null?w=y:O.next=S,!Zt(y,i.memoizedState)&&(xt=!0,Z&&(o=or,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=O,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Wu(i){var r=mt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Zt(y,r.memoizedState)||(xt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Jp(i,r,o){var u=je,p=mt(),y=Oe;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!Zt((Ue||p).memoizedState,o);w&&(p.memoizedState=o,xt=!0),p=p.queue;var S=ng.bind(null,u,p,i);if(Aa(2048,8,S,[i]),p.getSnapshot!==r||w||ft!==null&&ft.memoizedState.tag&1){if(u.flags|=2048,dr(9,xl(),tg.bind(null,u,p,o,r),null),Ye===null)throw Error(s(349));y||(Ni&124)!==0||eg(u,r,o)}return o}function eg(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=Xu(),je.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function tg(i,r,o,u){r.value=o,r.getSnapshot=u,ig(r)&&sg(i)}function ng(i,r,o){return o(function(){ig(r)&&sg(i)})}function ig(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Zt(i,o)}catch{return!0}}function sg(i){var r=nr(i,2);r!==null&&sn(r,i,2)}function Ju(i){var r=Gt();if(typeof i=="function"){var o=i;if(i=o(),js){vt(!0);try{o()}finally{vt(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:i},r}function rg(i,r,o,u){return i.baseState=o,Zu(i,Ue,typeof u=="function"?u:ci)}function J_(i,r,o,u,p){if(_l(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};H.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,ag(r,y)):(y.next=o.next,r.pending=o.next=y)}}function ag(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var y=H.T,w={};H.T=w;try{var S=o(p,u),O=H.S;O!==null&&O(w,S),og(i,r,S)}catch(G){ed(i,r,G)}finally{H.T=y}}else try{y=o(p,u),og(i,r,y)}catch(G){ed(i,r,G)}}function og(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){lg(i,r,u)},function(u){return ed(i,r,u)}):lg(i,r,o)}function lg(i,r,o){r.status="fulfilled",r.value=o,cg(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,ag(i,o)))}function ed(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,cg(r),r=r.next;while(r!==u)}i.action=null}function cg(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function ug(i,r){return r}function dg(i,r){if(Oe){var o=Ye.formState;if(o!==null){e:{var u=je;if(Oe){if(rt){t:{for(var p=rt,y=Vn;p.nodeType!==8;){if(!y){p=null;break t}if(p=Nn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){rt=Nn(p.nextSibling),u=p.data==="F!";break e}}xs(u)}u=!1}u&&(r=o[0])}}return o=Gt(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:r},o.queue=u,o=Rg.bind(null,je,u),u.dispatch=o,u=Ju(!1),y=rd.bind(null,je,!1,u.queue),u=Gt(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=J_.bind(null,je,p,y,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function hg(i){var r=mt();return fg(r,Ue,i)}function fg(i,r,o){if(r=Zu(i,r,ug)[0],i=bl(ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ka(r)}catch(w){throw w===_a?fl:w}else u=r;r=mt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(je.flags|=2048,dr(9,xl(),eS.bind(null,p,o),null)),[u,y,i]}function eS(i,r){i.action=r}function mg(i){var r=mt(),o=Ue;if(o!==null)return fg(r,o,i);mt(),r=r.memoizedState,o=mt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function dr(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=je.updateQueue,r===null&&(r=Xu(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function xl(){return{destroy:void 0,resource:void 0}}function pg(){return mt().memoizedState}function wl(i,r,o,u){var p=Gt();u=u===void 0?null:u,je.flags|=i,p.memoizedState=dr(1|r,xl(),o,u)}function Aa(i,r,o,u){var p=mt();u=u===void 0?null:u;var y=p.memoizedState.inst;Ue!==null&&u!==null&&Iu(u,Ue.memoizedState.deps)?p.memoizedState=dr(r,y,o,u):(je.flags|=i,p.memoizedState=dr(1|r,y,o,u))}function gg(i,r){wl(8390656,8,i,r)}function yg(i,r){Aa(2048,8,i,r)}function vg(i,r){return Aa(4,2,i,r)}function bg(i,r){return Aa(4,4,i,r)}function xg(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function wg(i,r,o){o=o!=null?o.concat([i]):null,Aa(4,4,xg.bind(null,r,i),o)}function td(){}function _g(i,r){var o=mt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Iu(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Sg(i,r){var o=mt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Iu(r,u[1]))return u[0];if(u=i(),js){vt(!0);try{i()}finally{vt(!1)}}return o.memoizedState=[u,r],u}function nd(i,r,o){return o===void 0||(Ni&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=Ty(),je.lanes|=i,Bi|=i,o)}function jg(i,r,o,u){return Zt(o,r)?o:lr.current!==null?(i=nd(i,o,u),Zt(i,r)||(xt=!0),i):(Ni&42)===0?(xt=!0,i.memoizedState=o):(i=Ty(),je.lanes|=i,Bi|=i,r)}function Eg(i,r,o,u,p){var y=X.p;X.p=y!==0&&8>y?y:8;var w=H.T,S={};H.T=S,rd(i,!1,r,o);try{var O=p(),G=H.S;if(G!==null&&G(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=Q_(O,u);Ra(i,r,Z,nn(i))}else Ra(i,r,u,nn(i))}catch(ee){Ra(i,r,{then:function(){},status:"rejected",reason:ee},nn())}finally{X.p=y,H.T=w}}function tS(){}function id(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=Tg(i).queue;Eg(i,p,r,ne,o===null?tS:function(){return Cg(i),o(u)})}function Tg(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:ne},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Cg(i){var r=Tg(i).next.queue;Ra(i,r,{},nn())}function sd(){return Ot(Ka)}function kg(){return mt().memoizedState}function Ag(){return mt().memoizedState}function nS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=nn();i=Ai(o);var u=Ri(r,i,o);u!==null&&(sn(u,r,o),ja(u,r,o)),r={cache:Ou()},i.payload=r;return}r=r.return}}function iS(i,r,o){var u=nn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},_l(i)?Ng(r,o):(o=ju(i,r,o,u),o!==null&&(sn(o,i,u),Mg(o,r,u)))}function Rg(i,r,o){var u=nn();Ra(i,r,o,u)}function Ra(i,r,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(_l(i))Ng(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,S=y(w,o);if(p.hasEagerState=!0,p.eagerState=S,Zt(S,w))return rl(i,r,p,0),Ye===null&&sl(),!1}catch{}finally{}if(o=ju(i,r,p,u),o!==null)return sn(o,i,u),Mg(o,r,u),!0}return!1}function rd(i,r,o,u){if(u={lane:2,revertLane:Pd(),action:u,hasEagerState:!1,eagerState:null,next:null},_l(i)){if(r)throw Error(s(479))}else r=ju(i,o,u,2),r!==null&&sn(r,i,2)}function _l(i){var r=i.alternate;return i===je||r!==null&&r===je}function Ng(i,r){cr=gl=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Mg(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Vm(i,o)}}var Sl={readContext:Ot,use:vl,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},Dg={readContext:Ot,use:vl,useCallback:function(i,r){return Gt().memoizedState=[i,r===void 0?null:r],i},useContext:Ot,useEffect:gg,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,wl(4194308,4,xg.bind(null,r,i),o)},useLayoutEffect:function(i,r){return wl(4194308,4,i,r)},useInsertionEffect:function(i,r){wl(4,2,i,r)},useMemo:function(i,r){var o=Gt();r=r===void 0?null:r;var u=i();if(js){vt(!0);try{i()}finally{vt(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Gt();if(o!==void 0){var p=o(r);if(js){vt(!0);try{o(r)}finally{vt(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=iS.bind(null,je,i),[u.memoizedState,i]},useRef:function(i){var r=Gt();return i={current:i},r.memoizedState=i},useState:function(i){i=Ju(i);var r=i.queue,o=Rg.bind(null,je,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:td,useDeferredValue:function(i,r){var o=Gt();return nd(o,i,r)},useTransition:function(){var i=Ju(!1);return i=Eg.bind(null,je,i.queue,!0,!1),Gt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=je,p=Gt();if(Oe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ye===null)throw Error(s(349));(Ne&124)!==0||eg(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,gg(ng.bind(null,u,y,i),[i]),u.flags|=2048,dr(9,xl(),tg.bind(null,u,y,o,r),null),o},useId:function(){var i=Gt(),r=Ye.identifierPrefix;if(Oe){var o=ai,u=ri;o=(u&~(1<<32-Ct(u)-1)).toString(32)+o,r=""+r+"R"+o,o=yl++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=Z_++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:sd,useFormState:dg,useActionState:dg,useOptimistic:function(i){var r=Gt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=rd.bind(null,je,!0,o),o.dispatch=r,[i,r]},useMemoCache:Qu,useCacheRefresh:function(){return Gt().memoizedState=nS.bind(null,je)}},Og={readContext:Ot,use:vl,useCallback:_g,useContext:Ot,useEffect:yg,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:bg,useMemo:Sg,useReducer:bl,useRef:pg,useState:function(){return bl(ci)},useDebugValue:td,useDeferredValue:function(i,r){var o=mt();return jg(o,Ue.memoizedState,i,r)},useTransition:function(){var i=bl(ci)[0],r=mt().memoizedState;return[typeof i=="boolean"?i:ka(i),r]},useSyncExternalStore:Jp,useId:kg,useHostTransitionStatus:sd,useFormState:hg,useActionState:hg,useOptimistic:function(i,r){var o=mt();return rg(o,Ue,i,r)},useMemoCache:Qu,useCacheRefresh:Ag},sS={readContext:Ot,use:vl,useCallback:_g,useContext:Ot,useEffect:yg,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:bg,useMemo:Sg,useReducer:Wu,useRef:pg,useState:function(){return Wu(ci)},useDebugValue:td,useDeferredValue:function(i,r){var o=mt();return Ue===null?nd(o,i,r):jg(o,Ue.memoizedState,i,r)},useTransition:function(){var i=Wu(ci)[0],r=mt().memoizedState;return[typeof i=="boolean"?i:ka(i),r]},useSyncExternalStore:Jp,useId:kg,useHostTransitionStatus:sd,useFormState:mg,useActionState:mg,useOptimistic:function(i,r){var o=mt();return Ue!==null?rg(o,Ue,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:Ag},hr=null,Na=0;function jl(i){var r=Na;return Na+=1,hr===null&&(hr=[]),Fp(hr,i,r)}function Ma(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function El(i,r){throw r.$$typeof===v?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function zg(i){var r=i._init;return r(i._payload)}function Lg(i){function r(q,B){if(i){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function o(q,B){if(!i)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function p(q,B){return q=si(q,B),q.index=0,q.sibling=null,q}function y(q,B,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=67108866,B):$):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function w(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function S(q,B,$,W){return B===null||B.tag!==6?(B=Tu($,q.mode,W),B.return=q,B):(B=p(B,$),B.return=q,B)}function O(q,B,$,W){var oe=$.type;return oe===_?Z(q,B,$.props.children,W,$.key):B!==null&&(B.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===C&&zg(oe)===B.type)?(B=p(B,$.props),Ma(B,$),B.return=q,B):(B=ol($.type,$.key,$.props,null,q.mode,W),Ma(B,$),B.return=q,B)}function G(q,B,$,W){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=Cu($,q.mode,W),B.return=q,B):(B=p(B,$.children||[]),B.return=q,B)}function Z(q,B,$,W,oe){return B===null||B.tag!==7?(B=gs($,q.mode,W,oe),B.return=q,B):(B=p(B,$),B.return=q,B)}function ee(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Tu(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return $=ol(B.type,B.key,B.props,null,q.mode,$),Ma($,B),$.return=q,$;case x:return B=Cu(B,q.mode,$),B.return=q,B;case C:var W=B._init;return B=W(B._payload),ee(q,B,$)}if(ae(B)||V(B))return B=gs(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return ee(q,jl(B),$);if(B.$$typeof===z)return ee(q,dl(q,B),$);El(q,B)}return null}function Y(q,B,$,W){var oe=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return oe!==null?null:S(q,B,""+$,W);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===oe?O(q,B,$,W):null;case x:return $.key===oe?G(q,B,$,W):null;case C:return oe=$._init,$=oe($._payload),Y(q,B,$,W)}if(ae($)||V($))return oe!==null?null:Z(q,B,$,W,null);if(typeof $.then=="function")return Y(q,B,jl($),W);if($.$$typeof===z)return Y(q,B,dl(q,$),W);El(q,$)}return null}function K(q,B,$,W,oe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return q=q.get($)||null,S(B,q,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return q=q.get(W.key===null?$:W.key)||null,O(B,q,W,oe);case x:return q=q.get(W.key===null?$:W.key)||null,G(B,q,W,oe);case C:var Ee=W._init;return W=Ee(W._payload),K(q,B,$,W,oe)}if(ae(W)||V(W))return q=q.get($)||null,Z(B,q,W,oe,null);if(typeof W.then=="function")return K(q,B,$,jl(W),oe);if(W.$$typeof===z)return K(q,B,$,dl(B,W),oe);El(B,W)}return null}function ve(q,B,$,W){for(var oe=null,Ee=null,de=B,pe=B=0,_t=null;de!==null&&pe<$.length;pe++){de.index>pe?(_t=de,de=null):_t=de.sibling;var Me=Y(q,de,$[pe],W);if(Me===null){de===null&&(de=_t);break}i&&de&&Me.alternate===null&&r(q,de),B=y(Me,B,pe),Ee===null?oe=Me:Ee.sibling=Me,Ee=Me,de=_t}if(pe===$.length)return o(q,de),Oe&&vs(q,pe),oe;if(de===null){for(;pe<$.length;pe++)de=ee(q,$[pe],W),de!==null&&(B=y(de,B,pe),Ee===null?oe=de:Ee.sibling=de,Ee=de);return Oe&&vs(q,pe),oe}for(de=u(de);pe<$.length;pe++)_t=K(de,q,pe,$[pe],W),_t!==null&&(i&&_t.alternate!==null&&de.delete(_t.key===null?pe:_t.key),B=y(_t,B,pe),Ee===null?oe=_t:Ee.sibling=_t,Ee=_t);return i&&de.forEach(function(Yi){return r(q,Yi)}),Oe&&vs(q,pe),oe}function fe(q,B,$,W){if($==null)throw Error(s(151));for(var oe=null,Ee=null,de=B,pe=B=0,_t=null,Me=$.next();de!==null&&!Me.done;pe++,Me=$.next()){de.index>pe?(_t=de,de=null):_t=de.sibling;var Yi=Y(q,de,Me.value,W);if(Yi===null){de===null&&(de=_t);break}i&&de&&Yi.alternate===null&&r(q,de),B=y(Yi,B,pe),Ee===null?oe=Yi:Ee.sibling=Yi,Ee=Yi,de=_t}if(Me.done)return o(q,de),Oe&&vs(q,pe),oe;if(de===null){for(;!Me.done;pe++,Me=$.next())Me=ee(q,Me.value,W),Me!==null&&(B=y(Me,B,pe),Ee===null?oe=Me:Ee.sibling=Me,Ee=Me);return Oe&&vs(q,pe),oe}for(de=u(de);!Me.done;pe++,Me=$.next())Me=K(de,q,pe,Me.value,W),Me!==null&&(i&&Me.alternate!==null&&de.delete(Me.key===null?pe:Me.key),B=y(Me,B,pe),Ee===null?oe=Me:Ee.sibling=Me,Ee=Me);return i&&de.forEach(function(r2){return r(q,r2)}),Oe&&vs(q,pe),oe}function qe(q,B,$,W){if(typeof $=="object"&&$!==null&&$.type===_&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var oe=$.key;B!==null;){if(B.key===oe){if(oe=$.type,oe===_){if(B.tag===7){o(q,B.sibling),W=p(B,$.props.children),W.return=q,q=W;break e}}else if(B.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===C&&zg(oe)===B.type){o(q,B.sibling),W=p(B,$.props),Ma(W,$),W.return=q,q=W;break e}o(q,B);break}else r(q,B);B=B.sibling}$.type===_?(W=gs($.props.children,q.mode,W,$.key),W.return=q,q=W):(W=ol($.type,$.key,$.props,null,q.mode,W),Ma(W,$),W.return=q,q=W)}return w(q);case x:e:{for(oe=$.key;B!==null;){if(B.key===oe)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(q,B.sibling),W=p(B,$.children||[]),W.return=q,q=W;break e}else{o(q,B);break}else r(q,B);B=B.sibling}W=Cu($,q.mode,W),W.return=q,q=W}return w(q);case C:return oe=$._init,$=oe($._payload),qe(q,B,$,W)}if(ae($))return ve(q,B,$,W);if(V($)){if(oe=V($),typeof oe!="function")throw Error(s(150));return $=oe.call($),fe(q,B,$,W)}if(typeof $.then=="function")return qe(q,B,jl($),W);if($.$$typeof===z)return qe(q,B,dl(q,$),W);El(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(q,B.sibling),W=p(B,$),W.return=q,q=W):(o(q,B),W=Tu($,q.mode,W),W.return=q,q=W),w(q)):o(q,B)}return function(q,B,$,W){try{Na=0;var oe=qe(q,B,$,W);return hr=null,oe}catch(de){if(de===_a||de===fl)throw de;var Ee=Wt(29,de,null,q.mode);return Ee.lanes=W,Ee.return=q,Ee}finally{}}}var fr=Lg(!0),Pg=Lg(!1),bn=F(null),qn=null;function Mi(i){var r=i.alternate;Q(gt,gt.current&1),Q(bn,i),qn===null&&(r===null||lr.current!==null||r.memoizedState!==null)&&(qn=i)}function Bg(i){if(i.tag===22){if(Q(gt,gt.current),Q(bn,i),qn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(qn=i)}}else Di()}function Di(){Q(gt,gt.current),Q(bn,bn.current)}function ui(i){J(bn),qn===i&&(qn=null),J(gt)}var gt=F(0);function Tl(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Xd(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ad(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:g({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var od={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=nn(),p=Ai(u);p.payload=r,o!=null&&(p.callback=o),r=Ri(i,p,u),r!==null&&(sn(r,i,u),ja(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=nn(),p=Ai(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ri(i,p,u),r!==null&&(sn(r,i,u),ja(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=nn(),u=Ai(o);u.tag=2,r!=null&&(u.callback=r),r=Ri(i,u,o),r!==null&&(sn(r,i,o),ja(r,i,o))}};function Ug(i,r,o,u,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!ma(o,u)||!ma(p,y):!0}function Vg(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&od.enqueueReplaceState(r,r.state,null)}function Es(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=g({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var Cl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function qg(i){Cl(i)}function Hg(i){console.error(i)}function $g(i){Cl(i)}function kl(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ig(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ld(i,r,o){return o=Ai(o),o.tag=3,o.payload={element:null},o.callback=function(){kl(i,r)},o}function Fg(i){return i=Ai(i),i.tag=3,i}function Gg(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){Ig(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Ig(r,o,u),typeof p!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function rS(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ba(r,o,p,!0),o=bn.current,o!==null){switch(o.tag){case 13:return qn===null?Md():o.alternate===null&&at===0&&(at=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Pu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Od(i,u,p)),!1;case 22:return o.flags|=65536,u===Pu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Od(i,u,p)),!1}throw Error(s(435,o.tag))}return Od(i,u,p),Md(),!1}if(Oe)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Ru&&(i=Error(s(422),{cause:u}),va(pn(i,o)))):(u!==Ru&&(r=Error(s(423),{cause:u}),va(pn(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=pn(u,o),p=ld(i.stateNode,u,p),Vu(i,p),at!==4&&(at=2)),!1;var y=Error(s(520),{cause:u});if(y=pn(y,o),Ua===null?Ua=[y]:Ua.push(y),at!==4&&(at=2),r===null)return!0;u=pn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=ld(o.stateNode,u,i),Vu(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ui===null||!Ui.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Fg(p),Gg(p,i,o,u),Vu(o,p),!1}o=o.return}while(o!==null);return!1}var Yg=Error(s(461)),xt=!1;function kt(i,r,o,u){r.child=i===null?Pg(r,null,o,u):fr(r,i.child,o,u)}function Kg(i,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return _s(r),u=Fu(i,r,o,w,y,p),S=Gu(),i!==null&&!xt?(Yu(i,r,p),di(i,r,p)):(Oe&&S&&ku(r),r.flags|=1,kt(i,r,u,p),r.child)}function Xg(i,r,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!Eu(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Qg(i,r,y,u,p)):(i=ol(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!gd(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:ma,o(w,u)&&i.ref===r.ref)return di(i,r,p)}return r.flags|=1,i=si(y,u),i.ref=r.ref,i.return=r,r.child=i}function Qg(i,r,o,u,p){if(i!==null){var y=i.memoizedProps;if(ma(y,u)&&i.ref===r.ref)if(xt=!1,r.pendingProps=u=y,gd(i,p))(i.flags&131072)!==0&&(xt=!0);else return r.lanes=i.lanes,di(i,r,p)}return cd(i,r,o,u,p)}function Zg(i,r,o){var u=r.pendingProps,p=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,i!==null){for(p=r.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;r.childLanes=y&~u}else r.childLanes=0,r.child=null;return Wg(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&hl(r,y!==null?y.cachePool:null),y!==null?Qp(r,y):Hu(),Bg(r);else return r.lanes=r.childLanes=536870912,Wg(i,r,y!==null?y.baseLanes|o:o,o)}else y!==null?(hl(r,y.cachePool),Qp(r,y),Di(),r.memoizedState=null):(i!==null&&hl(r,null),Hu(),Di());return kt(i,r,p,o),r.child}function Wg(i,r,o,u){var p=Lu();return p=p===null?null:{parent:pt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&hl(r,null),Hu(),Bg(r),i!==null&&ba(i,r,u,!0),null}function Al(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function cd(i,r,o,u,p){return _s(r),o=Fu(i,r,o,u,void 0,p),u=Gu(),i!==null&&!xt?(Yu(i,r,p),di(i,r,p)):(Oe&&u&&ku(r),r.flags|=1,kt(i,r,o,p),r.child)}function Jg(i,r,o,u,p,y){return _s(r),r.updateQueue=null,o=Wp(r,u,o,p),Zp(i),u=Gu(),i!==null&&!xt?(Yu(i,r,y),di(i,r,y)):(Oe&&u&&ku(r),r.flags|=1,kt(i,r,o,y),r.child)}function ey(i,r,o,u,p){if(_s(r),r.stateNode===null){var y=ir,w=o.contextType;typeof w=="object"&&w!==null&&(y=Ot(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=od,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Bu(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?Ot(w):ir,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(ad(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&od.enqueueReplaceState(y,y.state,null),Ta(r,u,y,p),Ea(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var S=r.memoizedProps,O=Es(o,S);y.props=O;var G=y.context,Z=o.contextType;w=ir,typeof Z=="object"&&Z!==null&&(w=Ot(Z));var ee=o.getDerivedStateFromProps;Z=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||G!==w)&&Vg(r,y,u,w),ki=!1;var Y=r.memoizedState;y.state=Y,Ta(r,u,y,p),Ea(),G=r.memoizedState,S||Y!==G||ki?(typeof ee=="function"&&(ad(r,o,ee,u),G=r.memoizedState),(O=ki||Ug(r,o,O,u,Y,G,w))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),y.props=u,y.state=G,y.context=w,u=O):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Uu(i,r),w=r.memoizedProps,Z=Es(o,w),y.props=Z,ee=r.pendingProps,Y=y.context,G=o.contextType,O=ir,typeof G=="object"&&G!==null&&(O=Ot(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ee||Y!==O)&&Vg(r,y,u,O),ki=!1,Y=r.memoizedState,y.state=Y,Ta(r,u,y,p),Ea();var K=r.memoizedState;w!==ee||Y!==K||ki||i!==null&&i.dependencies!==null&&ul(i.dependencies)?(typeof S=="function"&&(ad(r,o,S,u),K=r.memoizedState),(Z=ki||Ug(r,o,Z,u,Y,K,O)||i!==null&&i.dependencies!==null&&ul(i.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,K,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,K,O)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),y.props=u,y.state=K,y.context=O,u=Z):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,Al(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=fr(r,i.child,null,p),r.child=fr(r,null,o,p)):kt(i,r,o,p),r.memoizedState=y.state,i=r.child):i=di(i,r,p),i}function ty(i,r,o,u){return ya(),r.flags|=256,kt(i,r,o,u),r.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(i){return{baseLanes:i,cachePool:Hp()}}function hd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=xn),i}function ny(i,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(gt.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Oe){if(p?Mi(r):Di(),Oe){var S=rt,O;if(O=S){e:{for(O=S,S=Vn;O.nodeType!==8;){if(!S){S=null;break e}if(O=Nn(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(r.memoizedState={dehydrated:S,treeContext:ys!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},O=Wt(18,null,null,0),O.stateNode=S,O.return=r,r.child=O,qt=r,rt=null,O=!0):O=!1}O||xs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Xd(S)?r.lanes=32:r.lanes=536870912,null;ui(r)}return S=u.children,u=u.fallback,p?(Di(),p=r.mode,S=Rl({mode:"hidden",children:S},p),u=gs(u,p,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,p=r.child,p.memoizedState=dd(o),p.childLanes=hd(i,w,o),r.memoizedState=ud,u):(Mi(r),fd(r,S))}if(O=i.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(y)r.flags&256?(Mi(r),r.flags&=-257,r=md(i,r,o)):r.memoizedState!==null?(Di(),r.child=i.child,r.flags|=128,r=null):(Di(),p=u.fallback,S=r.mode,u=Rl({mode:"visible",children:u.children},S),p=gs(p,S,o,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,fr(r,i.child,null,o),u=r.child,u.memoizedState=dd(o),u.childLanes=hd(i,w,o),r.memoizedState=ud,r=p);else if(Mi(r),Xd(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var G=w.dgst;w=G,u=Error(s(419)),u.stack="",u.digest=w,va({value:u,source:null,stack:null}),r=md(i,r,o)}else if(xt||ba(i,r,o,!1),w=(o&i.childLanes)!==0,xt||w){if(w=Ye,w!==null&&(u=o&-o,u=(u&42)!==0?1:Qc(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,nr(i,u),sn(w,i,u),Yg;S.data==="$?"||Md(),r=md(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,rt=Nn(S.nextSibling),qt=r,Oe=!0,bs=null,Vn=!1,i!==null&&(yn[vn++]=ri,yn[vn++]=ai,yn[vn++]=ys,ri=i.id,ai=i.overflow,ys=r),r=fd(r,u.children),r.flags|=4096);return r}return p?(Di(),p=u.fallback,S=r.mode,O=i.child,G=O.sibling,u=si(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?p=si(G,p):(p=gs(p,S,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,S=i.child.memoizedState,S===null?S=dd(o):(O=S.cachePool,O!==null?(G=pt._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=Hp(),S={baseLanes:S.baseLanes|o,cachePool:O}),p.memoizedState=S,p.childLanes=hd(i,w,o),r.memoizedState=ud,u):(Mi(r),o=i.child,i=o.sibling,o=si(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function fd(i,r){return r=Rl({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Rl(i,r){return i=Wt(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function md(i,r,o){return fr(r,i.child,null,o),i=fd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function iy(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Mu(i.return,r,o)}function pd(i,r,o,u,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=p)}function sy(i,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;if(kt(i,r,u.children,o),u=gt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&iy(i,o,r);else if(i.tag===19)iy(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Q(gt,u),p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Tl(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),pd(r,!1,p,o,y);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Tl(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}pd(r,!0,o,null,y);break;case"together":pd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function di(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Bi|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ba(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=si(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=si(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function gd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ul(i)))}function aS(i,r,o){switch(r.tag){case 3:ce(r,r.stateNode.containerInfo),Ci(r,pt,i.memoizedState.cache),ya();break;case 27:case 5:Ie(r);break;case 4:ce(r,r.stateNode.containerInfo);break;case 10:Ci(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Mi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?ny(i,r,o):(Mi(r),i=di(i,r,o),i!==null?i.sibling:null);Mi(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ba(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return sy(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(gt,gt.current),u)break;return null;case 22:case 23:return r.lanes=0,Zg(i,r,o);case 24:Ci(r,pt,i.memoizedState.cache)}return di(i,r,o)}function ry(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)xt=!0;else{if(!gd(i,o)&&(r.flags&128)===0)return xt=!1,aS(i,r,o);xt=(i.flags&131072)!==0}else xt=!1,Oe&&(r.flags&1048576)!==0&&zp(r,cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,p=u._init;if(u=p(u._payload),r.type=u,typeof u=="function")Eu(u)?(i=Es(u,i),r.tag=1,r=ey(null,r,u,i,o)):(r.tag=0,r=cd(null,r,u,i,o));else{if(u!=null){if(p=u.$$typeof,p===A){r.tag=11,r=Kg(null,r,u,i,o);break e}else if(p===I){r.tag=14,r=Xg(null,r,u,i,o);break e}}throw r=se(u)||u,Error(s(306,r,""))}}return r;case 0:return cd(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Es(u,r.pendingProps),ey(i,r,u,p,o);case 3:e:{if(ce(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Uu(i,r),Ta(r,u,null,o);var w=r.memoizedState;if(u=w.cache,Ci(r,pt,u),u!==y.cache&&Du(r,[pt],o,!0),Ea(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=ty(i,r,u,o);break e}else if(u!==p){p=pn(Error(s(424)),r),va(p),r=ty(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=Nn(i.firstChild),qt=r,Oe=!0,bs=null,Vn=!0,o=Pg(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ya(),u===p){r=di(i,r,o);break e}kt(i,r,u,o)}r=r.child}return r;case 26:return Al(i,r),i===null?(o=c0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Oe||(o=r.type,i=r.pendingProps,u=Il(le.current).createElement(o),u[Dt]=r,u[It]=i,Rt(u,o,i),bt(u),r.stateNode=u):r.memoizedState=c0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ie(r),i===null&&Oe&&(u=r.stateNode=a0(r.type,r.pendingProps,le.current),qt=r,Vn=!0,p=rt,Hi(r.type)?(Qd=p,rt=Nn(u.firstChild)):rt=p),kt(i,r,r.pendingProps.children,o),Al(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Oe&&((p=u=rt)&&(u=OS(u,r.type,r.pendingProps,Vn),u!==null?(r.stateNode=u,qt=r,rt=Nn(u.firstChild),Vn=!1,p=!0):p=!1),p||xs(r)),Ie(r),p=r.type,y=r.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,Gd(p,y)?u=null:w!==null&&Gd(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=Fu(i,r,W_,null,null,o),Ka._currentValue=p),Al(i,r),kt(i,r,u,o),r.child;case 6:return i===null&&Oe&&((i=o=rt)&&(o=zS(o,r.pendingProps,Vn),o!==null?(r.stateNode=o,qt=r,rt=null,i=!0):i=!1),i||xs(r)),null;case 13:return ny(i,r,o);case 4:return ce(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=fr(r,null,u,o):kt(i,r,u,o),r.child;case 11:return Kg(i,r,r.type,r.pendingProps,o);case 7:return kt(i,r,r.pendingProps,o),r.child;case 8:return kt(i,r,r.pendingProps.children,o),r.child;case 12:return kt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ci(r,r.type,u.value),kt(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,_s(r),p=Ot(p),u=u(p),r.flags|=1,kt(i,r,u,o),r.child;case 14:return Xg(i,r,r.type,r.pendingProps,o);case 15:return Qg(i,r,r.type,r.pendingProps,o);case 19:return sy(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Rl(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=si(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Zg(i,r,o);case 24:return _s(r),u=Ot(pt),i===null?(p=Lu(),p===null&&(p=Ye,y=Ou(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},Bu(r),Ci(r,pt,p)):((i.lanes&o)!==0&&(Uu(i,r),Ta(r,null,null,o),Ea()),p=i.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ci(r,pt,u)):(u=y.cache,Ci(r,pt,u),u!==p.cache&&Du(r,[pt],o,!0))),kt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hi(i){i.flags|=4}function ay(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!m0(r)){if(r=bn.current,r!==null&&((Ne&4194048)===Ne?qn!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||r!==qn))throw Sa=Pu,$p;i.flags|=8192}}function Nl(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Bm():536870912,i.lanes|=r,yr|=r)}function Da(i,r){if(!Oe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function et(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function oS(i,r,o){var u=r.pendingProps;switch(Au(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(r),null;case 1:return et(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),li(pt),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ga(r)?hi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bp())),et(r),null;case 26:return o=r.memoizedState,i===null?(hi(r),o!==null?(et(r),ay(r,o)):(et(r),r.flags&=-16777217)):o?o!==i.memoizedState?(hi(r),et(r),ay(r,o)):(et(r),r.flags&=-16777217):(i.memoizedProps!==u&&hi(r),et(r),r.flags&=-16777217),null;case 27:ye(r),o=le.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&hi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return et(r),null}i=re.current,ga(r)?Lp(r):(i=a0(p,u,o),r.stateNode=i,hi(r))}return et(r),null;case 5:if(ye(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&hi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return et(r),null}if(i=re.current,ga(r))Lp(r);else{switch(p=Il(le.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}i[Dt]=r,i[It]=u;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;e:switch(Rt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&hi(r)}}return et(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&hi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=le.current,ga(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=qt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Jy(i.nodeValue,o)),i||xs(r)}else i=Il(i).createTextNode(u),i[Dt]=r,r.stateNode=i}return et(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ga(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Dt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;et(r),p=!1}else p=Bp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(ui(r),r):(ui(r),null)}if(ui(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Nl(r,r.updateQueue),et(r),null;case 4:return _e(),i===null&&qd(r.stateNode.containerInfo),et(r),null;case 10:return li(r.type),et(r),null;case 19:if(J(gt),p=r.memoizedState,p===null)return et(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)Da(p,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Tl(i),y!==null){for(r.flags|=128,Da(p,!1),i=y.updateQueue,r.updateQueue=i,Nl(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Op(o,i),o=o.sibling;return Q(gt,gt.current&1|2),r.child}i=i.sibling}p.tail!==null&&st()>Ol&&(r.flags|=128,u=!0,Da(p,!1),r.lanes=4194304)}else{if(!u)if(i=Tl(y),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Nl(r,i),Da(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Oe)return et(r),null}else 2*st()-p.renderingStartTime>Ol&&o!==536870912&&(r.flags|=128,u=!0,Da(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(i=p.last,i!==null?i.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=st(),r.sibling=null,i=gt.current,Q(gt,u?i&1|2:i&1),r):(et(r),null);case 22:case 23:return ui(r),$u(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(et(r),r.subtreeFlags&6&&(r.flags|=8192)):et(r),o=r.updateQueue,o!==null&&Nl(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&J(Ss),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),li(pt),et(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function lS(i,r){switch(Au(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return li(pt),_e(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ye(r),null;case 13:if(ui(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return J(gt),null;case 4:return _e(),null;case 10:return li(r.type),null;case 22:case 23:return ui(r),$u(),i!==null&&J(Ss),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return li(pt),null;case 25:return null;default:return null}}function oy(i,r){switch(Au(r),r.tag){case 3:li(pt),_e();break;case 26:case 27:case 5:ye(r);break;case 4:_e();break;case 13:ui(r);break;case 19:J(gt);break;case 10:li(r.type);break;case 22:case 23:ui(r),$u(),i!==null&&J(Ss);break;case 24:li(pt)}}function Oa(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(S){He(r,r.return,S)}}function Oi(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,p=r;var O=o,G=S;try{G()}catch(Z){He(p,O,Z)}}}u=u.next}while(u!==y)}}catch(Z){He(r,r.return,Z)}}function ly(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Xp(r,o)}catch(u){He(i,i.return,u)}}}function cy(i,r,o){o.props=Es(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){He(i,r,u)}}function za(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){He(i,r,p)}}function Hn(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){He(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){He(i,r,p)}else o.current=null}function uy(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){He(i,i.return,p)}}function yd(i,r,o){try{var u=i.stateNode;AS(u,i.type,o,r),u[It]=r}catch(p){He(i,i.return,p)}}function dy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hi(i.type)||i.tag===4}function vd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$l));else if(u!==4&&(u===27&&Hi(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(bd(i,r,o),i=i.sibling;i!==null;)bd(i,r,o),i=i.sibling}function Ml(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Hi(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ml(i,r,o),i=i.sibling;i!==null;)Ml(i,r,o),i=i.sibling}function hy(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Rt(r,u,o),r[Dt]=i,r[It]=o}catch(y){He(i,i.return,y)}}var fi=!1,ct=!1,xd=!1,fy=typeof WeakSet=="function"?WeakSet:Set,wt=null;function cS(i,r){if(i=i.containerInfo,Id=Ql,i=jp(i),vu(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,S=-1,O=-1,G=0,Z=0,ee=i,Y=null;t:for(;;){for(var K;ee!==o||p!==0&&ee.nodeType!==3||(S=w+p),ee!==y||u!==0&&ee.nodeType!==3||(O=w+u),ee.nodeType===3&&(w+=ee.nodeValue.length),(K=ee.firstChild)!==null;)Y=ee,ee=K;for(;;){if(ee===i)break t;if(Y===o&&++G===p&&(S=w),Y===y&&++Z===u&&(O=w),(K=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=K}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fd={focusedElem:i,selectionRange:o},Ql=!1,wt=r;wt!==null;)if(r=wt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,wt=i;else for(;wt!==null;){switch(r=wt,y=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ve=Es(o.type,p,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ve,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(fe){He(o,o.return,fe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Kd(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,wt=i;break}wt=r.return}}function my(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zi(i,o),u&4&&Oa(5,o);break;case 1:if(zi(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){He(o,o.return,w)}else{var p=Es(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){He(o,o.return,w)}}u&64&&ly(o),u&512&&za(o,o.return);break;case 3:if(zi(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Xp(i,r)}catch(w){He(o,o.return,w)}}break;case 27:r===null&&u&4&&hy(o);case 26:case 5:zi(i,o),r===null&&u&4&&uy(o),u&512&&za(o,o.return);break;case 12:zi(i,o);break;case 13:zi(i,o),u&4&&yy(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=vS.bind(null,o),LS(i,o))));break;case 22:if(u=o.memoizedState!==null||fi,!u){r=r!==null&&r.memoizedState!==null||ct,p=fi;var y=ct;fi=u,(ct=r)&&!y?Li(i,o,(o.subtreeFlags&8772)!==0):zi(i,o),fi=p,ct=y}break;case 30:break;default:zi(i,o)}}function py(i){var r=i.alternate;r!==null&&(i.alternate=null,py(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Jc(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var We=null,Yt=!1;function mi(i,r,o){for(o=o.child;o!==null;)gy(i,r,o),o=o.sibling}function gy(i,r,o){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ze,o)}catch{}switch(o.tag){case 26:ct||Hn(o,r),mi(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||Hn(o,r);var u=We,p=Yt;Hi(o.type)&&(We=o.stateNode,Yt=!1),mi(i,r,o),Ia(o.stateNode),We=u,Yt=p;break;case 5:ct||Hn(o,r);case 6:if(u=We,p=Yt,We=null,mi(i,r,o),We=u,Yt=p,We!==null)if(Yt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(o.stateNode)}catch(y){He(o,r,y)}else try{We.removeChild(o.stateNode)}catch(y){He(o,r,y)}break;case 18:We!==null&&(Yt?(i=We,s0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Wa(i)):s0(We,o.stateNode));break;case 4:u=We,p=Yt,We=o.stateNode.containerInfo,Yt=!0,mi(i,r,o),We=u,Yt=p;break;case 0:case 11:case 14:case 15:ct||Oi(2,o,r),ct||Oi(4,o,r),mi(i,r,o);break;case 1:ct||(Hn(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&cy(o,r,u)),mi(i,r,o);break;case 21:mi(i,r,o);break;case 22:ct=(u=ct)||o.memoizedState!==null,mi(i,r,o),ct=u;break;default:mi(i,r,o)}}function yy(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wa(i)}catch(o){He(r,r.return,o)}}function uS(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new fy),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new fy),r;default:throw Error(s(435,i.tag))}}function wd(i,r){var o=uS(i);r.forEach(function(u){var p=bS.bind(null,i,u);o.has(u)||(o.add(u),u.then(p,p))})}function Jt(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,w=r,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Hi(S.type)){We=S.stateNode,Yt=!1;break e}break;case 5:We=S.stateNode,Yt=!1;break e;case 3:case 4:We=S.stateNode.containerInfo,Yt=!0;break e}S=S.return}if(We===null)throw Error(s(160));gy(y,w,p),We=null,Yt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)vy(r,i),r=r.sibling}var Rn=null;function vy(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jt(r,i),en(i),u&4&&(Oi(3,i,i.return),Oa(3,i),Oi(5,i,i.return));break;case 1:Jt(r,i),en(i),u&512&&(ct||o===null||Hn(o,o.return)),u&64&&fi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Rn;if(Jt(r,i),en(i),u&512&&(ct||o===null||Hn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ra]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Rt(y,u,o),y[Dt]=i,bt(y),u=y;break e;case"link":var w=h0("link","href",p).get(u+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}y=p.createElement(u),Rt(y,u,o),p.head.appendChild(y);break;case"meta":if(w=h0("meta","content",p).get(u+(o.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}y=p.createElement(u),Rt(y,u,o),p.head.appendChild(y);break;default:throw Error(s(468,u))}y[Dt]=i,bt(y),u=y}i.stateNode=u}else f0(p,i.type,i.stateNode);else i.stateNode=d0(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?f0(p,i.type,i.stateNode):d0(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&yd(i,i.memoizedProps,o.memoizedProps)}break;case 27:Jt(r,i),en(i),u&512&&(ct||o===null||Hn(o,o.return)),o!==null&&u&4&&yd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Jt(r,i),en(i),u&512&&(ct||o===null||Hn(o,o.return)),i.flags&32){p=i.stateNode;try{Xs(p,"")}catch(K){He(i,i.return,K)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,yd(i,p,o!==null?o.memoizedProps:p)),u&1024&&(xd=!0);break;case 6:if(Jt(r,i),en(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(K){He(i,i.return,K)}}break;case 3:if(Yl=null,p=Rn,Rn=Fl(r.containerInfo),Jt(r,i),Rn=p,en(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Wa(r.containerInfo)}catch(K){He(i,i.return,K)}xd&&(xd=!1,by(i));break;case 4:u=Rn,Rn=Fl(i.stateNode.containerInfo),Jt(r,i),en(i),Rn=u;break;case 12:Jt(r,i),en(i);break;case 13:Jt(r,i),en(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cd=st()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wd(i,u)));break;case 22:p=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=fi,Z=ct;if(fi=G||p,ct=Z||O,Jt(r,i),ct=Z,fi=G,en(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||O||fi||ct||Ts(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(y=O.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=O.stateNode;var ee=O.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){He(O,O.return,K)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(K){He(O,O.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,wd(i,o))));break;case 19:Jt(r,i),en(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wd(i,u)));break;case 30:break;case 21:break;default:Jt(r,i),en(i)}}function en(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(dy(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,y=vd(i);Ml(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Xs(w,""),o.flags&=-33);var S=vd(i);Ml(i,S,w);break;case 3:case 4:var O=o.stateNode.containerInfo,G=vd(i);bd(i,G,O);break;default:throw Error(s(161))}}catch(Z){He(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function by(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;by(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function zi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)my(i,r.alternate,r),r=r.sibling}function Ts(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Oi(4,r,r.return),Ts(r);break;case 1:Hn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&cy(r,r.return,o),Ts(r);break;case 27:Ia(r.stateNode);case 26:case 5:Hn(r,r.return),Ts(r);break;case 22:r.memoizedState===null&&Ts(r);break;case 30:Ts(r);break;default:Ts(r)}i=i.sibling}}function Li(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Li(p,y,o),Oa(4,y);break;case 1:if(Li(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){He(u,u.return,G)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Kp(O[p],S)}catch(G){He(u,u.return,G)}}o&&w&64&&ly(y),za(y,y.return);break;case 27:hy(y);case 26:case 5:Li(p,y,o),o&&u===null&&w&4&&uy(y),za(y,y.return);break;case 12:Li(p,y,o);break;case 13:Li(p,y,o),o&&w&4&&yy(p,y);break;case 22:y.memoizedState===null&&Li(p,y,o),za(y,y.return);break;case 30:break;default:Li(p,y,o)}r=r.sibling}}function _d(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&xa(o))}function Sd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xa(i))}function $n(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xy(i,r,o,u),r=r.sibling}function xy(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:$n(i,r,o,u),p&2048&&Oa(9,r);break;case 1:$n(i,r,o,u);break;case 3:$n(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xa(i)));break;case 12:if(p&2048){$n(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){He(r,r.return,O)}}else $n(i,r,o,u);break;case 13:$n(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?$n(i,r,o,u):La(i,r):y._visibility&2?$n(i,r,o,u):(y._visibility|=2,mr(i,r,o,u,(r.subtreeFlags&10256)!==0)),p&2048&&_d(w,r);break;case 24:$n(i,r,o,u),p&2048&&Sd(r.alternate,r);break;default:$n(i,r,o,u)}}function mr(i,r,o,u,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=i,w=r,S=o,O=u,G=w.flags;switch(w.tag){case 0:case 11:case 15:mr(y,w,S,O,p),Oa(8,w);break;case 23:break;case 22:var Z=w.stateNode;w.memoizedState!==null?Z._visibility&2?mr(y,w,S,O,p):La(y,w):(Z._visibility|=2,mr(y,w,S,O,p)),p&&G&2048&&_d(w.alternate,w);break;case 24:mr(y,w,S,O,p),p&&G&2048&&Sd(w.alternate,w);break;default:mr(y,w,S,O,p)}r=r.sibling}}function La(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:La(o,u),p&2048&&_d(u.alternate,u);break;case 24:La(o,u),p&2048&&Sd(u.alternate,u);break;default:La(o,u)}r=r.sibling}}var Pa=8192;function pr(i){if(i.subtreeFlags&Pa)for(i=i.child;i!==null;)wy(i),i=i.sibling}function wy(i){switch(i.tag){case 26:pr(i),i.flags&Pa&&i.memoizedState!==null&&XS(Rn,i.memoizedState,i.memoizedProps);break;case 5:pr(i);break;case 3:case 4:var r=Rn;Rn=Fl(i.stateNode.containerInfo),pr(i),Rn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Pa,Pa=16777216,pr(i),Pa=r):pr(i));break;default:pr(i)}}function _y(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ba(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];wt=u,jy(u,i)}_y(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(i),i=i.sibling}function Sy(i){switch(i.tag){case 0:case 11:case 15:Ba(i),i.flags&2048&&Oi(9,i,i.return);break;case 3:Ba(i);break;case 12:Ba(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Dl(i)):Ba(i);break;default:Ba(i)}}function Dl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];wt=u,jy(u,i)}_y(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Oi(8,r,r.return),Dl(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Dl(r));break;default:Dl(r)}i=i.sibling}}function jy(i,r){for(;wt!==null;){var o=wt;switch(o.tag){case 0:case 11:case 15:Oi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xa(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,wt=u;else e:for(o=i;wt!==null;){u=wt;var p=u.sibling,y=u.return;if(py(u),u===o){wt=null;break e}if(p!==null){p.return=y,wt=p;break e}wt=y}}}var dS={getCacheForType:function(i){var r=Ot(pt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},hS=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ye=null,Ce=null,Ne=0,Le=0,tn=null,Pi=!1,gr=!1,jd=!1,pi=0,at=0,Bi=0,Cs=0,Ed=0,xn=0,yr=0,Ua=null,Kt=null,Td=!1,Cd=0,Ol=1/0,zl=null,Ui=null,At=0,Vi=null,vr=null,br=0,kd=0,Ad=null,Ey=null,Va=0,Rd=null;function nn(){if((ze&2)!==0&&Ne!==0)return Ne&-Ne;if(H.T!==null){var i=ar;return i!==0?i:Pd()}return qm()}function Ty(){xn===0&&(xn=(Ne&536870912)===0||Oe?Pm():536870912);var i=bn.current;return i!==null&&(i.flags|=32),xn}function sn(i,r,o){(i===Ye&&(Le===2||Le===9)||i.cancelPendingCommit!==null)&&(xr(i,0),qi(i,Ne,xn,!1)),sa(i,o),((ze&2)===0||i!==Ye)&&(i===Ye&&((ze&2)===0&&(Cs|=o),at===4&&qi(i,Ne,xn,!1)),In(i))}function Cy(i,r,o){if((ze&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||ia(i,r),p=u?pS(i,r):Dd(i,r,!0),y=u;do{if(p===0){gr&&!u&&qi(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!fS(o)){p=Dd(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var S=i;p=Ua;var O=S.current.memoizedState.isDehydrated;if(O&&(xr(S,w).flags|=256),w=Dd(S,w,!1),w!==2){if(jd&&!O){S.errorRecoveryDisabledLanes|=y,Cs|=y,p=4;break e}y=Kt,Kt=p,y!==null&&(Kt===null?Kt=y:Kt.push.apply(Kt,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){xr(i,0),qi(i,r,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qi(u,r,xn,!Pi);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Cd+300-st(),10<p)){if(qi(u,r,xn,!Pi),Go(u,0,!0)!==0)break e;u.timeoutHandle=n0(ky.bind(null,u,o,Kt,zl,Td,r,xn,Cs,yr,Pi,y,2,-0,0),p);break e}ky(u,o,Kt,zl,Td,r,xn,Cs,yr,Pi,y,0,-0,0)}}break}while(!0);In(i)}function ky(i,r,o,u,p,y,w,S,O,G,Z,ee,Y,K){if(i.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Ya={stylesheets:null,count:0,unsuspend:KS},wy(r),ee=QS(),ee!==null)){i.cancelPendingCommit=ee(zy.bind(null,i,r,y,o,u,p,w,S,O,Z,1,Y,K)),qi(i,y,w,!G);return}zy(i,r,y,o,u,p,w,S,O)}function fS(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Zt(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qi(i,r,o,u){r&=~Ed,r&=~Cs,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var y=31-Ct(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&Um(i,o,r)}function Ll(){return(ze&6)===0?(qa(0),!1):!0}function Nd(){if(Ce!==null){if(Le===0)var i=Ce.return;else i=Ce,oi=ws=null,Ku(i),hr=null,Na=0,i=Ce;for(;i!==null;)oy(i.alternate,i),i=i.return;Ce=null}}function xr(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,NS(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Nd(),Ye=i,Ce=o=si(i.current,null),Ne=r,Le=0,tn=null,Pi=!1,gr=ia(i,r),jd=!1,yr=xn=Ed=Cs=Bi=at=0,Kt=Ua=null,Td=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-Ct(u),y=1<<p;r|=i[p],u&=~y}return pi=r,sl(),o}function Ay(i,r){je=null,H.H=Sl,r===_a||r===fl?(r=Gp(),Le=3):r===$p?(r=Gp(),Le=4):Le=r===Yg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tn=r,Ce===null&&(at=1,kl(i,pn(r,i.current)))}function Ry(){var i=H.H;return H.H=Sl,i===null?Sl:i}function Ny(){var i=H.A;return H.A=dS,i}function Md(){at=4,Pi||(Ne&4194048)!==Ne&&bn.current!==null||(gr=!0),(Bi&134217727)===0&&(Cs&134217727)===0||Ye===null||qi(Ye,Ne,xn,!1)}function Dd(i,r,o){var u=ze;ze|=2;var p=Ry(),y=Ny();(Ye!==i||Ne!==r)&&(zl=null,xr(i,r)),r=!1;var w=at;e:do try{if(Le!==0&&Ce!==null){var S=Ce,O=tn;switch(Le){case 8:Nd(),w=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var G=Le;if(Le=0,tn=null,wr(i,S,O,G),o&&gr){w=0;break e}break;default:G=Le,Le=0,tn=null,wr(i,S,O,G)}}mS(),w=at;break}catch(Z){Ay(i,Z)}while(!0);return r&&i.shellSuspendCounter++,oi=ws=null,ze=u,H.H=p,H.A=y,Ce===null&&(Ye=null,Ne=0,sl()),w}function mS(){for(;Ce!==null;)My(Ce)}function pS(i,r){var o=ze;ze|=2;var u=Ry(),p=Ny();Ye!==i||Ne!==r?(zl=null,Ol=st()+500,xr(i,r)):gr=ia(i,r);e:do try{if(Le!==0&&Ce!==null){r=Ce;var y=tn;t:switch(Le){case 1:Le=0,tn=null,wr(i,r,y,1);break;case 2:case 9:if(Ip(y)){Le=0,tn=null,Dy(r);break}r=function(){Le!==2&&Le!==9||Ye!==i||(Le=7),In(i)},y.then(r,r);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Ip(y)?(Le=0,tn=null,Dy(r)):(Le=0,tn=null,wr(i,r,y,7));break;case 5:var w=null;switch(Ce.tag){case 26:w=Ce.memoizedState;case 5:case 27:var S=Ce;if(!w||m0(w)){Le=0,tn=null;var O=S.sibling;if(O!==null)Ce=O;else{var G=S.return;G!==null?(Ce=G,Pl(G)):Ce=null}break t}}Le=0,tn=null,wr(i,r,y,5);break;case 6:Le=0,tn=null,wr(i,r,y,6);break;case 8:Nd(),at=6;break e;default:throw Error(s(462))}}gS();break}catch(Z){Ay(i,Z)}while(!0);return oi=ws=null,H.H=u,H.A=p,ze=o,Ce!==null?0:(Ye=null,Ne=0,sl(),at)}function gS(){for(;Ce!==null&&!Pe();)My(Ce)}function My(i){var r=ry(i.alternate,i,pi);i.memoizedProps=i.pendingProps,r===null?Pl(i):Ce=r}function Dy(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Jg(o,r,r.pendingProps,r.type,void 0,Ne);break;case 11:r=Jg(o,r,r.pendingProps,r.type.render,r.ref,Ne);break;case 5:Ku(r);default:oy(o,r),r=Ce=Op(r,pi),r=ry(o,r,pi)}i.memoizedProps=i.pendingProps,r===null?Pl(i):Ce=r}function wr(i,r,o,u){oi=ws=null,Ku(r),hr=null,Na=0;var p=r.return;try{if(rS(i,p,r,o,Ne)){at=1,kl(i,pn(o,i.current)),Ce=null;return}}catch(y){if(p!==null)throw Ce=p,y;at=1,kl(i,pn(o,i.current)),Ce=null;return}r.flags&32768?(Oe||u===1?i=!0:gr||(Ne&536870912)!==0?i=!1:(Pi=i=!0,(u===2||u===9||u===3||u===6)&&(u=bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Oy(r,i)):Pl(r)}function Pl(i){var r=i;do{if((r.flags&32768)!==0){Oy(r,Pi);return}i=r.return;var o=oS(r.alternate,r,pi);if(o!==null){Ce=o;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=i}while(r!==null);at===0&&(at=5)}function Oy(i,r){do{var o=lS(i.alternate,i);if(o!==null){o.flags&=32767,Ce=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=o}while(i!==null);at=6,Ce=null}function zy(i,r,o,u,p,y,w,S,O){i.cancelPendingCommit=null;do Bl();while(At!==0);if((ze&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Su,K1(i,o,y,w,S,O),i===Ye&&(Ce=Ye=null,Ne=0),vr=r,Vi=i,br=o,kd=y,Ad=p,Ey=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xS(kn,function(){return Vy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,p=X.p,X.p=2,w=ze,ze|=4;try{cS(i,r,o)}finally{ze=w,X.p=p,H.T=u}}At=1,Ly(),Py(),By()}}function Ly(){if(At===1){At=0;var i=Vi,r=vr,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=X.p;X.p=2;var p=ze;ze|=4;try{vy(r,i);var y=Fd,w=jp(i.containerInfo),S=y.focusedElem,O=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&Sp(S.ownerDocument.documentElement,S)){if(O!==null&&vu(S)){var G=O.start,Z=O.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var ee=S.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),ve=S.textContent.length,fe=Math.min(O.start,ve),qe=O.end===void 0?fe:Math.min(O.end,ve);!K.extend&&fe>qe&&(w=qe,qe=fe,fe=w);var q=_p(S,fe),B=_p(S,qe);if(q&&B&&(K.rangeCount!==1||K.anchorNode!==q.node||K.anchorOffset!==q.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var $=ee.createRange();$.setStart(q.node,q.offset),K.removeAllRanges(),fe>qe?(K.addRange($),K.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),K.addRange($))}}}}for(ee=[],K=S;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ql=!!Id,Fd=Id=null}finally{ze=p,X.p=u,H.T=o}}i.current=r,At=2}}function Py(){if(At===2){At=0;var i=Vi,r=vr,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=X.p;X.p=2;var p=ze;ze|=4;try{my(i,r.alternate,r)}finally{ze=p,X.p=u,H.T=o}}At=3}}function By(){if(At===4||At===3){At=0,Te();var i=Vi,r=vr,o=br,u=Ey;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?At=5:(At=0,vr=Vi=null,Uy(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ui=null),Zc(o),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ze,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,p=X.p,X.p=2,H.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var S=u[w];y(S.value,{componentStack:S.stack})}}finally{H.T=r,X.p=p}}(br&3)!==0&&Bl(),In(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===Rd?Va++:(Va=0,Rd=i):Va=0,qa(0)}}function Uy(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,xa(r)))}function Bl(i){return Ly(),Py(),By(),Vy()}function Vy(){if(At!==5)return!1;var i=Vi,r=kd;kd=0;var o=Zc(br),u=H.T,p=X.p;try{X.p=32>o?32:o,H.T=null,o=Ad,Ad=null;var y=Vi,w=br;if(At=0,vr=Vi=null,br=0,(ze&6)!==0)throw Error(s(331));var S=ze;if(ze|=4,Sy(y.current),xy(y,y.current,w,o),ze=S,qa(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ze,y)}catch{}return!0}finally{X.p=p,H.T=u,Uy(i,r)}}function qy(i,r,o){r=pn(o,r),r=ld(i.stateNode,r,2),i=Ri(i,r,2),i!==null&&(sa(i,2),In(i))}function He(i,r,o){if(i.tag===3)qy(i,i,o);else for(;r!==null;){if(r.tag===3){qy(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){i=pn(o,i),o=Fg(2),u=Ri(r,o,2),u!==null&&(Gg(o,u,r,i),sa(u,2),In(u));break}}r=r.return}}function Od(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new hS;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(jd=!0,p.add(o),i=yS.bind(null,i,r,o),r.then(i,i))}function yS(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ye===i&&(Ne&o)===o&&(at===4||at===3&&(Ne&62914560)===Ne&&300>st()-Cd?(ze&2)===0&&xr(i,0):Ed|=o,yr===Ne&&(yr=0)),In(i)}function Hy(i,r){r===0&&(r=Bm()),i=nr(i,r),i!==null&&(sa(i,r),In(i))}function vS(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Hy(i,o)}function bS(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Hy(i,o)}function xS(i,r){return Je(i,r)}var Ul=null,_r=null,zd=!1,Vl=!1,Ld=!1,ks=0;function In(i){i!==_r&&i.next===null&&(_r===null?Ul=_r=i:_r=_r.next=i),Vl=!0,zd||(zd=!0,_S())}function qa(i,r){if(!Ld&&Vl){Ld=!0;do for(var o=!1,u=Ul;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-Ct(42|i)+1)-1,y&=p&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Gy(u,y))}else y=Ne,y=Go(u,u===Ye?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ia(u,y)||(o=!0,Gy(u,y));u=u.next}while(o);Ld=!1}}function wS(){$y()}function $y(){Vl=zd=!1;var i=0;ks!==0&&(RS()&&(i=ks),ks=0);for(var r=st(),o=null,u=Ul;u!==null;){var p=u.next,y=Iy(u,r);y===0?(u.next=null,o===null?Ul=p:o.next=p,p===null&&(_r=o)):(o=u,(i!==0||(y&3)!==0)&&(Vl=!0)),u=p}qa(i)}function Iy(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Ct(y),S=1<<w,O=p[w];O===-1?((S&o)===0||(S&u)!==0)&&(p[w]=Y1(S,r)):O<=r&&(i.expiredLanes|=S),y&=~S}if(r=Ye,o=Ne,o=Go(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Le===2||Le===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&De(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ia(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&De(u),Zc(o)){case 2:case 8:o=Cn;break;case 32:o=kn;break;case 268435456:o=Si;break;default:o=kn}return u=Fy.bind(null,i),o=Je(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&De(u),i.callbackPriority=2,i.callbackNode=null,2}function Fy(i,r){if(At!==0&&At!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Bl()&&i.callbackNode!==o)return null;var u=Ne;return u=Go(i,i===Ye?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Cy(i,u,r),Iy(i,st()),i.callbackNode!=null&&i.callbackNode===o?Fy.bind(null,i):null)}function Gy(i,r){if(Bl())return null;Cy(i,r,!0)}function _S(){MS(function(){(ze&6)!==0?Je(Ge,wS):$y()})}function Pd(){return ks===0&&(ks=Pm()),ks}function Yy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zo(""+i)}function Ky(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function SS(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=Yy((p[It]||null).action),w=u.submitter;w&&(r=(r=w[It]||null)?Yy(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var S=new tl("action","action",null,u,p);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ks!==0){var O=w?Ky(p,w):new FormData(p);id(o,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=w?Ky(p,w):new FormData(p),id(o,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Bd=0;Bd<_u.length;Bd++){var Ud=_u[Bd],jS=Ud.toLowerCase(),ES=Ud[0].toUpperCase()+Ud.slice(1);An(jS,"on"+ES)}An(Cp,"onAnimationEnd"),An(kp,"onAnimationIteration"),An(Ap,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(H_,"onTransitionRun"),An($_,"onTransitionStart"),An(I_,"onTransitionCancel"),An(Rp,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ha));function Xy(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var S=u[w],O=S.instance,G=S.currentTarget;if(S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=G;try{y(p)}catch(Z){Cl(Z)}p.currentTarget=null,y=O}else for(w=0;w<u.length;w++){if(S=u[w],O=S.instance,G=S.currentTarget,S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=G;try{y(p)}catch(Z){Cl(Z)}p.currentTarget=null,y=O}}}}function ke(i,r){var o=r[Wc];o===void 0&&(o=r[Wc]=new Set);var u=i+"__bubble";o.has(u)||(Qy(r,i,2,!1),o.add(u))}function Vd(i,r,o){var u=0;r&&(u|=4),Qy(o,i,u,r)}var ql="_reactListening"+Math.random().toString(36).slice(2);function qd(i){if(!i[ql]){i[ql]=!0,$m.forEach(function(o){o!=="selectionchange"&&(TS.has(o)||Vd(o,!1,i),Vd(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ql]||(r[ql]=!0,Vd("selectionchange",!1,r))}}function Qy(i,r,o,u){switch(x0(r)){case 2:var p=JS;break;case 8:p=e2;break;default:p=th}o=p.bind(null,r,o,i),p=void 0,!cu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Hd(i,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===p)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;S!==null;){if(w=$s(S),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=y=w;continue e}S=S.parentNode}}u=u.return}ip(function(){var G=y,Z=ou(o),ee=[];e:{var Y=Np.get(i);if(Y!==void 0){var K=tl,ve=i;switch(i){case"keypress":if(Jo(o)===0)break e;case"keydown":case"keyup":K=x_;break;case"focusin":ve="focus",K=fu;break;case"focusout":ve="blur",K=fu;break;case"beforeblur":case"afterblur":K=fu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=l_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=S_;break;case Cp:case kp:case Ap:K=d_;break;case Rp:K=E_;break;case"scroll":case"scrollend":K=a_;break;case"wheel":K=C_;break;case"copy":case"cut":case"paste":K=f_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=lp;break;case"toggle":case"beforetoggle":K=A_}var fe=(r&4)!==0,qe=!fe&&(i==="scroll"||i==="scrollend"),q=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var B=G,$;B!==null;){var W=B;if($=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||$===null||q===null||(W=oa(B,q),W!=null&&fe.push($a(B,W,$))),qe)break;B=B.return}0<fe.length&&(Y=new K(Y,ve,null,o,Z),ee.push({event:Y,listeners:fe}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",Y&&o!==au&&(ve=o.relatedTarget||o.fromElement)&&($s(ve)||ve[Hs]))break e;if((K||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(ve=o.relatedTarget||o.toElement,K=G,ve=ve?$s(ve):null,ve!==null&&(qe=l(ve),fe=ve.tag,ve!==qe||fe!==5&&fe!==27&&fe!==6)&&(ve=null)):(K=null,ve=G),K!==ve)){if(fe=ap,W="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(fe=lp,W="onPointerLeave",q="onPointerEnter",B="pointer"),qe=K==null?Y:aa(K),$=ve==null?Y:aa(ve),Y=new fe(W,B+"leave",K,o,Z),Y.target=qe,Y.relatedTarget=$,W=null,$s(Z)===G&&(fe=new fe(q,B+"enter",ve,o,Z),fe.target=$,fe.relatedTarget=qe,W=fe),qe=W,K&&ve)t:{for(fe=K,q=ve,B=0,$=fe;$;$=Sr($))B++;for($=0,W=q;W;W=Sr(W))$++;for(;0<B-$;)fe=Sr(fe),B--;for(;0<$-B;)q=Sr(q),$--;for(;B--;){if(fe===q||q!==null&&fe===q.alternate)break t;fe=Sr(fe),q=Sr(q)}fe=null}else fe=null;K!==null&&Zy(ee,Y,K,fe,!1),ve!==null&&qe!==null&&Zy(ee,qe,ve,fe,!0)}}e:{if(Y=G?aa(G):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var oe=gp;else if(mp(Y))if(yp)oe=U_;else{oe=P_;var Ee=L_}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&ru(G.elementType)&&(oe=gp):oe=B_;if(oe&&(oe=oe(i,G))){pp(ee,oe,o,Z);break e}Ee&&Ee(i,Y,G),i==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&su(Y,"number",Y.value)}switch(Ee=G?aa(G):window,i){case"focusin":(mp(Ee)||Ee.contentEditable==="true")&&(Js=Ee,bu=G,pa=null);break;case"focusout":pa=bu=Js=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,Ep(ee,o,Z);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":Ep(ee,o,Z)}var de;if(pu)e:{switch(i){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ws?hp(i,o)&&(pe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(cp&&o.locale!=="ko"&&(Ws||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ws&&(de=sp()):(Ti=Z,uu="value"in Ti?Ti.value:Ti.textContent,Ws=!0)),Ee=Hl(G,pe),0<Ee.length&&(pe=new op(pe,i,null,o,Z),ee.push({event:pe,listeners:Ee}),de?pe.data=de:(de=fp(o),de!==null&&(pe.data=de)))),(de=N_?M_(i,o):D_(i,o))&&(pe=Hl(G,"onBeforeInput"),0<pe.length&&(Ee=new op("onBeforeInput","beforeinput",null,o,Z),ee.push({event:Ee,listeners:pe}),Ee.data=de)),SS(ee,i,G,o,Z)}Xy(ee,r)})}function $a(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Hl(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=oa(i,o),p!=null&&u.unshift($a(i,p,y)),p=oa(i,r),p!=null&&u.push($a(i,p,y))),i.tag===3)return u;i=i.return}return[]}function Sr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Zy(i,r,o,u,p){for(var y=r._reactName,w=[];o!==null&&o!==u;){var S=o,O=S.alternate,G=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||G===null||(O=G,p?(G=oa(o,y),G!=null&&w.unshift($a(o,G,O))):p||(G=oa(o,y),G!=null&&w.push($a(o,G,O)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var CS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Wy(i){return(typeof i=="string"?i:""+i).replace(CS,`
`).replace(kS,"")}function Jy(i,r){return r=Wy(r),Wy(i)===r}function $l(){}function Ve(i,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Xs(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Xs(i,""+u);break;case"className":Ko(i,"class",u);break;case"tabIndex":Ko(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ko(i,o,u);break;case"style":tp(i,u,y);break;case"data":if(r!=="object"){Ko(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Zo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&Ve(i,r,"name",p.name,p,null),Ve(i,r,"formEncType",p.formEncType,p,null),Ve(i,r,"formMethod",p.formMethod,p,null),Ve(i,r,"formTarget",p.formTarget,p,null)):(Ve(i,r,"encType",p.encType,p,null),Ve(i,r,"method",p.method,p,null),Ve(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Zo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=$l);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Zo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ke("beforetoggle",i),ke("toggle",i),Yo(i,"popover",u);break;case"xlinkActuate":ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ni(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ni(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ni(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ni(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=s_.get(o)||o,Yo(i,o,u))}}function $d(i,r,o,u,p,y){switch(o){case"style":tp(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Xs(i,u):(typeof u=="number"||typeof u=="bigint")&&Xs(i,""+u);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"onClick":u!=null&&(i.onclick=$l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Im.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=i[It]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Yo(i,o,u)}}}function Rt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ve(i,r,y,w,o,null)}}p&&Ve(i,r,"srcSet",o.srcSet,o,null),u&&Ve(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var S=y=w=p=null,O=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":p=Z;break;case"type":w=Z;break;case"checked":O=Z;break;case"defaultChecked":G=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Ve(i,r,u,Z,o,null)}}Zm(i,y,S,O,G,w,p,!1),Xo(i);return;case"select":ke("invalid",i),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(S=o[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:Ve(i,r,p,S,o,null)}r=y,o=w,i.multiple=!!u,r!=null?Ks(i,!!u,r,!1):o!=null&&Ks(i,!!u,o,!0);return;case"textarea":ke("invalid",i),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ve(i,r,w,S,o,null)}Jm(i,u,p,y),Xo(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(i,r,O,u,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(u=0;u<Ha.length;u++)ke(Ha[u],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ve(i,r,G,u,o,null)}return;default:if(ru(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&$d(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Ve(i,r,S,u,o,null))}function AS(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,S=null,O=null,G=null,Z=null;for(K in o){var ee=o[K];if(o.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ee;default:u.hasOwnProperty(K)||Ve(i,r,K,null,u,ee)}}for(var Y in u){var K=u[Y];if(ee=o[Y],u.hasOwnProperty(Y)&&(K!=null||ee!=null))switch(Y){case"type":y=K;break;case"name":p=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":w=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&Ve(i,r,Y,K,u,ee)}}iu(i,w,S,O,G,Z,y,p);return;case"select":K=w=S=Y=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":K=O;default:u.hasOwnProperty(y)||Ve(i,r,y,null,u,O)}for(p in u)if(y=u[p],O=o[p],u.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==O&&Ve(i,r,p,y,u,O)}r=S,o=w,u=K,Y!=null?Ks(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":K=Y=null;for(S in o)if(p=o[S],o.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ve(i,r,S,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":Y=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&Ve(i,r,w,p,u,y)}Wm(i,Y,K);return;case"option":for(var ve in o)if(Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:Ve(i,r,ve,null,u,Y)}for(O in u)if(Y=u[O],K=o[O],u.hasOwnProperty(O)&&Y!==K&&(Y!=null||K!=null))switch(O){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ve(i,r,O,Y,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in o)Y=o[fe],o.hasOwnProperty(fe)&&Y!=null&&!u.hasOwnProperty(fe)&&Ve(i,r,fe,null,u,Y);for(G in u)if(Y=u[G],K=o[G],u.hasOwnProperty(G)&&Y!==K&&(Y!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ve(i,r,G,Y,u,K)}return;default:if(ru(r)){for(var qe in o)Y=o[qe],o.hasOwnProperty(qe)&&Y!==void 0&&!u.hasOwnProperty(qe)&&$d(i,r,qe,void 0,u,Y);for(Z in u)Y=u[Z],K=o[Z],!u.hasOwnProperty(Z)||Y===K||Y===void 0&&K===void 0||$d(i,r,Z,Y,u,K);return}}for(var q in o)Y=o[q],o.hasOwnProperty(q)&&Y!=null&&!u.hasOwnProperty(q)&&Ve(i,r,q,null,u,Y);for(ee in u)Y=u[ee],K=o[ee],!u.hasOwnProperty(ee)||Y===K||Y==null&&K==null||Ve(i,r,ee,Y,u,K)}var Id=null,Fd=null;function Il(i){return i.nodeType===9?i:i.ownerDocument}function e0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Gd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yd=null;function RS(){var i=window.event;return i&&i.type==="popstate"?i===Yd?!1:(Yd=i,!0):(Yd=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(i){return i0.resolve(null).then(i).catch(DS)}:n0;function DS(i){setTimeout(function(){throw i})}function Hi(i){return i==="head"}function s0(i,r){var o=r,u=0,p=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var w=i.ownerDocument;if(o&1&&Ia(w.documentElement),o&2&&Ia(w.body),o&4)for(o=w.head,Ia(o),w=o.firstChild;w;){var S=w.nextSibling,O=w.nodeName;w[ra]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(p===0){i.removeChild(y),Wa(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);Wa(r)}function Kd(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kd(o),Jc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function OS(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ra])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Nn(i.nextSibling),i===null)break}return null}function zS(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Nn(i.nextSibling),i===null))return null;return i}function Xd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function LS(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Nn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Qd=null;function r0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function a0(i,r,o){switch(r=Il(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ia(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Jc(i)}var wn=new Map,o0=new Set;function Fl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gi=X.d;X.d={f:PS,r:BS,D:US,C:VS,L:qS,m:HS,X:IS,S:$S,M:FS};function PS(){var i=gi.f(),r=Ll();return i||r}function BS(i){var r=Is(i);r!==null&&r.tag===5&&r.type==="form"?Cg(r):gi.r(i)}var jr=typeof document>"u"?null:document;function l0(i,r,o){var u=jr;if(u&&typeof r=="string"&&r){var p=mn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),o0.has(p)||(o0.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Rt(r,"link",i),bt(r),u.head.appendChild(r)))}}function US(i){gi.D(i),l0("dns-prefetch",i,null)}function VS(i,r){gi.C(i,r),l0("preconnect",i,r)}function qS(i,r,o){gi.L(i,r,o);var u=jr;if(u&&i&&r){var p='link[rel="preload"][as="'+mn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+mn(o.imageSizes)+'"]')):p+='[href="'+mn(i)+'"]';var y=p;switch(r){case"style":y=Er(i);break;case"script":y=Tr(i)}wn.has(y)||(i=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),wn.set(y,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(Fa(y))||r==="script"&&u.querySelector(Ga(y))||(r=u.createElement("link"),Rt(r,"link",i),bt(r),u.head.appendChild(r)))}}function HS(i,r){gi.m(i,r);var o=jr;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tr(i)}if(!wn.has(y)&&(i=g({rel:"modulepreload",href:i},r),wn.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ga(y)))return}u=o.createElement("link"),Rt(u,"link",i),bt(u),o.head.appendChild(u)}}}function $S(i,r,o){gi.S(i,r,o);var u=jr;if(u&&i){var p=Fs(u).hoistableStyles,y=Er(i);r=r||"default";var w=p.get(y);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(Fa(y)))S.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":r},o),(o=wn.get(y))&&Zd(i,o);var O=w=u.createElement("link");bt(O),Rt(O,"link",i),O._p=new Promise(function(G,Z){O.onload=G,O.onerror=Z}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gl(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:S},p.set(y,w)}}}function IS(i,r){gi.X(i,r);var o=jr;if(o&&i){var u=Fs(o).hoistableScripts,p=Tr(i),y=u.get(p);y||(y=o.querySelector(Ga(p)),y||(i=g({src:i,async:!0},r),(r=wn.get(p))&&Wd(i,r),y=o.createElement("script"),bt(y),Rt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function FS(i,r){gi.M(i,r);var o=jr;if(o&&i){var u=Fs(o).hoistableScripts,p=Tr(i),y=u.get(p);y||(y=o.querySelector(Ga(p)),y||(i=g({src:i,async:!0,type:"module"},r),(r=wn.get(p))&&Wd(i,r),y=o.createElement("script"),bt(y),Rt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function c0(i,r,o,u){var p=(p=le.current)?Fl(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Er(o.href),o=Fs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Er(o.href);var y=Fs(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(Fa(i)))&&!y._p&&(w.instance=y,w.state.loading=5),wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(i,o),y||GS(p,i,o,w.state))),r&&u===null)throw Error(s(528,""));return w}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Tr(o),o=Fs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Er(i){return'href="'+mn(i)+'"'}function Fa(i){return'link[rel="stylesheet"]['+i+"]"}function u0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function GS(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Rt(r,"link",o),bt(r),i.head.appendChild(r))}function Tr(i){return'[src="'+mn(i)+'"]'}function Ga(i){return"script[async]"+i}function d0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+mn(o.href)+'"]');if(u)return r.instance=u,bt(u),u;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),bt(u),Rt(u,"style",p),Gl(u,o.precedence,i),r.instance=u;case"stylesheet":p=Er(o.href);var y=i.querySelector(Fa(p));if(y)return r.state.loading|=4,r.instance=y,bt(y),y;u=u0(o),(p=wn.get(p))&&Zd(u,p),y=(i.ownerDocument||i).createElement("link"),bt(y);var w=y;return w._p=new Promise(function(S,O){w.onload=S,w.onerror=O}),Rt(y,"link",u),r.state.loading|=4,Gl(y,o.precedence,i),r.instance=y;case"script":return y=Tr(o.src),(p=i.querySelector(Ga(y)))?(r.instance=p,bt(p),p):(u=o,(p=wn.get(y))&&(u=g({},o),Wd(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),bt(p),Rt(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Gl(u,o.precedence,i));return r.instance}function Gl(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===r)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Zd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Yl=null;function h0(i,r,o){if(Yl===null){var u=new Map,p=Yl=new Map;p.set(o,u)}else p=Yl,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[ra]||y[Dt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=i+w;var S=u.get(w);S?S.push(y):u.set(w,[y])}}return u}function f0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function YS(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function m0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ya=null;function KS(){}function XS(i,r,o){if(Ya===null)throw Error(s(475));var u=Ya;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Er(o.href),y=i.querySelector(Fa(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Kl.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=y,bt(y);return}y=i.ownerDocument||i,o=u0(o),(p=wn.get(p))&&Zd(o,p),y=y.createElement("link"),bt(y);var w=y;w._p=new Promise(function(S,O){w.onload=S,w.onerror=O}),Rt(y,"link",o),r.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Kl.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function QS(){if(Ya===null)throw Error(s(475));var i=Ya;return i.stylesheets&&i.count===0&&Jd(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Jd(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Kl(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xl=null;function Jd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xl=new Map,r.forEach(ZS,i),Xl=null,Kl.call(i))}function ZS(i,r){if(!(r.state.loading&4)){var o=Xl.get(i);if(o)var u=o.get(null);else{o=new Map,Xl.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=r.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=Kl.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Ka={$$typeof:z,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function WS(i,r,o,u,p,y,w,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.hiddenUpdates=Xc(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function p0(i,r,o,u,p,y,w,S,O,G,Z,ee){return i=new WS(i,r,o,w,S,O,G,ee),r=1,y===!0&&(r|=24),y=Wt(3,null,null,r),i.current=y,y.stateNode=i,r=Ou(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Bu(y),i}function g0(i){return i?(i=ir,i):ir}function y0(i,r,o,u,p,y){p=g0(p),u.context===null?u.context=p:u.pendingContext=p,u=Ai(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ri(i,u,r),o!==null&&(sn(o,i,r),ja(o,i,r))}function v0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function eh(i,r){v0(i,r),(i=i.alternate)&&v0(i,r)}function b0(i){if(i.tag===13){var r=nr(i,67108864);r!==null&&sn(r,i,67108864),eh(i,67108864)}}var Ql=!0;function JS(i,r,o,u){var p=H.T;H.T=null;var y=X.p;try{X.p=2,th(i,r,o,u)}finally{X.p=y,H.T=p}}function e2(i,r,o,u){var p=H.T;H.T=null;var y=X.p;try{X.p=8,th(i,r,o,u)}finally{X.p=y,H.T=p}}function th(i,r,o,u){if(Ql){var p=nh(u);if(p===null)Hd(i,r,u,Zl,o),w0(i,u);else if(n2(p,i,r,o,u))u.stopPropagation();else if(w0(i,u),r&4&&-1<t2.indexOf(i)){for(;p!==null;){var y=Is(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ds(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var O=1<<31-Ct(w);S.entanglements[1]|=O,w&=~O}In(y),(ze&6)===0&&(Ol=st()+500,qa(0))}}break;case 13:S=nr(y,2),S!==null&&sn(S,y,2),Ll(),eh(y,2)}if(y=nh(u),y===null&&Hd(i,r,u,Zl,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Hd(i,r,u,null,o)}}function nh(i){return i=ou(i),ih(i)}var Zl=null;function ih(i){if(Zl=null,i=$s(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Zl=i,null}function x0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ge:return 2;case Cn:return 8;case kn:case un:return 32;case Si:return 268435456;default:return 32}default:return 32}}var sh=!1,$i=null,Ii=null,Fi=null,Xa=new Map,Qa=new Map,Gi=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(i,r){switch(i){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Xa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(r.pointerId)}}function Za(i,r,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Is(r),r!==null&&b0(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function n2(i,r,o,u,p){switch(r){case"focusin":return $i=Za($i,i,r,o,u,p),!0;case"dragenter":return Ii=Za(Ii,i,r,o,u,p),!0;case"mouseover":return Fi=Za(Fi,i,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Xa.set(y,Za(Xa.get(y)||null,i,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Qa.set(y,Za(Qa.get(y)||null,i,r,o,u,p)),!0}return!1}function _0(i){var r=$s(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,X1(i.priority,function(){if(o.tag===13){var u=nn();u=Qc(u);var p=nr(o,u);p!==null&&sn(p,o,u),eh(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wl(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=nh(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);au=u,o.target.dispatchEvent(u),au=null}else return r=Is(o),r!==null&&b0(r),i.blockedOn=o,!1;r.shift()}return!0}function S0(i,r,o){Wl(i)&&o.delete(r)}function i2(){sh=!1,$i!==null&&Wl($i)&&($i=null),Ii!==null&&Wl(Ii)&&(Ii=null),Fi!==null&&Wl(Fi)&&(Fi=null),Xa.forEach(S0),Qa.forEach(S0)}function Jl(i,r){i.blockedOn===r&&(i.blockedOn=null,sh||(sh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i2)))}var ec=null;function j0(i){ec!==i&&(ec=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ec===i&&(ec=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(ih(u||o)===null)continue;break}var y=Is(o);y!==null&&(i.splice(r,3),r-=3,id(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Wa(i){function r(O){return Jl(O,i)}$i!==null&&Jl($i,i),Ii!==null&&Jl(Ii,i),Fi!==null&&Jl(Fi,i),Xa.forEach(r),Qa.forEach(r);for(var o=0;o<Gi.length;o++){var u=Gi[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Gi.length&&(o=Gi[0],o.blockedOn===null);)_0(o),o.blockedOn===null&&Gi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[It]||null;if(typeof y=="function")w||j0(o);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[It]||null)S=w.formAction;else if(ih(p)!==null)continue}else S=w.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),j0(o)}}}function rh(i){this._internalRoot=i}tc.prototype.render=rh.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=nn();y0(o,u,i,r,null,null)},tc.prototype.unmount=rh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;y0(i.current,2,null,i,null,null),Ll(),r[Hs]=null}};function tc(i){this._internalRoot=i}tc.prototype.unstable_scheduleHydration=function(i){if(i){var r=qm();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Gi.length&&r!==0&&r<Gi[o].priority;o++);Gi.splice(o,0,i),o===0&&_0(i)}};var E0=e.version;if(E0!=="19.1.0")throw Error(s(527,E0,"19.1.0"));X.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=h(r),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var s2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Ze=nc.inject(s2),Be=nc}catch{}}return eo.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=qg,y=Hg,w=$g,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=p0(i,1,!1,null,null,o,u,p,y,w,S,null),i[Hs]=r.current,qd(i),new rh(r)},eo.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",y=qg,w=Hg,S=$g,O=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=p0(i,1,!0,r,o??null,u,p,y,w,S,O,G),r.context=g0(null),o=r.current,u=nn(),u=Qc(u),p=Ai(u),p.callback=null,Ri(o,p,u),o=u,r.current.lanes=o,sa(r,o),In(r),i[Hs]=r.current,qd(i),new tc(r)},eo.version="19.1.0",eo}var z0;function p2(){if(z0)return lh.exports;z0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lh.exports=m2(),lh.exports}var g2=p2(),to={},L0;function y2(){if(L0)return to;L0=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=c,to.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,x){const _=new l,T=b.length;if(T<2)return _;const R=(x==null?void 0:x.decode)||g;let k=0;do{const U=b.indexOf("=",k);if(U===-1)break;const z=b.indexOf(";",k),A=z===-1?T:z;if(U>A){k=b.lastIndexOf(";",U-1)+1;continue}const L=d(b,k,U),P=h(b,U,L),I=b.slice(L,P);if(_[I]===void 0){let C=d(b,U+1,A),j=h(b,A,C);const N=R(b.slice(C,j));_[I]=N}k=A+1}while(k<T);return _}function d(b,x,_){do{const T=b.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<_);return _}function h(b,x,_){for(;x>_;){const T=b.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return _}function f(b,x,_){const T=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const R=T(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let k=b+"="+R;if(!_)return k;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);k+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);k+="; Domain="+_.domain}if(_.path){if(!s.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);k+="; Path="+_.path}if(_.expires){if(!v(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);k+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(k+="; HttpOnly"),_.secure&&(k+="; Secure"),_.partitioned&&(k+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return k}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return a.call(b)==="[object Date]"}return to}y2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P0="popstate";function v2(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return Zh("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:wo(a)}return x2(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b2(){return Math.random().toString(36).substring(2,10)}function B0(t,e){return{usr:t.state,key:t.key,idx:e}}function Zh(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wr(e):e,state:n,key:e&&e.key||s||b2()}}function wo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function x2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",h=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let R=g(),k=R==null?null:R-f;f=R,h&&h({action:d,location:T.location,delta:k})}function b(R,k){d="PUSH";let U=Zh(T.location,R,k);f=g()+1;let z=B0(U,f),A=T.createHref(U);try{c.pushState(z,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(A)}l&&h&&h({action:d,location:T.location,delta:1})}function x(R,k){d="REPLACE";let U=Zh(T.location,R,k);f=g();let z=B0(U,f),A=T.createHref(U);c.replaceState(z,"",A),l&&h&&h({action:d,location:T.location,delta:0})}function _(R){let k=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof R=="string"?R:wo(R);return U=U.replace(/ $/,"%20"),it(k,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,k)}let T={get action(){return d},get location(){return t(a,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(P0,v),h=R,()=>{a.removeEventListener(P0,v),h=null}},createHref(R){return e(a,R)},createURL:_,encodeLocation(R){let k=_(R);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(R){return c.go(R)}};return T}function ex(t,e,n="/"){return w2(t,e,n,!1)}function w2(t,e,n,s){let a=typeof e=="string"?Wr(e):e,l=wi(a.pathname||"/",n);if(l==null)return null;let c=tx(t);_2(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=D2(l);d=N2(c[h],f,s)}return d}function tx(t,e=[],n=[],s=""){let a=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(it(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let f=vi([s,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(it(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),tx(l.children,e,g,f)),!(l.path==null&&!l.index)&&e.push({path:f,score:A2(f,l.index),routesMeta:g})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let h of nx(l.path))a(l,c,h)}),e}function nx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=nx(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function _2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var S2=/^:[\w-]+$/,j2=3,E2=2,T2=1,C2=10,k2=-2,U0=t=>t==="*";function A2(t,e){let n=t.split("/"),s=n.length;return n.some(U0)&&(s+=k2),e&&(s+=E2),n.filter(a=>!U0(a)).reduce((a,l)=>a+(S2.test(l)?j2:l===""?T2:C2),s)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function N2(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=wc({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),b=h.route;if(!v&&f&&n&&!s[s.length-1].route.index&&(v=wc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:vi([l,v.pathname]),pathnameBase:P2(vi([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=vi([l,v.pathnameBase]))}return c}function wc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=M2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((f,{paramName:g,isOptional:v},b)=>{if(g==="*"){let _=d[b]||"";c=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const x=d[b];return v&&!x?f[g]=void 0:f[g]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function M2(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function D2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function O2(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Wr(t):t;return{pathname:n?n.startsWith("/")?n:z2(n,e):e,search:B2(s),hash:U2(a)}}function z2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hh(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ix(t){let e=L2(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sx(t,e,n,s=!1){let a;typeof t=="string"?a=Wr(t):(a={...t},it(!a.pathname||!a.pathname.includes("?"),hh("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),hh("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),hh("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}d=v>=0?e[v]:"/"}let h=O2(a,d),f=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var vi=t=>t.join("/").replace(/\/\/+/g,"/"),P2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rx=["POST","PUT","PATCH","DELETE"];new Set(rx);var q2=["GET",...rx];new Set(q2);var Jr=E.createContext(null);Jr.displayName="DataRouter";var Pc=E.createContext(null);Pc.displayName="DataRouterState";var ax=E.createContext({isTransitioning:!1});ax.displayName="ViewTransition";var H2=E.createContext(new Map);H2.displayName="Fetchers";var $2=E.createContext(null);$2.displayName="Await";var Jn=E.createContext(null);Jn.displayName="Navigation";var zo=E.createContext(null);zo.displayName="Location";var ei=E.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Df=E.createContext(null);Df.displayName="RouteError";function I2(t,{relative:e}={}){it(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=E.useContext(Jn),{hash:a,pathname:l,search:c}=Bo(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:vi([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Lo(){return E.useContext(zo)!=null}function as(){return it(Lo(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(zo).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lx(t){E.useContext(Jn).static||E.useLayoutEffect(t)}function Po(){let{isDataRoute:t}=E.useContext(ei);return t?sj():F2()}function F2(){it(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Jr),{basename:e,navigator:n}=E.useContext(Jn),{matches:s}=E.useContext(ei),{pathname:a}=as(),l=JSON.stringify(ix(s)),c=E.useRef(!1);return lx(()=>{c.current=!0}),E.useCallback((h,f={})=>{if(Wn(c.current,ox),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=sx(h,JSON.parse(l),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:vi([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,l,a,t])}E.createContext(null);function G2(){let{matches:t}=E.useContext(ei),e=t[t.length-1];return e?e.params:{}}function Bo(t,{relative:e}={}){let{matches:n}=E.useContext(ei),{pathname:s}=as(),a=JSON.stringify(ix(n));return E.useMemo(()=>sx(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function Y2(t,e){return cx(t,e)}function cx(t,e,n,s){var U;it(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=E.useContext(Jn),{matches:c}=E.useContext(ei),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let z=v&&v.path||"";ux(f,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=as(),x;if(e){let z=typeof e=="string"?Wr(e):e;it(g==="/"||((U=z.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=b;let _=x.pathname||"/",T=_;if(g!=="/"){let z=g.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(z.length).join("/")}let R=!l&&n&&n.matches&&n.matches.length>0?n.matches:ex(t,{pathname:T});Wn(v||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Wn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=W2(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:vi([g,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:vi([g,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,n,s);return e&&k?E.createElement(zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function K2(){let t=ij(),e=V2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:a},n):null,c)}var X2=E.createElement(K2,null),Q2=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(ei.Provider,{value:this.props.routeContext},E.createElement(Df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z2({routeContext:t,match:e,children:n}){let s=E.useContext(Jr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(ei.Provider,{value:t},n)}function W2(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);it(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:g,errors:v}=n,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,g)=>{let v,b=!1,x=null,_=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||X2,c&&(d<0&&g===0?(ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===g&&(b=!0,_=f.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,g+1)),R=()=>{let k;return v?k=x:b?k=_:f.route.Component?k=E.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=h,E.createElement(Z2,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?E.createElement(Q2,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}function Of(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J2(t){let e=E.useContext(Jr);return it(e,Of(t)),e}function ej(t){let e=E.useContext(Pc);return it(e,Of(t)),e}function tj(t){let e=E.useContext(ei);return it(e,Of(t)),e}function zf(t){let e=tj(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nj(){return zf("useRouteId")}function ij(){var s;let t=E.useContext(Df),e=ej("useRouteError"),n=zf("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function sj(){let{router:t}=J2("useNavigate"),e=zf("useNavigate"),n=E.useRef(!1);return lx(()=>{n.current=!0}),E.useCallback(async(a,l={})=>{Wn(n.current,ox),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var V0={};function ux(t,e,n){!e&&!V0[t]&&(V0[t]=!0,Wn(!1,n))}E.memo(rj);function rj({routes:t,future:e,state:n}){return cx(t,void 0,n,e)}function rn(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aj({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){it(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Wr(n));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:b="default"}=n,x=E.useMemo(()=>{let _=wi(h,c);return _==null?null:{location:{pathname:_,search:f,hash:g,state:v,key:b},navigationType:s}},[c,h,f,g,v,b,s]);return Wn(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:E.createElement(Jn.Provider,{value:d},E.createElement(zo.Provider,{children:e,value:x}))}function oj({children:t,location:e}){return Y2(Wh(t),e)}function Wh(t,e=[]){let n=[];return E.Children.forEach(t,(s,a)=>{if(!E.isValidElement(s))return;let l=[...e,a];if(s.type===E.Fragment){n.push.apply(n,Wh(s.props.children,l));return}it(s.type===rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Wh(s.props.children,l)),n.push(c)}),n}var fc="get",mc="application/x-www-form-urlencoded";function Bc(t){return t!=null&&typeof t.tagName=="string"}function lj(t){return Bc(t)&&t.tagName.toLowerCase()==="button"}function cj(t){return Bc(t)&&t.tagName.toLowerCase()==="form"}function uj(t){return Bc(t)&&t.tagName.toLowerCase()==="input"}function dj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hj(t,e){return t.button===0&&(!e||e==="_self")&&!dj(t)}var ic=null;function fj(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var mj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fh(t){return t!=null&&!mj.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):t}function pj(t,e){let n,s,a,l,c;if(cj(t)){let d=t.getAttribute("action");s=d?wi(d,e):null,n=t.getAttribute("method")||fc,a=fh(t.getAttribute("enctype"))||mc,l=new FormData(t)}else if(lj(t)||uj(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?wi(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||fc,a=fh(t.getAttribute("formenctype"))||fh(d.getAttribute("enctype"))||mc,l=new FormData(d,t),!fj()){let{name:f,type:g,value:v}=t;if(g==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,v)}}else{if(Bc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fc,s=null,a=mc,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Lf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vj(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await gj(l,n);return c.links?c.links():[]}return[]}));return _j(s.flat(1).filter(yj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function q0(t,e,n,s,a,l){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>{var g;return n[f].pathname!==h.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{var v;let g=s.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function bj(t,e,{includeHydrateFallback:n}={}){return xj(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function xj(t){return[...new Set(t)]}function wj(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function _j(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(wj(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Sj(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dx(){let t=E.useContext(Jr);return Lf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jj(){let t=E.useContext(Pc);return Lf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pf=E.createContext(void 0);Pf.displayName="FrameworkContext";function hx(){let t=E.useContext(Pf);return Lf(t,"You must render this element inside a <HydratedRouter> element"),t}function Ej(t,e){let n=E.useContext(Pf),[s,a]=E.useState(!1),[l,c]=E.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,b=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let T=k=>{k.forEach(U=>{c(U.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(s){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[s]);let x=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:no(d,x),onBlur:no(h,_),onMouseEnter:no(f,x),onMouseLeave:no(g,_),onTouchStart:no(v,x)}]:[!1,b,{}]}function no(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Tj({page:t,...e}){let{router:n}=dx(),s=E.useMemo(()=>ex(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?E.createElement(kj,{page:t,matches:s,...e}):null}function Cj(t){let{manifest:e,routeModules:n}=hx(),[s,a]=E.useState([]);return E.useEffect(()=>{let l=!1;return vj(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function kj({page:t,matches:e,...n}){let s=as(),{manifest:a,routeModules:l}=hx(),{basename:c}=dx(),{loaderData:d,matches:h}=jj(),f=E.useMemo(()=>q0(t,e,h,a,s,"data"),[t,e,h,a,s]),g=E.useMemo(()=>q0(t,e,h,a,s,"assets"),[t,e,h,a,s]),v=E.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let _=new Set,T=!1;if(e.forEach(k=>{var z;let U=a.routes[k.route.id];!U||!U.hasLoader||(!f.some(A=>A.route.id===k.route.id)&&k.route.id in d&&((z=l[k.route.id])!=null&&z.shouldRevalidate)||U.hasClientLoader?T=!0:_.add(k.route.id))}),_.size===0)return[];let R=Sj(t,c);return T&&_.size>0&&R.searchParams.set("_routes",e.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[R.pathname+R.search]},[c,d,s,a,f,e,t,l]),b=E.useMemo(()=>bj(g,a),[g,a]),x=Cj(g);return E.createElement(E.Fragment,null,v.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),b.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:T})=>E.createElement("link",{key:_,...T})))}function Aj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fx&&(window.__reactRouterVersion="7.5.0")}catch{}function Rj({basename:t,children:e,window:n}){let s=E.useRef();s.current==null&&(s.current=v2({window:n,v5Compat:!0}));let a=s.current,[l,c]=E.useState({action:a.action,location:a.location}),d=E.useCallback(h=>{E.startTransition(()=>c(h))},[c]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.createElement(aj,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=E.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:v,...b},x){let{basename:_}=E.useContext(Jn),T=typeof f=="string"&&mx.test(f),R,k=!1;if(typeof f=="string"&&T&&(R=f,fx))try{let j=new URL(window.location.href),N=f.startsWith("//")?new URL(j.protocol+f):new URL(f),D=wi(N.pathname,_);N.origin===j.origin&&D!=null?f=D+N.search+N.hash:k=!0}catch{Wn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=I2(f,{relative:a}),[z,A,L]=Ej(s,b),P=Oj(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:v});function I(j){e&&e(j),j.defaultPrevented||P(j)}let C=E.createElement("a",{...b,...L,href:R||U,onClick:k||l?e:I,ref:Aj(x,A),target:h,"data-discover":!T&&n==="render"?"true":void 0});return z&&!T?E.createElement(E.Fragment,null,C,E.createElement(Tj,{page:U})):C});ns.displayName="Link";var Nj=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:h,...f},g){let v=Bo(c,{relative:f.relative}),b=as(),x=E.useContext(Pc),{navigator:_,basename:T}=E.useContext(Jn),R=x!=null&&Uj(v)&&d===!0,k=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,U=b.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(U=U.toLowerCase(),z=z?z.toLowerCase():null,k=k.toLowerCase()),z&&T&&(z=wi(z,T)||z);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=U===k||!a&&U.startsWith(k)&&U.charAt(A)==="/",P=z!=null&&(z===k||!a&&z.startsWith(k)&&z.charAt(k.length)==="/"),I={isActive:L,isPending:P,isTransitioning:R},C=L?e:void 0,j;typeof s=="function"?j=s(I):j=[s,L?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(I):l;return E.createElement(ns,{...f,"aria-current":C,className:j,ref:g,style:N,to:c,viewTransition:d},typeof h=="function"?h(I):h)});Nj.displayName="NavLink";var Mj=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=fc,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v,...b},x)=>{let _=Pj(),T=Bj(d,{relative:f}),R=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&mx.test(d),U=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let A=z.nativeEvent.submitter,L=(A==null?void 0:A.getAttribute("formmethod"))||c;_(A||z.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:a,state:l,relative:f,preventScrollReset:g,viewTransition:v})};return E.createElement("form",{ref:x,method:R,action:T,onSubmit:s?h:U,...b,"data-discover":!k&&t==="render"?"true":void 0})});Mj.displayName="Form";function Dj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(t){let e=E.useContext(Jr);return it(e,Dj(t)),e}function Oj(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Po(),h=as(),f=Bo(t,{relative:l});return E.useCallback(g=>{if(hj(g,e)){g.preventDefault();let v=n!==void 0?n:wo(h)===wo(f);d(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[h,d,f,n,s,e,t,a,l,c])}var zj=0,Lj=()=>`__${String(++zj)}__`;function Pj(){let{router:t}=px("useSubmit"),{basename:e}=E.useContext(Jn),n=nj();return E.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=pj(s,e);if(a.navigate===!1){let g=a.fetcherKey||Lj();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Bj(t,{relative:e}={}){let{basename:n}=E.useContext(Jn),s=E.useContext(ei);it(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Bo(t||".",{relative:e})},c=as();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vi([n,l.pathname])),wo(l)}function Uj(t,e={}){let n=E.useContext(ax);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=px("useViewTransitionState"),a=Bo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wc(a.pathname,c)!=null||wc(a.pathname,l)!=null}new TextEncoder;const Vj="modulepreload",qj=function(t,e){return new URL(t,e).href},H0={},Gr=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=Promise.allSettled(n.map(f=>{if(f=qj(f,s),f in H0)return;H0[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(!!s)for(let _=c.length-1;_>=0;_--){const T=c[_];if(T.href===f&&(!g||T.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":Vj,g||(x.as="script"),x.crossOrigin="",x.href=f,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((_,T)=>{x.addEventListener("load",_),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},Hj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gr(async()=>{const{default:s}=await Promise.resolve().then(()=>ea);return{default:s}},[],import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Bf extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class $j extends Bf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ij extends Bf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fj extends Bf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jh||(Jh={}));var Gj=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};class Yj{constructor(e,{headers:n={},customFetch:s,region:a=Jh.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=Hj(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return Gj(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:c}=n;let d={},{region:h}=n;h||(h=this.region),h&&h!=="any"&&(d["x-region"]=h);let f;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=c):typeof c=="string"?(d["Content-Type"]="text/plain",f=c):typeof FormData<"u"&&c instanceof FormData?f=c:(d["Content-Type"]="application/json",f=JSON.stringify(c)));const g=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:f}).catch(_=>{throw new $j(_)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Ij(g);if(!g.ok)throw new Fj(g);let b=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield g.json():b==="application/octet-stream"?x=yield g.blob():b==="text/event-stream"?x=g:b==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var St={},Cr={},kr={},Ar={},Rr={},Nr={},Kj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yr=Kj();const Xj=Yr.fetch,gx=Yr.fetch.bind(Yr),yx=Yr.Headers,Qj=Yr.Request,Zj=Yr.Response,ea=Object.freeze(Object.defineProperty({__proto__:null,Headers:yx,Request:Qj,Response:Zj,default:gx,fetch:Xj},Symbol.toStringTag,{value:"Module"})),Wj=a2(ea);var sc={},$0;function vx(){if($0)return sc;$0=1,Object.defineProperty(sc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sc.default=t,sc}var I0;function bx(){if(I0)return Nr;I0=1;var t=Nr&&Nr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Nr,"__esModule",{value:!0});const e=t(Wj),n=t(vx());class s{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,v,b;let x=null,_=null,T=null,R=f.status,k=f.statusText;if(f.ok){if(this.method!=="HEAD"){const L=await f.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=L:_=JSON.parse(L))}const z=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");z&&A&&A.length>1&&(T=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,T=null,R=406,k="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const z=await f.text();try{x=JSON.parse(z),Array.isArray(x)&&f.status===404&&(_=[],x=null,R=200,k="OK")}catch{f.status===404&&z===""?(R=204,k="No Content"):x={message:z}}if(x&&this.isMaybeSingle&&(!((b=x==null?void 0:x.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,R=200,k="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:_,count:T,status:R,statusText:k}});return this.shouldThrowOnError||(h=h.catch(f=>{var g,v,b;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(v=f==null?void 0:f.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=f==null?void 0:f.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return Nr.default=s,Nr}var F0;function xx(){if(F0)return Rr;F0=1;var t=Rr&&Rr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Rr,"__esModule",{value:!0});const e=t(bx());class n extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(f,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var g;const v=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${b}"; options=${v};`,f==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Rr.default=n,Rr}var G0;function Uf(){if(G0)return Ar;G0=1;var t=Ar&&Ar.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ar,"__esModule",{value:!0});const e=t(xx());class n extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${h}fts${f}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return Ar.default=n,Ar}var Y0;function wx(){if(Y0)return kr;Y0=1;var t=kr&&kr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(kr,"__esModule",{value:!0});const e=t(Uf());class n{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=l,this.schema=c,this.fetch=d}select(a,{head:l=!1,count:c}={}){const d=l?"HEAD":"GET";let h=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:l,defaultToNull:c=!0}={}){const d="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const f=a.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){const f="POST",g=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const v=a.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(v.length>0){const b=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:l}={}){const c="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const l="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return kr.default=n,kr}var io={},so={},K0;function Jj(){return K0||(K0=1,Object.defineProperty(so,"__esModule",{value:!0}),so.version=void 0,so.version="0.0.0-automated"),so}var X0;function eE(){if(X0)return io;X0=1,Object.defineProperty(io,"__esModule",{value:!0}),io.DEFAULT_HEADERS=void 0;const t=Jj();return io.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},io}var Q0;function tE(){if(Q0)return Cr;Q0=1;var t=Cr&&Cr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Cr,"__esModule",{value:!0});const e=t(wx()),n=t(Uf()),s=eE();class a{constructor(c,{headers:d={},schema:h,fetch:f}={}){this.url=c,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),d),this.schemaName=h,this.fetch=f}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:h=!1,get:f=!1,count:g}={}){let v;const b=new URL(`${this.url}/rpc/${c}`);let x;h||f?(v=h?"HEAD":"GET",Object.entries(d).filter(([T,R])=>R!==void 0).map(([T,R])=>[T,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([T,R])=>{b.searchParams.append(T,R)})):(v="POST",x=d);const _=Object.assign({},this.headers);return g&&(_.Prefer=`count=${g}`),new n.default({method:v,url:b,headers:_,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Cr.default=a,Cr}var Z0;function nE(){if(Z0)return St;Z0=1;var t=St&&St.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const e=t(tE());St.PostgrestClient=e.default;const n=t(wx());St.PostgrestQueryBuilder=n.default;const s=t(Uf());St.PostgrestFilterBuilder=s.default;const a=t(xx());St.PostgrestTransformBuilder=a.default;const l=t(bx());St.PostgrestBuilder=l.default;const c=t(vx());return St.PostgrestError=c.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},St}var iE=nE();const sE=Nf(iE),{PostgrestClient:rE,PostgrestQueryBuilder:nz,PostgrestFilterBuilder:iz,PostgrestTransformBuilder:sz,PostgrestBuilder:rz,PostgrestError:az}=sE,aE="2.11.2",oE={"X-Client-Info":`realtime-js/${aE}`},lE="1.0.0",_x=1e4,cE=1e3;var Fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fr||(Fr={}));var an;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(an||(an={}));var Dn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dn||(Dn={}));var ef;(function(t){t.websocket="websocket"})(ef||(ef={}));var Ds;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ds||(Ds={}));class uE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const a=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(e.slice(c,c+a));c=c+a;const h=s.decode(e.slice(c,c+l));c=c+l;const f=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:h,payload:f}}}class Sx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const W0=(t,e,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,c)=>(l[c]=dE(c,t,e,a),l),{})},dE=(t,e,n,s)=>{const a=e.find(d=>d.name===t),l=a==null?void 0:a.type,c=n[t];return l&&!s.includes(l)?jx(l,c):tf(c)},jx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return pE(e,n)}switch(t){case Ke.bool:return hE(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return fE(e);case Ke.json:case Ke.jsonb:return mE(e);case Ke.timestamp:return gE(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return tf(e);default:return tf(e)}},tf=t=>t,hE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>jx(e,d))}return t},gE=t=>typeof t=="string"?t.replace(" ","T"):t,Ex=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};let mh=class{constructor(e,n,s={},a=_x){this.channel=e,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var J0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(J0||(J0={}));class uo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uo.syncState(this.state,a,l,c),this.pendingDiffs.forEach(h=>{this.state=uo.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=uo.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,a){const l=this.cloneDeep(e),c=this.transformState(n),d={},h={};return this.map(l,(f,g)=>{c[f]||(h[f]=g)}),this.map(c,(f,g)=>{const v=l[f];if(v){const b=g.map(R=>R.presence_ref),x=v.map(R=>R.presence_ref),_=g.filter(R=>x.indexOf(R.presence_ref)<0),T=v.filter(R=>b.indexOf(R.presence_ref)<0);_.length>0&&(d[f]=_),T.length>0&&(h[f]=T)}else d[f]=g}),this.syncDiff(l,{joins:d,leaves:h},s,a)}static syncDiff(e,n,s,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(d,h)=>{var f;const g=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(h),g.length>0){const v=e[d].map(x=>x.presence_ref),b=g.filter(x=>v.indexOf(x.presence_ref)<0);e[d].unshift(...b)}s(d,g,h)}),this.map(c,(d,h)=>{let f=e[d];if(!f)return;const g=h.map(v=>v.presence_ref);f=f.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=f,a(d,f,h),f.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const a=e[s];return"metas"in a?n[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ev;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ev||(ev={}));var tv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tv||(tv={}));var yi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class Vf{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mh(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new uo(this),this.broadcastEndpointURL=Ex(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:d}}=this.params;this._onError(g=>e==null?void 0:e(yi.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(yi.CLOSED));const h={},f={broadcast:l,presence:c,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(yi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,_=[];for(let T=0;T<x;T++){const R=b[T],{filter:{event:k,schema:U,table:z,filter:A}}=R,L=g&&g[T];if(L&&L.event===k&&L.schema===U&&L.table===z&&L.filter===A)_.push(Object.assign(Object.assign({},R),{id:L.id}));else{this.unsubscribe(),e==null||e(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(yi.SUBSCRIBED);return}}).receive("error",g=>{e==null||e(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=an.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new mh(this,Dn.leave,{},e);a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new mh(this,e,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:f,join:g}=Dn;if(s&&[d,h,f,g].indexOf(c)>=0&&s!==this._joinRef())return;let b=this._onMessage(c,n,s);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var _,T,R;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((R=(T=x.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(x=>x.callback(b,s)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var _,T,R,k,U,z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const A=x.id,L=(_=x.filter)===null||_===void 0?void 0:_.event;return A&&((T=n.ids)===null||T===void 0?void 0:T.includes(A))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const A=(U=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return A==="*"||A===((z=n==null?void 0:n.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:T,table:R,commit_timestamp:k,type:U,errors:z}=_;b=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:k,eventType:U,new:{},old:{},errors:z}),this._getPayloadRecords(_))}x.callback(b,s)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Vf.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dn.close,{},e)}_onError(e){this._on(Dn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=W0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=W0(e.columns,e.old_record)),n}}const yE=()=>{},vE=typeof WebSocket<"u",bE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xE{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oE,this.params={},this.timeout=_x,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yE,this.conn=null,this.sendBuffer=[],this.serializer=new uE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>Gr(async()=>{const{default:h}=await Promise.resolve().then(()=>ea);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...d)):c=fetch,(...d)=>c(...d)},this.endPoint=`${e}/${ef.websocket}`,this.httpEndpoint=Ex(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,c)=>c(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(vE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wE(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gr(async()=>{const{default:e}=await import("./browser-BWzs61lA.js").then(n=>n.b);return{default:e}},[],import.meta.url).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return Ds.Connecting;case Fr.open:return Ds.Open;case Fr.closing:return Ds.Closing;default:return Ds.Closed}}isConnected(){return this.connectionState()===Ds.Open}channel(e,n={config:{}}){const s=new Vf(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${s} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Dn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(cE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:a,payload:l,ref:c}=n;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${c&&"("+c+")"||""}`,l),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,l,c)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${s}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([bE],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class wE{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Fr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class qf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _E extends qf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nf extends qf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var SE=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};const Tx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gr(async()=>{const{default:s}=await Promise.resolve().then(()=>ea);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},jE=()=>SE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gr(()=>Promise.resolve().then(()=>ea),void 0,import.meta.url)).Response:Response}),sf=t=>{if(Array.isArray(t))return t.map(n=>sf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=sf(s)}),e};var Vs=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};const ph=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EE=(t,e,n)=>Vs(void 0,void 0,void 0,function*(){const s=yield jE();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new _E(ph(a),t.status||500))}).catch(a=>{e(new nf(ph(a),a))}):e(new nf(ph(t),t))}),TE=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Uo(t,e,n,s,a,l){return Vs(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,TE(e,s,a,l)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>EE(h,d,s))})})}function _c(t,e,n,s){return Vs(this,void 0,void 0,function*(){return Uo(t,"GET",e,n,s)})}function Ji(t,e,n,s,a){return Vs(this,void 0,void 0,function*(){return Uo(t,"POST",e,s,a,n)})}function CE(t,e,n,s,a){return Vs(this,void 0,void 0,function*(){return Uo(t,"PUT",e,s,a,n)})}function kE(t,e,n,s){return Vs(this,void 0,void 0,function*(){return Uo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Cx(t,e,n,s,a){return Vs(this,void 0,void 0,function*(){return Uo(t,"DELETE",e,s,a,n)})}var Xt=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};const AE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RE{constructor(e,n={},s,a){this.url=e,this.headers=n,this.bucketId=s,this.fetch=Tx(a)}uploadOrUpdate(e,n,s,a){return Xt(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},nv),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),a!=null&&a.headers&&(d=Object.assign(Object.assign({},d),a.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{})),b=yield v.json();return v.ok?{data:{path:f,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(l){if(jt(l))return{data:null,error:l};throw l}})}upload(e,n,s){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,a){return Xt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:nv.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",f.cacheControl)):(h=s,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const v=yield this.fetch(d.toString(),{method:"PUT",body:h,headers:g}),b=yield v.json();return v.ok?{data:{path:l,fullPath:b.Key},error:null}:{data:null,error:b}}catch(h){if(jt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield Ji(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new qf("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}update(e,n,s){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Xt(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}copy(e,n,s){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,s){return Xt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Ji(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,s){return Xt(this,void 0,void 0,function*(){try{const a=yield Ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}download(e,n){return Xt(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield _c(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(jt(d))return{data:null,error:d};throw d}})}info(e){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield _c(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sf(s),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}exists(e){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield kE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(jt(s)&&s instanceof nf){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${f}`)}}}remove(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}list(e,n,s){return Xt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},AE),n),{prefix:e||""});return{data:yield Ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const NE="2.7.1",ME={"X-Client-Info":`storage-js/${NE}`};var Mr=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};class DE{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},ME),n),this.fetch=Tx(s)}listBuckets(){return Mr(this,void 0,void 0,function*(){try{return{data:yield _c(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}})}getBucket(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield _c(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Mr(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Mr(this,void 0,void 0,function*(){try{return{data:yield CE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}}class OE extends DE{constructor(e,n={},s){super(e,n,s)}from(e){return new RE(this.url,this.headers,e,this.fetch)}}const zE="2.49.4";let oo="";typeof Deno<"u"?oo="deno":typeof document<"u"?oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oo="react-native":oo="node";const LE={"X-Client-Info":`supabase-js-${oo}/${zE}`},PE={headers:LE},BE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VE={};var qE=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};const HE=t=>{let e;return t?e=t:typeof fetch>"u"?e=gx:e=fetch,(...n)=>e(...n)},$E=()=>typeof Headers>"u"?yx:Headers,IE=(t,e,n)=>{const s=HE(n),a=$E();return(l,c)=>qE(void 0,void 0,void 0,function*(){var d;const h=(d=yield e())!==null&&d!==void 0?d:t;let f=new a(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},c),{headers:f}))})};var FE=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};function GE(t){return t.replace(/\/$/,"")}function YE(t,e){const{db:n,auth:s,realtime:a,global:l}=t,{db:c,auth:d,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),global:Object.assign(Object.assign({},f),l),accessToken:()=>FE(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const kx="2.69.1",Lr=30*1e3,rf=3,gh=rf*Lr,KE="http://localhost:9999",XE="supabase.auth.token",QE={"X-Client-Info":`gotrue-js/${kx}`},af="X-Supabase-Api-Version",Ax={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WE=6e5;class Hf extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function we(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JE extends Hf{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function eT(t){return we(t)&&t.name==="AuthApiError"}class Rx extends Hf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class os extends Hf{constructor(e,n,s,a){super(e,s,a),this.name=n,this.status=s}}class Qi extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tT(t){return we(t)&&t.name==="AuthSessionMissingError"}class yh extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rc extends os{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ac extends os{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nT(t){return we(t)&&t.name==="AuthImplicitGrantRedirectError"}class iv extends os{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class of extends os{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vh(t){return we(t)&&t.name==="AuthRetryableFetchError"}class sv extends os{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ho extends os{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),av=` 	
\r=`.split(""),iT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<av.length;e+=1)t[av[e].charCodeAt(0)]=-2;for(let e=0;e<rv.length;e+=1)t[rv[e].charCodeAt(0)]=e;return t})();function Nx(t,e,n){const s=iT[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ov(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{aT(c,s,n)};for(let c=0;c<t.length;c+=1)Nx(t.charCodeAt(c),a,l);return e.join("")}function sT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rT(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}sT(s,e)}}function aT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function oT(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Nx(t.charCodeAt(a),n,s);return new Uint8Array(e)}function lT(t){const e=[];return rT(t,n=>e.push(n)),new Uint8Array(e)}function cT(t){return Math.round(Date.now()/1e3)+t}function uT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fn=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},fo=()=>{if(!Fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function dT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((s,a)=>{e[a]=s}),e}const Mx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gr(async()=>{const{default:s}=await Promise.resolve().then(()=>ea);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},hT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Dx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},oc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lc=async(t,e)=>{await t.removeItem(e)};class Uc{constructor(){this.promise=new Uc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Uc.promiseConstructor=Promise;function bh(t){const e=t.split(".");if(e.length!==3)throw new ho("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ZE.test(e[s]))throw new ho("JWT not in base64url format");return{header:JSON.parse(ov(e[0])),payload:JSON.parse(ov(e[1])),signature:oT(e[2]),raw:{header:e[0],payload:e[1]}}}async function fT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mT(t,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function pT(t){return("0"+t.toString(16)).substr(-2)}function gT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,pT).join("")}async function yT(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function vT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await yT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(t,e,n=!1){const s=gT();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Dx(t,`${e}-code-verifier`,a);const l=await vT(s);return[l,s===l?"plain":"s256"]}const bT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xT(t){const e=t.headers.get(af);if(!e||!e.match(bT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _T(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ST=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};const Ns=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jT=[502,503,504];async function lv(t){var e;if(!hT(t))throw new of(Ns(t),0);if(jT.includes(t.status))throw new of(Ns(t),t.status);let n;try{n=await t.json()}catch(l){throw new Rx(Ns(l),l)}let s;const a=xT(t);if(a&&a.getTime()>=Ax["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new sv(Ns(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Qi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new sv(Ns(n),t.status,n.weak_password.reasons);throw new JE(Ns(n),t.status||500,s)}const ET=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function Ae(t,e,n,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[af]||(l[af]=Ax["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await TT(t,e,n+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function TT(t,e,n,s,a,l){const c=ET(e,s,a,l);let d;try{d=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new of(Ns(h),0)}if(d.ok||await lv(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(h){await lv(h)}}function Zi(t){var e;let n=null;RT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=cT(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function cv(t){const e=Zi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function es(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function CT(t){return{data:t,error:null}}function kT(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l}=t,c=ST(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function AT(t){return t}function RT(t){return t.access_token&&t.refresh_token&&t.expires_in}var NT=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};class MT{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Mx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:es})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=NT(e,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:es})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,a,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},g=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:AT});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);f[`${R}Page`]=T}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(we(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:es})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:es})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:es})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}}const DT={getItem:t=>fo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{fo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{fo()&&globalThis.localStorage.removeItem(t)}};function uv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function OT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&fo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ox extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zT extends Ox{}async function LT(t,e,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}OT();const PT={url:KE,storageKey:XE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dv(t,e,n){return await n()}class _o{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_o.nextInstanceID,_o.nextInstanceID+=1,this.instanceID>0&&Fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},PT),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new MT({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Mx(a.fetch),this.lock=a.lock||dv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Fn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LT:this.lock=dv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:fo()?this.storage=DT:(this.memoryStorage={},this.storage=uv(this.memoryStorage)):(this.memoryStorage={},this.storage=uv(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=dT(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Fn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),nT(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?{error:n}:{error:new Rx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,a;try{const l=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zi}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,s,a;try{let l;if("email"in e){const{email:g,password:v,options:b}=e;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Dr(this.storage,this.storageKey)),l=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:x,code_challenge_method:_},xform:Zi})}else if("phone"in e){const{phone:g,password:v,options:b}=e;l=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Zi})}else throw new rc("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:cv})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:cv})}else throw new rc("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new yh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await oc(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:l,error:c}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Zi});if(await lc(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new yh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(we(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:a,access_token:l,nonce:c}=e,d=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zi}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new yh}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,a,l,c;try{if("email"in e){const{email:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Dr(this.storage,this.storageKey));const{error:v}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:d,options:h}=e,{data:f,error:g}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new rc("You must provide either an email or phone number.")}catch(d){if(we(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,s;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Zi});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,s,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Dr(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:CT})}catch(l){if(we(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Qi;const{error:a}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(we(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:c}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:c,error:d}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new rc("You must provide either an email or phone number and a type")}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await oc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<gh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,g)=>(!c&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,g))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:es}):await this._useSession(async n=>{var s,a,l;const{data:c,error:d}=n;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qi}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:es})})}catch(n){if(we(n))return tT(n)&&(await this._removeSession(),await lc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Qi;const c=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Dr(this.storage,this.storageKey));const{data:f,error:g}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:es});if(g)throw g;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qi;const n=Date.now()/1e3;let s=n,a=!0,l=null;const{payload:c}=bh(e.access_token);if(c.exp&&(s=c.exp,a=s<=n),a){const{session:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(we(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Qi;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Fn())throw new ac("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ac(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ac("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iv("No code detected.");const{data:U,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=e;if(!l||!d||!c||!f)throw new ac("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let b=g+v;h&&(b=parseInt(h));const x=b-g;x*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const _=b-v;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,g);const{data:T,error:R}=await this._getUser(l);if(R)throw R;const k={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:b,refresh_token:c,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(s){if(we(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await oc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return{error:l};const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(eT(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await lc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=uT(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Dr(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(we(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:a}=await this._useSession(async l=>{var c,d,h,f,g;const{data:v,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Fn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(we(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,a;const{data:l,error:c}=n;if(c)throw c;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await mT(async a=>(a>0&&await fT(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zi})),(a,l)=>{const c=200*Math.pow(2,a);return l&&vh(l)&&Date.now()+c-s<Lr})}catch(s){if(this._debug(n,"error",s),we(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Fn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await oc(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<gh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${gh}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),vh(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Qi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Uc;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Qi;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),we(l)){const c={session:null,error:l};return vh(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Dx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await lc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Lr}ms, refresh threshold is ${rf} ticks`),a<=rf&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ox)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Dr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?{data:null,error:l}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,a;const{data:l,error:c}=n;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:f}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:d}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(n){if(we(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?{data:null,error:l}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(we(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],a=s.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=s.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bh(a.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s||(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+WE>Date.now()))return s;const{data:a,error:l}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!a.keys||a.keys.length===0)throw new ho("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),s=a.keys.find(c=>c.kid===e),!s)throw new ho("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:x,error:_}=await this.getSession();if(_||!x.session)return{data:null,error:_};s=x.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:h}}=bh(s);if(wT(l.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:l,header:a,signature:c},error:null}}const f=_T(a.alg),g=await this.fetchJwk(a.kid,n),v=await crypto.subtle.importKey("jwk",g,f,!0,["verify"]);if(!await crypto.subtle.verify(f,v,c,lT(`${d}.${h}`)))throw new ho("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}}_o.nextInstanceID=0;const BT=_o;class UT extends BT{constructor(e){super(e)}}var VT=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(s.next(g))}catch(v){c(v)}}function h(g){try{f(s.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((s=s.apply(t,e||[])).next())})};class qT{constructor(e,n,s){var a,l,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=GE(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:BE,realtime:VE,auth:Object.assign(Object.assign({},UE),{storageKey:h}),global:PE},g=YE(s??{},f);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=IE(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new rE(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new Yj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new OE(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return VT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:l,flowType:c,lock:d,debug:h},f,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UT({url:this.authUrl,headers:Object.assign(Object.assign({},v),f),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:a,flowType:c,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xE(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HT=(t,e,n)=>new qT(t,e,n),$T="https://rwsjbkedgztplwzxoxks.supabase.co",IT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ3c2pia2VkZ3p0cGx3enhveGtzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2Njg1MzAsImV4cCI6MjA1OTI0NDUzMH0.cfd5F50Yu3Kmu-ipJzPjHWeLe6bcmk4MzXCw91PI_Jg",ue=HT($T,IT),zx=E.createContext(void 0),FT=({children:t})=>{const[e,n]=E.useState(null),[s,a]=E.useState(null),[l,c]=E.useState(!0);E.useEffect(()=>{ue.auth.getSession().then(({data:{session:v}})=>{n(v),a((v==null?void 0:v.user)??null),c(!1)}).catch(v=>{console.error("Error getting session:",v),c(!1)});const{data:{subscription:g}}=ue.auth.onAuthStateChange((v,b)=>{n(b),a((b==null?void 0:b.user)??null),c(!1)});return()=>{g==null||g.unsubscribe()}},[]);const f={session:e,user:s,signIn:async(g,v)=>{const{data:b,error:x}=await ue.auth.signInWithPassword({email:g,password:v});return{data:b,error:x}},signOut:async()=>{await ue.auth.signOut()},loading:l};return m.jsx(zx.Provider,{value:f,children:!l&&t})},$f=()=>{const t=E.useContext(zx);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ki=({children:t})=>{const{loading:e}=$f();return e?m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:m.jsx("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #3498db",borderRadius:"50%",animation:"spin 2s linear infinite"},children:m.jsx("style",{children:`
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              `})})}):m.jsx(m.Fragment,{children:t})},GT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),YT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),KT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),XT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z",clipRule:"evenodd"})}),QT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),ZT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),WT=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"})}),Xi=({children:t})=>{const e=as(),n=Po(),{user:s}=$f(),a=(s==null?void 0:s.email)||"admin@bms-test.com",l=[{path:"/admin",label:"Dashboard",icon:GT},{path:"/admin/products",label:"Products",icon:YT},{path:"/admin/categories",label:"Categories",icon:KT},{path:"/admin/announcements",label:"Announcements",icon:XT},{path:"/admin/settings",label:"Settings",icon:QT},{path:"/admin/import",label:"Import/Export",icon:ZT}],c=async()=>{await ue.auth.signOut(),n("/admin/login")},d=()=>{n("/")},h=f=>e.pathname===f||f!=="/admin"&&e.pathname.startsWith(f);return m.jsxs("div",{className:"admin-layout",children:[" ",m.jsxs("header",{className:"admin-header",children:[" ",m.jsxs("div",{className:"admin-header-inner",children:[" ",m.jsxs("div",{className:"admin-header-left",children:[" ",m.jsx("img",{src:"https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/branding/1_BMS%20white%20Logo.svg",alt:"BMS White Logo",className:"admin-header-logo",onError:f=>{const g=f.target;g.style.display="none"}}),m.jsx("h1",{className:"admin-header-title",children:"BMS Admin Dashboard"})," "]}),m.jsxs("div",{className:"admin-header-right",children:[" ",m.jsx("span",{className:"admin-header-user",children:a})," ",m.jsx("button",{onClick:c,className:"admin-button admin-button-signout",children:"Sign Out"})]})]})]}),m.jsxs("nav",{className:"admin-nav",children:[" ",m.jsxs("div",{className:"container mx-auto px-4",children:[" ",m.jsxs("div",{className:"flex flex-wrap items-center",children:[" ",l.map(f=>m.jsxs(ns,{to:f.path,className:`admin-nav-link ${h(f.path)?"admin-nav-link-active":"admin-nav-link-inactive"}`,children:[m.jsx(f.icon,{}),m.jsx("span",{children:f.label})]},f.path))]})]})]}),m.jsxs("main",{className:"admin-main",children:[" ",t]}),m.jsxs("footer",{className:"admin-footer",children:[" ",m.jsxs("div",{className:"admin-footer-inner",children:[" ",m.jsxs("div",{className:"admin-footer-left",children:[" ",m.jsx("img",{src:"https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/branding/2_BMS_Logo.svg",alt:"BMS Logo",className:"admin-footer-logo"}),m.jsxs("span",{className:"admin-footer-text",children:[" ","BMS Digital Signage Admin  ",new Date().getFullYear()]})]}),m.jsxs("button",{onClick:d,className:"admin-button admin-button-dark",children:[m.jsx(WT,{}),m.jsx("span",{children:"View Display"})]})]})]})]})},Gn={display_duration:10,transition_duration:1,enable_auto_rotation:!0,default_currency:"BWP",store_timezone:"Africa/Gaborone",store_location:"Gaborone, Botswana",logo_url:"",primary_color:"#1e3a8a",secondary_color:"#2563eb"};async function Vc(){try{const{data:t,error:e}=await ue.from("settings").select("*").order("id",{ascending:!0}).limit(1);if(e)throw console.error("Error fetching settings:",e),e;return t&&t.length>0?t[0]:{id:1,...Gn,updated_at:new Date().toISOString()}}catch(t){return console.error("Failed to fetch settings:",t),{id:1,...Gn,updated_at:new Date().toISOString()}}}async function JT(t){try{const{data:e,error:n}=await ue.from("settings").select("id").limit(1);if(n)throw n;let s=1;e&&e.length>0&&(s=e[0].id);const{error:a}=await ue.from("settings").upsert({id:s,...t,updated_at:new Date().toISOString()});if(a)throw a;return{success:!0}}catch(e){return console.error("Error saving settings:",e),{success:!1,error:e}}}let Pr=null;const eC=async()=>{if(Pr)return Pr;try{return Pr=(await Vc()).default_currency||"BWP",Pr}catch(t){return console.error("Error fetching currency code:",t),"BWP"}},dt=(t,e)=>Pr?`${Pr} ${t.toFixed(2)}`:`BWP ${t.toFixed(2)}`,tC=async()=>{await eC()},mo="generated",nC="pointerdown",iC="pointerup",lf="pointerleave",sC="pointerout",Ps="pointermove",rC="touchstart",hv="touchend",aC="touchmove",oC="touchcancel",lC="resize",cC="visibilitychange",Tn="tsParticles - Error";class on{constructor(e,n,s){if(this._updateFromAngle=(a,l)=>{this.x=Math.cos(a)*l,this.y=Math.sin(a)*l},!zn(e)&&e){this.x=e.x,this.y=e.y;const a=e;this.z=a.z?a.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=s??0;else throw new Error(`${Tn} Vector3d not initialized correctly`)}static get origin(){return on.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return on.create(e.x,e.y,e.z)}static create(e,n,s){return new on(e,n,s)}add(e){return on.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return on.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return on.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return on.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return on.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return on.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Et extends on{constructor(e,n){super(e,n,0)}static get origin(){return Et.create(0,0)}static clone(e){return Et.create(e.x,e.y)}static create(e,n){return new Et(e,n)}}let uC=Math.random;const cf=new Map;function xh(t,e){cf.get(t)||cf.set(t,e)}function Lx(t){return cf.get(t)||(e=>e)}function Qe(){return Pn(uC(),0,1-1e-16)}function Pn(t,e,n){return Math.min(Math.max(t,e),n)}function wh(t,e,n,s){return Math.floor((t*n+e*s)/(n+s))}function Qt(t){const e=ts(t);let n=If(t);return e===n&&(n=0),Qe()*(e-n)+n}function me(t){return zn(t)?t:Qt(t)}function If(t){return zn(t)?t:t.min}function ts(t){return zn(t)?t:t.max}function Se(t,e){if(t===e||e===void 0&&zn(t))return t;const n=If(t),s=ts(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(s,e)}:Se(n,s)}function Bs(t){const e=t.random,{enable:n,minimumValue:s}=is(e)?{enable:e,minimumValue:0}:e;return me(n?Se(t.value,s):t.value)}function $t(t,e){const n=t.x-e.x,s=t.y-e.y;return{dx:n,dy:s,distance:Math.sqrt(n**2+s**2)}}function ln(t,e){return $t(t,e).distance}function dC(t,e,n){if(zn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Qe()*Math.PI*2}}function hC(t){const e=Et.origin;return e.length=1,e.angle=t,e}function fv(t,e,n,s){return Et.create(t.x*(n-s)/(n+s)+e.x*2*s/(n+s),t.y)}function fC(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Qe()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Qe()*t.size.height}}function Px(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const mC={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Us(){return mC}function mv(t){const e={bounced:!1},{pSide:n,pOtherSide:s,rectSide:a,rectOtherSide:l,velocity:c,factor:d}=t;return s.min<l.min||s.min>l.max||s.max<l.min||s.max>l.max||(n.max>=a.min&&n.max<=(a.max+a.min)/2&&c>0||n.min<=a.max&&n.min>(a.max+a.min)/2&&c<0)&&(e.velocity=c*-d,e.bounced=!0),e}function pC(t,e){const n=Tt(e,s=>t.matches(s));return cn(n)?n.some(s=>s):n}function Kr(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function gC(){return!Kr()&&typeof matchMedia<"u"}function Bx(t){if(gC())return matchMedia(t)}function yC(t){if(!(Kr()||typeof MutationObserver>"u"))return new MutationObserver(t)}function ht(t,e){return t===e||cn(e)&&e.indexOf(t)>-1}async function vC(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function bC(t){return Math.floor(Qe()*t.length)}function qc(t,e,n=!0){return t[e!==void 0&&n?e%t.length:bC(t)]}function Ff(t,e,n,s,a){return xC(Vo(t,s??0),e,n,a)}function xC(t,e,n,s){let a=!0;return(!s||s==="bottom")&&(a=t.top<e.height+n.x),a&&(!s||s==="left")&&(a=t.right>n.x),a&&(!s||s==="right")&&(a=t.left<e.width+n.y),a&&(!s||s==="top")&&(a=t.bottom>n.y),a}function Vo(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Bt(t,...e){for(const n of e){if(n==null)continue;if(!Br(n)){t=n;continue}const s=Array.isArray(n);s&&(Br(t)||!t||!Array.isArray(t))?t=[]:!s&&(Br(t)||!t||Array.isArray(t))&&(t={});for(const a in n){if(a==="__proto__")continue;const l=n,c=l[a],d=t;d[a]=Br(c)&&Array.isArray(c)?c.map(h=>Bt(d[a],h)):Bt(d[a],c)}}return t}function Gf(t,e){return!!qx(e,n=>n.enable&&ht(t,n.mode))}function Yf(t,e,n){Tt(e,s=>{const a=s.mode;s.enable&&ht(t,a)&&wC(s,n)})}function wC(t,e){const n=t.selectors;Tt(n,s=>{e(s,t)})}function Ux(t,e){if(!(!e||!t))return qx(t,n=>pC(e,n.selectors))}function uf(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Et.create(Bs(t.options.bounce.horizontal),Bs(t.options.bounce.vertical))}}function Vx(t,e){const{x:n,y:s}=t.velocity.sub(e.velocity),[a,l]=[t.position,e.position],{dx:c,dy:d}=$t(l,a);if(n*c+s*d<0)return;const h=-Math.atan2(d,c),f=t.mass,g=e.mass,v=t.velocity.rotate(h),b=e.velocity.rotate(h),x=fv(v,b,f,g),_=fv(b,v,f,g),T=x.rotate(-h),R=_.rotate(-h);t.velocity.x=T.x*t.factor.x,t.velocity.y=T.y*t.factor.y,e.velocity.x=R.x*e.factor.x,e.velocity.y=R.y*e.factor.y}function _C(t,e){const n=t.getPosition(),s=t.getRadius(),a=Vo(n,s),l=mv({pSide:{min:a.left,max:a.right},pOtherSide:{min:a.top,max:a.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:Bs(t.options.bounce.horizontal)});l.bounced&&(l.velocity!==void 0&&(t.velocity.x=l.velocity),l.position!==void 0&&(t.position.x=l.position));const c=mv({pSide:{min:a.top,max:a.bottom},pOtherSide:{min:a.left,max:a.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:Bs(t.options.bounce.vertical)});c.bounced&&(c.velocity!==void 0&&(t.velocity.y=c.velocity),c.position!==void 0&&(t.position.y=c.position))}function Tt(t,e){return cn(t)?t.map((n,s)=>e(n,s)):e(t,0)}function bi(t,e,n){return cn(t)?qc(t,e,n):t}function qx(t,e){return cn(t)?t.find((n,s)=>e(n,s)):e(t,0)?t:void 0}function Hx(t,e){const n=t.value,s=t.animation,a={delayTime:me(s.delay)*1e3,enable:s.enable,value:me(t.value)*e,max:ts(n)*e,min:If(n)*e,loops:0,maxLoops:me(s.count),time:0};if(s.enable){switch(a.decay=1-me(s.decay),s.mode){case"increase":a.status="increasing";break;case"decrease":a.status="decreasing";break;case"random":a.status=Qe()>=.5?"increasing":"decreasing";break}const l=s.mode==="auto";switch(s.startValue){case"min":a.value=a.min,l&&(a.status="increasing");break;case"max":a.value=a.max,l&&(a.status="decreasing");break;case"random":default:a.value=Qt(a),l&&(a.status=Qe()>=.5?"increasing":"decreasing");break}}return a.initialValue=a.value,a}function SC(t,e){if(!(t.mode==="percent")){const{mode:a,...l}=t;return l}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function $x(t,e){return SC(t,e)}function is(t){return typeof t=="boolean"}function On(t){return typeof t=="string"}function zn(t){return typeof t=="number"}function Ix(t){return typeof t=="function"}function Br(t){return typeof t=="object"&&t!==null}function cn(t){return Array.isArray(t)}const Sc="random",pc="mid",Hc=new Map;function pv(t){Hc.set(t.key,t)}function _h(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jC(t){for(const[,l]of Hc)if(t.startsWith(l.stringPrefix))return l.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(l,c,d,h,f)=>c+c+d+d+h+h+(f!==void 0?f+f:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,a=s.exec(n);return a?{a:a[4]!==void 0?parseInt(a[4],16)/255:1,b:parseInt(a[3],16),g:parseInt(a[2],16),r:parseInt(a[1],16)}:void 0}function Ln(t,e,n=!0){if(!t)return;const s=On(t)?{value:t}:t;if(On(s.value))return Fx(s.value,e,n);if(cn(s.value))return Ln({value:qc(s.value,e,n)});for(const[,a]of Hc){const l=a.handleRangeColor(s);if(l)return l}}function Fx(t,e,n=!0){if(!t)return;const s=On(t)?{value:t}:t;if(On(s.value))return s.value===Sc?Yx():EC(s.value);if(cn(s.value))return Fx({value:qc(s.value,e,n)});for(const[,a]of Hc){const l=a.handleColor(s);if(l)return l}}function So(t,e,n=!0){const s=Ln(t,e,n);return s?Gx(s):void 0}function Gx(t){const e=t.r/255,n=t.g/255,s=t.b/255,a=Math.max(e,n,s),l=Math.min(e,n,s),c={h:0,l:(a+l)/2,s:0};return a!==l&&(c.s=c.l<.5?(a-l)/(a+l):(a-l)/(2-a-l),c.h=e===a?(n-s)/(a-l):c.h=n===a?2+(s-e)/(a-l):4+(e-n)/(a-l)),c.l*=100,c.s*=100,c.h*=60,c.h<0&&(c.h+=360),c.h>=360&&(c.h-=360),c}function EC(t){return jC(t)}function Xr(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const s=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,a=2*n.l-s;e.r=_h(a,s,n.h+1/3),e.g=_h(a,s,n.h),e.b=_h(a,s,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function TC(t){const e=Xr(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function Yx(t){return{b:Math.floor(Qt(Se(0,256))),g:Math.floor(Qt(Se(0,256))),r:Math.floor(Qt(Se(0,256)))}}function xi(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function jo(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Kf(t,e,n,s){let a=t,l=e;return a.r===void 0&&(a=Xr(t)),l.r===void 0&&(l=Xr(e)),{b:wh(a.b,l.b,n,s),g:wh(a.g,l.g,n,s),r:wh(a.r,l.r,n,s)}}function df(t,e,n){if(n===Sc)return Yx();if(n===pc){const s=t.getFillColor()??t.getStrokeColor(),a=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(s&&a&&e)return Kf(s,a,t.getRadius(),e.getRadius());{const l=s??a;if(l)return Xr(l)}}else return n}function Kx(t,e,n){const s=On(t)?t:t.value;return s===Sc?n?Ln({value:s}):e?Sc:pc:s===pc?pc:Ln({value:s})}function gv(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function Xx(t,e,n){const s={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Sh(s.h,e.h,n),Sh(s.s,e.s,n),Sh(s.l,e.l,n)),s}function Sh(t,e,n){t.enable=e.enable,t.enable?(t.velocity=me(e.speed)/100*n,t.decay=1-me(e.decay),t.status="increasing",t.loops=0,t.maxLoops=me(e.count),t.time=0,t.delayTime=me(e.delay)*1e3,e.sync||(t.velocity*=Qe(),t.value*=Qe()),t.initialValue=t.value):t.velocity=0}function po(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function CC(t,e,n,s){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(s.x,s.y),t.closePath()}function kC(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function AC(t,e,n,s){n&&(t.globalAlpha=s,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function jh(t,e){t.clearRect(0,0,e.width,e.height)}function RC(t){const{container:e,context:n,particle:s,delta:a,colorStyles:l,backgroundMask:c,composite:d,radius:h,opacity:f,shadow:g,transform:v}=t,b=s.getPosition(),x=s.rotation+(s.pathRotation?s.velocity.angle:0),_={sin:Math.sin(x),cos:Math.cos(x)},T={a:_.cos*(v.a??1),b:_.sin*(v.b??1),c:-_.sin*(v.c??1),d:_.cos*(v.d??1)};n.setTransform(T.a,T.b,T.c,T.d,b.x,b.y),n.beginPath(),c&&(n.globalCompositeOperation=d);const R=s.shadowColor;g.enable&&R&&(n.shadowBlur=g.blur,n.shadowColor=xi(R),n.shadowOffsetX=g.offset.x,n.shadowOffsetY=g.offset.y),l.fill&&(n.fillStyle=l.fill);const k=s.strokeWidth??0;n.lineWidth=k,l.stroke&&(n.strokeStyle=l.stroke),NC(e,n,s,h,f,a),k>0&&n.stroke(),s.close&&n.closePath(),s.fill&&n.fill(),MC(e,n,s,h,f,a),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function NC(t,e,n,s,a,l){if(!n.shape)return;const c=t.drawers.get(n.shape);c&&c.draw(e,n,s,a,l,t.retina.pixelRatio)}function MC(t,e,n,s,a,l){if(!n.shape)return;const c=t.drawers.get(n.shape);!c||!c.afterEffect||c.afterEffect(e,n,s,a,l,t.retina.pixelRatio)}function DC(t,e,n){e.draw&&e.draw(t,n)}function OC(t,e,n,s){e.drawParticle&&e.drawParticle(t,n,s)}function zC(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function LC(t,e,n){const s=e[n];s!==void 0&&(t[n]=(t[n]??1)*s)}class PC{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const s of this._postDrawUpdaters)s.afterDraw&&s.afterDraw(n)},this._applyPreDrawUpdaters=(n,s,a,l,c,d)=>{for(const h of this._preDrawUpdaters){if(h.getColorStyles){const{fill:f,stroke:g}=h.getColorStyles(s,n,a,l);f&&(c.fill=f),g&&(c.stroke=g)}if(h.getTransformValues){const f=h.getTransformValues(s);for(const g in f)LC(d,f,g)}h.beforeDraw&&h.beforeDraw(s)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let s,a;for(const l of this._colorPlugins)if(!s&&l.particleFillColor&&(s=So(l.particleFillColor(n))),!a&&l.particleStrokeColor&&(a=So(l.particleStrokeColor(n))),s&&a)break;return[s,a]},this._initCover=()=>{const n=this.container.actualOptions,s=n.backgroundMask.cover,a=s.color,l=Ln(a);if(l){const c={...l,a:s.opacity};this._coverColorStyle=xi(c,c.a)}},this._initStyle=()=>{const n=this.element,s=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Bt({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const a in s.style){if(!a||!s.style)continue;const l=s.style[a];l&&n.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,s=n.particles.move.trail,a=s.fill;if(s.enable)if(a.color){const l=Ln(a.color);if(!l)return;const c=n.particles.move.trail;this._trailFill={color:{...l},opacity:1/c.length}}else await new Promise((l,c)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:1/s.length},l()}),d.addEventListener("error",h=>{c(h.error)}),d.src=a.image})},this._paintBase=n=>{this.draw(s=>kC(s,this.size,n))},this._paintImage=(n,s)=>{this.draw(a=>AC(a,this.size,n,s))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>s.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,s=this._originalStyle;if(!(n&&s))return;const a=n.style;a.position=s.position,a.zIndex=s.zIndex,a.top=s.top,a.left=s.left,a.width=s.width,a.height=s.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const s="important",a=n.style;a.setProperty("position","fixed",s),a.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),a.setProperty("top","0",s),a.setProperty("left","0",s),a.setProperty("width","100%",s),a.setProperty("height","100%",s)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,s=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&s?s.color?this._paintBase(xi(s.color,s.opacity)):s.image&&this._paintImage(s.image,s.opacity):this.draw(a=>{jh(a,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const s=e.getRadius();if(s<=0)return;const a=e.getFillColor(),l=e.getStrokeColor()??a;let[c,d]=this._getPluginParticleColors(e);c||(c=a),d||(d=l),!(!c&&!d)&&this.draw(h=>{var z;const f=this.container,g=f.actualOptions,v=e.options.zIndex,b=(1-e.zIndexFactor)**v.opacityRate,x=e.bubble.opacity??((z=e.opacity)==null?void 0:z.value)??1,_=e.strokeOpacity??x,T=x*b,R=_*b,k={},U={fill:c?jo(c,T):void 0};U.stroke=d?jo(d,R):U.fill,this._applyPreDrawUpdaters(h,e,s,T,U,k),RC({container:f,context:h,particle:e,delta:n,colorStyles:U,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:s*(1-e.zIndexFactor)**v.sizeRate,opacity:T,shadow:e.options.shadow,transform:k}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,s){this.draw(a=>OC(a,e,n,s))}drawPlugin(e,n){this.draw(s=>DC(s,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=yC(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){Us().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,s=this.element;if(!s)return;const a=s.style;if(a){if(n.color){const l=Ln(n.color);a.backgroundColor=l?xi(l,n.opacity):""}else a.backgroundColor="";a.backgroundImage=n.image||"",a.backgroundPosition=n.position||"",a.backgroundRepeat=n.repeat||"",a.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&mo in e.dataset?e.dataset[mo]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Bt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(jh(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,s=e.canvas.size,a={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(a.height===s.height&&a.width===s.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const l={...s};return this.element.width=s.width=this.element.offsetWidth*n,this.element.height=s.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:s.width/l.width,height:s.height/l.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>jh(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function _n(t,e,n,s,a){if(s){let l={passive:!0};is(a)?l.capture=a:a!==void 0&&(l=a),t.addEventListener(e,n,l)}else{const l=a;t.removeEventListener(e,n,l)}}class BC{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const s=this.container,a=s.actualOptions;if(this._canPush){const l=s.interactivity.mouse,c=l.position;if(!c)return;l.clickPosition={...c},l.clickTime=new Date().getTime();const d=a.interactivity.events.onClick;Tt(d.mode,h=>this.container.handleClickMode(h))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const s=n,a=this.container,l=a.options,c=l.defaultThemes,d=s.matches?c.dark:c.light,h=l.themes.find(f=>f.name===d);h&&h.default.auto&&a.loadTheme(d)},this._handleVisibilityChange=()=>{const n=this.container,s=n.actualOptions;this._mouseTouchFinish(),s.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,s)=>{const a=this._handlers,l=this.container,c=l.actualOptions,d=l.interactivity.element;if(!d)return;const h=d,f=l.canvas.element;f&&(f.style.pointerEvents=h===f?"initial":"none"),(c.interactivity.events.onHover.enable||c.interactivity.events.onClick.enable)&&(_n(d,Ps,a.mouseMove,s),_n(d,rC,a.touchStart,s),_n(d,aC,a.touchMove,s),c.interactivity.events.onClick.enable?(_n(d,hv,a.touchEndClick,s),_n(d,iC,a.mouseUp,s),_n(d,nC,a.mouseDown,s)):_n(d,hv,a.touchEnd,s),_n(d,n,a.mouseLeave,s),_n(d,oC,a.touchCancel,s))},this._manageListeners=n=>{const s=this._handlers,a=this.container,l=a.actualOptions,c=l.interactivity.detectsOn,d=a.canvas.element;let h=lf;c==="window"?(a.interactivity.element=window,h=sC):c==="parent"&&d?a.interactivity.element=d.parentElement??d.parentNode:a.interactivity.element=d,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(h,n),document&&_n(document,cC,s.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const s=this._handlers,a=Bx("(prefers-color-scheme: dark)");if(a){if(a.addEventListener!==void 0){_n(a,"change",s.themeChange,n);return}a.addListener!==void 0&&(n?a.addListener(s.oldThemeChange):a.removeListener(s.oldThemeChange))}},this._manageResize=n=>{const s=this._handlers,a=this.container;if(!a.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){_n(window,lC,s.resize,n);return}const c=a.canvas.element;this._resizeObserver&&!n?(c&&this._resizeObserver.unobserve(c),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&c&&(this._resizeObserver=new ResizeObserver(async d=>{d.find(f=>f.target===c)&&await this._handleWindowResize()}),this._resizeObserver.observe(c))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:s}=n;s.clicking=!0,s.downPosition=s.position},this._mouseTouchClick=n=>{const s=this.container,a=s.actualOptions,{mouse:l}=s.interactivity;l.inside=!0;let c=!1;const d=l.position;if(!(!d||!a.interactivity.events.onClick.enable)){for(const[,h]of s.plugins)if(h.clickPositionValid&&(c=h.clickPositionValid(d),c))break;c||this._doMouseTouchClick(n),l.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const s=n.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,n.status=lf,s.inside=!1,s.clicking=!1},this._mouseTouchMove=n=>{const s=this.container,a=s.actualOptions,l=s.interactivity,c=s.canvas.element;if(!l||!l.element)return;l.mouse.inside=!0;let d;if(n.type.startsWith("pointer")){this._canPush=!0;const f=n;if(l.element===window){if(c){const g=c.getBoundingClientRect();d={x:f.clientX-g.left,y:f.clientY-g.top}}}else if(a.interactivity.detectsOn==="parent"){const g=f.target,v=f.currentTarget;if(g&&v&&c){const b=g.getBoundingClientRect(),x=v.getBoundingClientRect(),_=c.getBoundingClientRect();d={x:f.offsetX+2*b.left-(x.left+_.left),y:f.offsetY+2*b.top-(x.top+_.top)}}else d={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY}}else f.target===c&&(d={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY})}else if(this._canPush=n.type!=="touchmove",c){const f=n,g=f.touches[f.touches.length-1],v=c.getBoundingClientRect();d={x:g.clientX-(v.left??0),y:g.clientY-(v.top??0)}}const h=s.retina.pixelRatio;d&&(d.x*=h,d.y*=h),l.mouse.position=d,l.status=Ps},this._touchEnd=n=>{const s=n,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const s=n,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const s=n,a=Array.from(s.changedTouches);for(const l of a)this._touches.set(l.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Mt{constructor(){this.value=""}static create(e,n){const s=new Mt;return s.load(e),n!==void 0&&(On(n)||cn(n)?s.load({value:n}):s.load(n)),s}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class UC{constructor(){this.color=new Mt,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Mt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class VC{constructor(){this.color=new Mt,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Mt.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class qC{constructor(){this.composite="destination-out",this.cover=new VC,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,s=On(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:s})}e.enable!==void 0&&(this.enable=e.enable)}}}class HC{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class $C{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class yv{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Tt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Tt(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class IC{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class FC{constructor(){this.enable=!1,this.mode=[],this.parallax=new IC}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class GC{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class YC{constructor(){this.onClick=new $C,this.onDiv=new yv,this.onHover=new FC,this.resize=new GC}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=Tt(n,s=>{const a=new yv;return a.load(s),a})),this.onHover.load(e.onHover??e.onhover),is(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class KC{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const s of n)s.loadModeOptions&&s.loadModeOptions(this,e)}}class Qx{constructor(e,n){this.detectsOn="window",this.events=new YC,this.modes=new KC(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class XC{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Bt({},e.options)))}}class QC{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Bt({},e.options)))}}class ZC{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class WC{constructor(){this.name="",this.default=new ZC}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Bt({},e.options)))}}class Eh{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Se(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Se(e.offset)),e.speed!==void 0&&(this.speed=Se(e.speed)),e.decay!==void 0&&(this.decay=Se(e.decay)),e.delay!==void 0&&(this.delay=Se(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class JC{constructor(){this.h=new Eh,this.s=new Eh,this.l=new Eh}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Eo extends Mt{constructor(){super(),this.animation=new JC}static create(e,n){const s=new Eo;return s.load(e),n!==void 0&&(On(n)||cn(n)?s.load({value:n}):s.load(n)),s}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class ek{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class tk{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class nk{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Se(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Se(e.speed)),e.decay!==void 0&&(this.decay=Se(e.decay)),e.delay!==void 0&&(this.delay=Se(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Zx extends nk{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class ik{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class ls{constructor(){this.random=new ik,this.value=0}load(e){e&&(is(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Se(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class vv extends ls{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Wx{constructor(){this.horizontal=new vv,this.vertical=new vv}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class sk{constructor(){this.absorb=new ek,this.bounce=new Wx,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new tk}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Se(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class rk{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Se(e.offset)),e.value!==void 0&&(this.value=Se(e.value)))}}class ak{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var a,l;if(!e)return;e.distance!==void 0&&(this.distance=Se(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((a=e.rotate)==null?void 0:a.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const s=((l=e.rotate)==null?void 0:l.y)??e.rotateY;s!==void 0&&(this.rotate.y=s)}}class ok{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class lk{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Se(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Se(e.maxSpeed)))}}class ck{constructor(){this.clamp=!0,this.delay=new ls,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Bt(this.options,e.options)))}}class uk{load(e){e&&(e.color!==void 0&&(this.color=Mt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class dk{constructor(){this.enable=!1,this.length=10,this.fill=new uk}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class hk{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class fk{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Se(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Bt({},e.position)))}}class mk{constructor(){this.angle=new rk,this.attract=new ak,this.center=new ok,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new lk,this.path=new ck,this.outModes=new hk,this.random=!1,this.size=!1,this.speed=2,this.spin=new fk,this.straight=!1,this.trail=new dk,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(zn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Se(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=zn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Se(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Br(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Se(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class pk extends Zx{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class gk extends ls{constructor(){super(),this.animation=new pk,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=Se(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class yk{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const s=e.height??e.factor;s!==void 0&&(this.height=s)}}class vk{constructor(){this.density=new yk,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class bk{constructor(){this.blur=0,this.color=new Mt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Mt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Th="character",Ch="char",kh="image",Ah="images",Rh="polygon",Nh="star";class xk{constructor(){this.loadShape=(e,n,s,a)=>{if(!e)return;const l=cn(e),c=l?[]:{},d=l!==cn(this.options[n]),h=l!==cn(this.options[s]);d&&(this.options[n]=c),h&&a&&(this.options[s]=c),this.options[n]=Bt(this.options[n]??c,e),(!this.options[s]||a)&&(this.options[s]=Bt(this.options[s]??c,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Th]??this.options[Ch]}set character(e){this.options[Ch]=this.options[Th]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[kh]??this.options[Ah]}set image(e){this.options[Ah]=this.options[kh]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Rh]??this.options[Nh]}set polygon(e){this.options[Nh]=this.options[Rh]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const s in n){const a=n[s];a&&(this.options[s]=Bt(this.options[s]??{},a))}this.loadShape(e.character,Th,Ch,!0),this.loadShape(e.polygon,Rh,Nh,!1),this.loadShape(e.image??e.images,kh,Ah,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class wk extends Zx{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class _k extends ls{constructor(){super(),this.animation=new wk,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=Se(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class bv{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Eo.create(this.color,e.color)),e.width!==void 0&&(this.width=Se(e.width)),e.opacity!==void 0&&(this.opacity=Se(e.opacity)))}}class Sk extends ls{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class jk{constructor(e,n){this._engine=e,this._container=n,this.bounce=new Wx,this.collisions=new sk,this.color=new Eo,this.color.value="#fff",this.groups={},this.move=new mk,this.number=new vk,this.opacity=new gk,this.reduceDuplicates=!1,this.shadow=new bk,this.shape=new xk,this.size=new _k,this.stroke=new bv,this.zIndex=new Sk}load(e){var a,l,c;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Eo.create(this.color,e.color)),e.groups!==void 0)for(const d in e.groups){const h=e.groups[d];h!==void 0&&(this.groups[d]=Bt(this.groups[d]??{},h))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((a=e.move)==null?void 0:a.collisions)??((l=e.move)==null?void 0:l.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Bt({},e.interactivity));const s=e.stroke??((c=e.shape)==null?void 0:c.stroke);if(s&&(this.stroke=Tt(s,d=>{const h=new bv;return h.load(d),h})),this._container){const d=this._engine.plugins.updaters.get(this._container);if(d)for(const f of d)f.loadOptions&&f.loadOptions(this,e);const h=this._engine.plugins.interactors.get(this._container);if(h)for(const f of h)f.loadParticlesOptions&&f.loadParticlesOptions(this,e)}}}function Jx(t,...e){for(const n of e)t.load(n)}function ew(t,e,...n){const s=new jk(t,e);return Jx(s,...n),s}class Ek{constructor(e,n){this._findDefaultTheme=s=>this.themes.find(a=>a.default.value&&a.default.mode===s)??this.themes.find(a=>a.default.value&&a.default.mode==="any"),this._importPreset=s=>{this.load(this._engine.plugins.getPreset(s))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new UC,this.backgroundMask=new qC,this.defaultThemes={},this.delay=0,this.fullScreen=new HC,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Qx(e,n),this.manualParticles=[],this.particles=ew(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var c,d;if(!e)return;e.preset!==void 0&&Tt(e.preset,h=>this._importPreset(h)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Se(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=Se(e.duration));const s=e.fpsLimit??e.fps_limit;s!==void 0&&(this.fpsLimit=s),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const a=e.fullScreen??e.backgroundMode;is(a)?this.fullScreen.enable=a:this.fullScreen.load(a),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(h=>{const f=new XC;return f.load(h),f})),this.particles.load(e.particles),this.style=Bt(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const h of l)h.loadOptions&&h.loadOptions(this,e);if(e.responsive!==void 0)for(const h of e.responsive){const f=new QC;f.load(h),this.responsive.push(f)}if(this.responsive.sort((h,f)=>h.maxWidth-f.maxWidth),e.themes!==void 0)for(const h of e.themes){const f=this.themes.find(g=>g.name===h.name);if(f)f.load(h);else{const g=new WC;g.load(h),this.themes.push(g)}}this.defaultThemes.dark=(c=this._findDefaultTheme("dark"))==null?void 0:c.name,this.defaultThemes.light=(d=this._findDefaultTheme("light"))==null?void 0:d.name}setResponsive(e,n,s){this.load(s);const a=this.responsive.find(l=>l.mode==="screen"&&screen?l.maxWidth>screen.availWidth:l.maxWidth*n>e);return this.load(a==null?void 0:a.options),a==null?void 0:a.maxWidth}setTheme(e){if(e){const n=this.themes.find(s=>s.name===e);n&&this.load(n.options)}else{const n=Bx("(prefers-color-scheme: dark)"),s=n&&n.matches,a=this._findDefaultTheme(s?"dark":"light");a&&this.load(a.options)}}}class Tk{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const s of this._externalInteractors)s.clear(e,n);for(const s of this._particleInteractors)s.isEnabled(e)&&await s.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const xv=t=>{if(!ht(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class Ck{constructor(e,n,s,a,l,c){this.container=s,this._calcPosition=(d,h,f,g=0)=>{for(const[,U]of d.plugins){const z=U.particlePosition!==void 0?U.particlePosition(h,this):void 0;if(z)return on.create(z.x,z.y,f)}const v=d.canvas.size,b=fC({size:v,position:h}),x=on.create(b.x,b.y,f),_=this.getRadius(),T=this.options.move.outModes,R=U=>{xv({outMode:U,checkModes:["bounce","bounce-horizontal"],coord:x.x,maxCoord:d.canvas.size.width,setCb:z=>x.x+=z,radius:_})},k=U=>{xv({outMode:U,checkModes:["bounce","bounce-vertical"],coord:x.y,maxCoord:d.canvas.size.height,setCb:z=>x.y+=z,radius:_})};return R(T.left??T.default),R(T.right??T.default),k(T.top??T.default),k(T.bottom??T.default),this._checkOverlap(x,g)?this._calcPosition(d,void 0,f,g+1):x},this._calculateVelocity=()=>{const d=hC(this.direction),h=d.copy(),f=this.options.move;if(f.direction==="inside"||f.direction==="outside")return h;const g=Math.PI/180*me(f.angle.value),v=Math.PI/180*me(f.angle.offset),b={left:v-g/2,right:v+g/2};return f.straight||(h.angle+=Qt(Se(b.left,b.right))),f.random&&typeof f.speed=="number"&&(h.length*=Qe()),h},this._checkOverlap=(d,h=0)=>{const f=this.options.collisions,g=this.getRadius();if(!f.enable)return!1;const v=f.overlap;if(v.enable)return!1;const b=v.retries;if(b>=0&&h>b)throw new Error(`${Tn} particle is overlapping and can't be placed`);return!!this.container.particles.find(x=>ln(d,x.position)<g+x.getRadius())},this._getRollColor=d=>{if(!d||!this.roll||!this.backColor&&!this.roll.alter)return d;const h=this.roll.horizontal&&this.roll.vertical?2:1,f=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+f)/(Math.PI/h))%2?this.backColor?this.backColor:this.roll.alter?zC(d,this.roll.alter.type,this.roll.alter.value):d:d},this._initPosition=d=>{const h=this.container,f=me(this.options.zIndex.value);this.position=this._calcPosition(h,d,Pn(f,0,h.zLayers)),this.initialPosition=this.position.copy();const g=h.canvas.size;switch(this.moveCenter={...$x(this.options.move.center,g),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=dC(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Et.origin},this._loadShapeData=(d,h)=>{const f=d.options[this.shape];if(f)return Bt({close:d.close,fill:d.fill},bi(f,this.id,h))},this._engine=e,this.init(n,a,l,c)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,s=this.pathGenerator;for(const[,a]of n.plugins)a.particleDestroyed&&a.particleDestroyed(this,e);for(const a of n.particles.updaters)a.particleDestroyed&&a.particleDestroyed(this,e);s&&s.reset(this)}draw(e){const n=this.container;for(const[,s]of n.plugins)n.canvas.drawParticlePlugin(s,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??gv(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??gv(this.strokeColor))}init(e,n,s,a){const l=this.container,c=this._engine;this.id=e,this.group=a,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const d=l.retina.pixelRatio,h=l.actualOptions,f=ew(this._engine,l,h.particles),g=f.shape.type,{reduceDuplicates:v}=f;this.shape=bi(g,this.id,v);const b=f.shape;if(s&&s.shape&&s.shape.type){const z=s.shape.type,A=bi(z,this.id,v);A&&(this.shape=A,b.load(s.shape))}this.shapeData=this._loadShapeData(b,v),f.load(s);const x=this.shapeData;x&&f.load(x.particles);const _=new Qx(c,l);_.load(l.actualOptions.interactivity),_.load(f.interactivity),this.interactivity=_,this.fill=(x==null?void 0:x.fill)??f.shape.fill,this.close=(x==null?void 0:x.close)??f.shape.close,this.options=f;const T=this.options.move.path;this.pathDelay=Bs(T.delay)*1e3,T.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(T.generator),this.pathGenerator&&l.addPath(T.generator,this.pathGenerator)&&this.pathGenerator.init(l)),l.retina.initParticle(this),this.size=Hx(this.options.size,d),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-me(this.options.move.decay);const R=l.particles;R.needsSort=R.needsSort||R.lastZIndex<this.position.z,R.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/l.zLayers,this.sides=24;let k=l.drawers.get(this.shape);k||(k=this._engine.plugins.getShapeDrawer(this.shape),k&&l.drawers.set(this.shape,k)),k&&k.loadShape&&k.loadShape(this);const U=k==null?void 0:k.getSidesCount;U&&(this.sides=U(this)),this.spawning=!1,this.shadowColor=Ln(this.options.shadow.color);for(const z of l.particles.updaters)z.init(this);for(const z of l.particles.movers)z.init&&z.init(this);k&&k.particleInit&&k.particleInit(l,this);for(const[,z]of l.plugins)z.particleCreated&&z.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,s=this.position;return s.x>=-e&&s.y>=-e&&s.y<=n.height+e&&s.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class kk{constructor(e,n){this.position=e,this.particle=n}}class tw{constructor(e,n){this.position={x:e,y:n}}}class Bn extends tw{constructor(e,n,s,a){super(e,n),this.size={height:a,width:s}}contains(e){const n=this.size.width,s=this.size.height,a=this.position;return e.x>=a.x&&e.x<=a.x+n&&e.y>=a.y&&e.y<=a.y+s}intersects(e){e instanceof Ut&&e.intersects(this);const n=this.size.width,s=this.size.height,a=this.position,l=e.position,c=e instanceof Bn?e.size:{width:0,height:0},d=c.width,h=c.height;return l.x<a.x+n&&l.x+d>a.x&&l.y<a.y+s&&l.y+h>a.y}}class Ut extends tw{constructor(e,n,s){super(e,n),this.radius=s}contains(e){return ln(e,this.position)<=this.radius}intersects(e){const n=this.position,s=e.position,a={x:Math.abs(s.x-n.x),y:Math.abs(s.y-n.y)},l=this.radius;if(e instanceof Ut){const c=l+e.radius,d=Math.sqrt(a.x**2+a.y**2);return c>d}else if(e instanceof Bn){const{width:c,height:d}=e.size;return Math.pow(a.x-c,2)+Math.pow(a.y-d,2)<=l**2||a.x<=l+c&&a.y<=l+d||a.x<=c||a.y<=d}return!1}}class jc{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:s,y:a}=this.rectangle.position,{width:l,height:c}=this.rectangle.size,{capacity:d}=this;for(let h=0;h<4;h++)this._subs.push(new jc(new Bn(s+l/2*(h%2),a+c/2*(Math.round(h/2)-h%2),l/2,c/2),d));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,s){const a=s||[];if(!e.intersects(this.rectangle))return[];for(const l of this._points)!e.contains(l.position)&&ln(e.position,l.position)>l.particle.getRadius()&&(!n||n(l.particle))||a.push(l.particle);if(this._divided)for(const l of this._subs)l.query(e,n,a);return a}queryCircle(e,n,s){return this.query(new Ut(e.x,e.y,n),s)}queryRectangle(e,n,s){return this.query(new Bn(e.x,e.y,n.width,n.height),s)}}const wv=4,_v=t=>new Bn(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let Ak=class{constructor(e,n){this._applyDensity=(a,l,c)=>{var x;if(!((x=a.number.density)!=null&&x.enable))return;const d=a.number,h=this._initDensityFactor(d.density),f=d.value,g=d.limit>0?d.limit:f,v=Math.min(f,g)*h+l,b=Math.min(this.count,this.filter(_=>_.group===c).length);this.limit=d.limit*h,b<v?this.push(Math.abs(v-b),void 0,a,c):b>v&&this.removeQuantity(b-v,c)},this._initDensityFactor=a=>{const l=this._container;if(!l.canvas.element||!a.enable)return 1;const c=l.canvas.element,d=l.retina.pixelRatio;return c.width*c.height/(a.factor*d**2*a.area)},this._pushParticle=(a,l,c,d)=>{try{let h=this.pool.pop();h?h.init(this._nextId,a,l,c):h=new Ck(this._engine,this._nextId,this._container,a,l,c);let f=!0;return d&&(f=d(h)),f?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:h}}),h):void 0}catch(h){Us().warning(`${Tn} adding particle: ${h}`);return}},this._removeParticle=(a,l,c)=>{const d=this._array[a];if(!d||d.group!==l)return!1;d.destroy(c);const h=this._zArray.indexOf(d);return this._array.splice(a,1),this._zArray.splice(h,1),this.pool.push(d),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:d}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Tk(e,n);const s=n.canvas.size;this.quadTree=new jc(_v(s),wv),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const s of n.manualParticles)this.addParticle(s.position?$x(s.position,e.canvas.size):void 0,s.options)}addParticle(e,n,s,a){const l=this._container,c=l.actualOptions,d=c.particles.number.limit;if(d>0){const h=this.count+1-d;h>0&&this.removeQuantity(h)}return this._pushParticle(e,n,s,a)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,s]of n.plugins)n.canvas.drawPlugin(s,e);for(const s of this._zArray)s.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var a;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let s=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,l]of e.plugins)if(l.particlesInitialization!==void 0&&(s=l.particlesInitialization()),s)break;this._interactionManager.init();for(const[,l]of e.pathGenerators)l.init(e);if(this.addManualParticles(),!s){for(const l in n.particles.groups){const c=n.particles.groups[l];for(let d=this.count,h=0;h<((a=c.number)==null?void 0:a.value)&&d<n.particles.number.value;d++,h++)this.addParticle(void 0,c,l)}for(let l=this.count;l<n.particles.number.value;l++)this.addParticle()}}push(e,n,s,a){this.pushing=!0;for(let l=0;l<e;l++)this.addParticle(n==null?void 0:n.position,s,a);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,s){this.removeAt(this._array.indexOf(e),void 0,n,s)}removeAt(e,n=1,s,a){if(e<0||e>this.count)return;let l=0;for(let c=e;l<n&&c<this.count;c++)this._removeParticle(c--,s,a)&&l++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const s in n)this._applyDensity(n[s],0,s);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,s=new Set;this.quadTree=new jc(_v(n.canvas.size),wv);for(const[,a]of n.pathGenerators)a.update();for(const[,a]of n.plugins)a.update&&a.update(e);for(const a of this._array){const l=n.canvas.resizeFactor;l&&!a.ignoresResizeRatio&&(a.position.x*=l.width,a.position.y*=l.height,a.initialPosition.x*=l.width,a.initialPosition.y*=l.height),a.ignoresResizeRatio=!1,await this._interactionManager.reset(a);for(const[,c]of this._container.plugins){if(a.destroyed)break;c.particleUpdate&&c.particleUpdate(a,e)}for(const c of this.movers)c.isEnabled(a)&&c.move(a,e);if(a.destroyed){s.add(a);continue}this.quadTree.insert(new kk(a.getPosition(),a))}if(s.size){const a=l=>!s.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a),this.pool.push(...s)}await this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&await this._interactionManager.particlesInteract(a,e)}if(delete n.canvas.resizeFactor,this.needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this.lastZIndex=a[a.length-1].position.z,this.needsSort=!1}}};class Rk{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Kr()?1:window.devicePixelRatio,this.reduceFactor=1;const s=this.pixelRatio;if(e.canvas.element){const c=e.canvas.element;e.canvas.size.width=c.offsetWidth*s,e.canvas.size.height=c.offsetHeight*s}const a=n.particles,l=a.move;this.attractDistance=me(l.attract.distance)*s,this.maxSpeed=me(l.gravity.maxSpeed)*s,this.sizeAnimationSpeed=me(a.size.animation.speed)*s}initParticle(e){const n=e.options,s=this.pixelRatio,a=n.move,l=a.distance,c=e.retina;c.attractDistance=me(a.attract.distance)*s,c.moveDrift=me(a.drift)*s,c.moveSpeed=me(a.speed)*s,c.sizeAnimationSpeed=me(n.size.animation.speed)*s;const d=c.maxDistance;d.horizontal=l.horizontal!==void 0?l.horizontal*s:void 0,d.vertical=l.vertical!==void 0?l.vertical*s:void 0,c.maxSpeed=me(a.gravity.maxSpeed)*s}}function tt(t){return t&&!t.destroyed}function Nk(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function zr(t,e,...n){const s=new Ek(t,e);return Jx(s,...n),s}const Mk="default",Sv={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Dk{constructor(e,n,s){this.id=n,this._intersectionManager=a=>{if(!(!tt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const l of a)l.target===this.interactivity.element&&(l.isIntersecting?this.play:this.pause)()},this._nextFrame=async a=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&a<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=a);const l=Nk(a-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(l.value),this.lastFrameTime=a,l.value>1e3){this.draw(!1);return}if(await this.particles.draw(l),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(l){Us().error(`${Tn} in animation loop`,l)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=s,this._initialSourceOptions=s,this.retina=new Rk(this),this.canvas=new PC(this),this.particles=new Ak(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=zr(this._engine,this),this.actualOptions=zr(this._engine,this),this._eventListeners=new BC(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(a=>this._intersectionManager(a))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!tt(this))return;const n=this.interactivity.element;if(!n)return;const s=(v,b,x)=>{if(!tt(this))return;const _=this.retina.pixelRatio,T={x:b.x*_,y:b.y*_},R=this.particles.quadTree.queryCircle(T,x*_);e(v,R)},a=v=>{if(!tt(this))return;const b=v,x={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};s(v,x,1)},l=()=>{tt(this)&&(f=!0,g=!1)},c=()=>{tt(this)&&(g=!0)},d=v=>{if(tt(this)){if(f&&!g){const b=v;let x=b.touches[b.touches.length-1];if(!x&&(x=b.changedTouches[b.changedTouches.length-1],!x))return;const _=this.canvas.element,T=_?_.getBoundingClientRect():void 0,R={x:x.clientX-(T?T.left:0),y:x.clientY-(T?T.top:0)};s(v,R,Math.max(x.radiusX,x.radiusY))}f=!1,g=!1}},h=()=>{tt(this)&&(f=!1,g=!1)};let f=!1,g=!1;n.addEventListener("click",a),n.addEventListener("touchstart",l),n.addEventListener("touchmove",c),n.addEventListener("touchend",d),n.addEventListener("touchcancel",h)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,s=!1){return!tt(this)||!s&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??Sv),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!tt(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.drawers)s.destroy&&s.destroy(this);for(const s of this.drawers.keys())this.drawers.delete(s);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(s=>s===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!tt(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async s=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(s)})}async export(e,n={}){for(const[,s]of this.plugins){if(!s.export)continue;const a=await s.export(e,n);if(a.supported)return a.blob}Us().error(`${Tn} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&tt(this)}handleClickMode(e){if(tt(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!tt(this))return;const e=this._engine.plugins.getSupportedShapes();for(const s of e){const a=this._engine.plugins.getShapeDrawer(s);a&&this.drawers.set(s,a)}this._options=zr(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=zr(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[s,a]of n)this.plugins.set(s,a);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=me(this.actualOptions.duration)*1e3,this._delay=me(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,s]of this.drawers)s.init&&await s.init(this);for(const[,s]of this.plugins)s.init&&await s.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup&&s.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){tt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(tt(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!tt(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,s]of this.plugins)s.play&&s.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(tt(this))return this.stop(),this.start()}async reset(){if(tt(this))return this._initialSourceOptions=void 0,this._options=zr(this._engine,this),this.actualOptions=zr(this._engine,this,this._options),this.refresh()}setNoise(e,n,s){tt(this)&&this.setPath(e,n,s)}setPath(e,n,s){if(!e||!tt(this))return;const a={...Sv};if(Ix(e))a.generate=e,n&&(a.init=n),s&&(a.update=s);else{const l=a;a.generate=e.generate||l.generate,a.init=e.init||l.init,a.update=e.update||l.update}this.addPath(Mk,a,!0)}async start(){!tt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!tt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class Ok{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let s=this._listeners.get(e);s||(s=[],this._listeners.set(e,s)),s.push(n)}dispatchEvent(e,n){const s=this._listeners.get(e);s&&s.forEach(a=>a(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const s=this._listeners.get(e);if(!s)return;const a=s.length,l=s.indexOf(n);l<0||(a===1?this._listeners.delete(e):s.splice(l,1))}}function Mh(t,e,n,s=!1){let a=e.get(t);return(!a||s)&&(a=[...n.values()].map(l=>l(t)),e.set(t,a)),a}class zk{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,s=!1){(s||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){Tt(e,s=>{!this.getShapeDrawer(s)&&this.drawers.set(s,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const s of this.plugins)s.needsPlugin(e.actualOptions)&&n.set(s.id,s.getPlugin(e));return n}getInteractors(e,n=!1){return Mh(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Mh(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Mh(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const s of this.plugins)s.loadOptions(e,n)}loadParticlesOptions(e,n,...s){const a=this.updaters.get(e);if(a)for(const l of a)l.loadOptions&&l.loadOptions(n,...s)}}async function Lk(t){const e=bi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(Us().error(`${Tn} ${n.status} while retrieving config file`),t.fallback)}function Pk(t){return!t.id&&!t.element&&!t.url&&!t.options}function Bk(t){return!Pk(t)}class Uk{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Ok,this._initialized=!1,this.plugins=new zk(this)}get configs(){const e={};for(const[n,s]of this._configs)e[n]=s;return e}get version(){return"2.12.0"}addConfig(e,n){On(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,s=!0){this.plugins.addInteractor(e,n),await this.refresh(s)}async addMover(e,n,s=!0){this.plugins.addParticleMover(e,n),await this.refresh(s)}async addParticleUpdater(e,n,s=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(s)}async addPathGenerator(e,n,s=!0){this.plugins.addPathGenerator(e,n),await this.refresh(s)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,s=!1,a=!0){this.plugins.addPreset(e,n,s),await this.refresh(a)}async addShape(e,n,s,a,l,c=!0){let d,h=c,f,g,v;is(s)?(h=s,f=void 0):f=s,is(a)?(h=a,g=void 0):g=a,is(l)?(h=l,v=void 0):v=l,Ix(n)?d={afterEffect:g,destroy:v,draw:n,init:f}:d=n,this.plugins.addShapeDrawer(e,d),await this.refresh(h)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),s=n[e];if(!s||s.destroyed){n.splice(e,1);return}return s}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,s){let a;return Bk(e)?a=e:(a={},On(e)?a.id=e:a.options=e,zn(n)?a.index=n:a.options=n??a.options,a.index=s??a.index),this._loadParams(a)}async loadJSON(e,n,s){let a,l;return zn(n)||n===void 0?a=e:(l=e,a=n),this._loadParams({id:l,url:a,index:s})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,s,a){const l={index:a};return On(e)?l.id=e:l.element=e,n instanceof HTMLElement?l.element=n:l.options=n,zn(s)?l.index=s:l.options=s??l.options,this._loadParams(l)}async setJSON(e,n,s,a){const l={};return e instanceof HTMLElement?(l.element=e,l.url=n,l.index=s):(l.id=e,l.element=n,l.url=s,l.index=a),this._loadParams(l)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${Tn} can only set click handlers after calling tsParticles.load()`);for(const s of n)s.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Qe()*1e4)}`,{index:s,url:a}=e,l=a?await Lk({fallback:e.options,url:a,index:s}):e.options;let c=e.element??document.getElementById(n);c||(c=document.createElement("div"),c.id=n,document.body.append(c));const d=bi(l,s),h=this.dom(),f=h.findIndex(b=>b.id===n);if(f>=0){const b=this.domItem(f);b&&!b.destroyed&&(b.destroy(),h.splice(f,1))}let g;if(c.tagName.toLowerCase()==="canvas")g=c,g.dataset[mo]="false";else{const b=c.getElementsByTagName("canvas");b.length?(g=b[0],g.dataset[mo]="false"):(g=document.createElement("canvas"),g.dataset[mo]="true",c.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new Dk(this,n,d);return f>=0?h.splice(f,0,v):h.push(v),v.canvas.loadCanvas(g),await v.start(),v}}class Vk{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,s=n.hsl??e.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return Xr(s)}handleRangeColor(e){const n=e.value,s=n.hsl??e.value;if(s.h!==void 0&&s.l!==void 0)return Xr({h:me(s.h),l:me(s.l),s:me(s.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,s=n.exec(e);return s?TC({a:s.length>4?Px(s[5]):1,h:parseInt(s[1],10),l:parseInt(s[3],10),s:parseInt(s[2],10)}):void 0}}class qk{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,s=n.rgb??e.value;if(s.r!==void 0)return s}handleRangeColor(e){const n=e.value,s=n.rgb??e.value;if(s.r!==void 0)return{r:me(s.r),g:me(s.g),b:me(s.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,s=n.exec(e);return s?{a:s.length>4?Px(s[5]):1,b:parseInt(s[3],10),g:parseInt(s[2],10),r:parseInt(s[1],10)}:void 0}}function Hk(){const t=new qk,e=new Vk;pv(t),pv(e);const n=new Uk;return n.init(),n}class ti{constructor(e){this.container=e,this.type="external"}}class Xf{constructor(e){this.container=e,this.type="particles"}}const Ec=Hk();Kr()||(window.tsParticles=Ec);const Ur=t=>typeof t=="object"&&t!==null;function Tc(t,e,n=()=>!1){if(!Ur(t)||!Ur(e))return t===e;const s=Object.keys(t).filter(l=>!n(l)),a=Object.keys(e).filter(l=>!n(l));if(s.length!==a.length)return!1;for(const l of s){const c=t[l],d=e[l];if(Ur(c)&&Ur(d)){if(c===e&&d===t)continue;if(!Tc(c,d,n))return!1}else if(Array.isArray(c)&&Array.isArray(d)){if(!nw(c,d,n))return!1}else if(c!==d)return!1}return!0}function nw(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){const a=t[s],l=e[s];if(Array.isArray(a)&&Array.isArray(l)){if(!nw(a,l,n))return!1}else if(Ur(a)&&Ur(l)){if(!Tc(a,l,n))return!1}else if(a!==l)return!1}return!0}const iw="tsparticles";let Qf=class sw extends E.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,s=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Tc(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Tc(n,s,a=>a.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Ec),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:s,canvasClassName:a,id:l}=this.props;return Yn.createElement("div",{className:s,id:l},Yn.createElement("canvas",{className:a,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??sw.defaultProps.id??iw,n=await Ec.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};Qf.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:iw};class Cc{static init(e){var l;const n=new Cc,s=e.selector;if(!s)throw new Error("No selector provided");const a=document.querySelector(s);if(!a)throw new Error("No element found for selector");return Ec.set(s.replace(".","").replace("!",""),a,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(l=e.responsive)==null?void 0:l.map(c=>{var d,h,f,g,v;return{maxWidth:c.breakpoint,options:{particles:{color:{value:(d=c.options)==null?void 0:d.color},links:{distance:(h=c.options)==null?void 0:h.minDistance,enable:(f=c.options)==null?void 0:f.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(g=c.options)==null?void 0:g.speed},size:{value:(v=c.options)==null?void 0:v.sizeVariations}}}}})}).then(c=>{n._container=c}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const $k=t=>{const e=(s,a)=>t.load(s,a);e.load=(s,a,l)=>{t.loadJSON(s,a).then(c=>{c&&l(c)}).catch(()=>{l(void 0)})},e.setOnClickHandler=s=>{t.setOnClickHandler(s)};const n=t.dom();return{particlesJS:e,pJSDom:n}},Ik=t=>{const{particlesJS:e,pJSDom:n}=$k(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=Cc,{particlesJS:e,pJSDom:n,Particles:Cc}};function Fk(t){const e=t.initialPosition,{dx:n,dy:s}=$t(e,t.position),a=Math.abs(n),l=Math.abs(s),{maxDistance:c}=t.retina,d=c.horizontal,h=c.vertical;if(!(!d&&!h)){if((d&&a>=d||h&&l>=h)&&!t.misplaced)t.misplaced=!!d&&a>d||!!h&&l>h,d&&(t.velocity.x=t.velocity.y/2-t.velocity.x),h&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!d||a<d)&&(!h||l<h)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const f=t.position,g=t.velocity;d&&(f.x<e.x&&g.x<0||f.x>e.x&&g.x>0)&&(g.x*=-Qe()),h&&(f.y<e.y&&g.y<0||f.y>e.y&&g.y>0)&&(g.y*=-Qe())}}}function Gk(t,e,n,s,a,l){Kk(t,l);const c=t.gravity,d=c!=null&&c.enable&&c.inverse?-1:1;a&&n&&(t.velocity.x+=a*l.factor/(60*n)),c!=null&&c.enable&&n&&(t.velocity.y+=d*(c.acceleration*l.factor)/(60*n));const h=t.moveDecay;t.velocity.multTo(h);const f=t.velocity.mult(n);c!=null&&c.enable&&s>0&&(!c.inverse&&f.y>=0&&f.y>=s||c.inverse&&f.y<=0&&f.y<=-s)&&(f.y=d*s,n&&(t.velocity.y=f.y/n));const g=t.options.zIndex,v=(1-t.zIndexFactor)**g.velocityRate;f.multTo(v);const{position:b}=t;b.addTo(f),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function Yk(t,e){const n=t.container;if(!t.spin)return;const s={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*s.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*s.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const a=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>a/2?(t.spin.radius=a/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/a)}function Kk(t,e){var c;const n=t.options,s=n.move.path;if(!s.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const l=(c=t.pathGenerator)==null?void 0:c.generate(t,e);l&&t.velocity.addTo(l),s.clamp&&(t.velocity.x=Pn(t.velocity.x,-1,1),t.velocity.y=Pn(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function Xk(t){return t.slow.inRange?t.slow.factor:1}const Qk=2;class Zk{constructor(){this._initSpin=e=>{const n=e.container,s=e.options,a=s.move.spin;if(!a.enable)return;const l=a.position??{x:50,y:50},c={x:l.x/100*n.canvas.size.width,y:l.y/100*n.canvas.size.height},d=e.getPosition(),h=ln(d,c),f=me(a.acceleration);e.retina.spinAcceleration=f*n.retina.pixelRatio,e.spin={center:c,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:h,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,s=n.move.gravity;e.gravity={enable:s.enable,acceleration:me(s.acceleration),inverse:s.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var _,T;const s=e.options,a=s.move;if(!a.enable)return;const l=e.container,c=l.retina.pixelRatio,d=Xk(e),h=((_=e.retina).moveSpeed??(_.moveSpeed=me(a.speed)*c))*l.retina.reduceFactor,f=(T=e.retina).moveDrift??(T.moveDrift=me(e.options.move.drift)*c),g=ts(s.size.value)*c,v=a.size?e.getRadius()/g:1,b=h*v*d*(n.factor||1)/Qk,x=e.retina.maxSpeed??l.retina.maxSpeed;a.spin.enable?Yk(e,b):Gk(e,a,b,x,f,n),Fk(e)}}async function Wk(t,e=!0){await t.addMover("base",()=>new Zk,e)}class Jk{draw(e,n,s){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const a=n.circleRange;e.arc(0,0,s,a.min,a.max,!1)}getSidesCount(){return 12}particleInit(e,n){const s=n.shapeData,a=(s==null?void 0:s.angle)??{max:360,min:0};n.circleRange=Br(a)?{min:a.min*Math.PI/180,max:a.max*Math.PI/180}:{min:0,max:a*Math.PI/180}}}async function eA(t,e=!0){await t.addShape("circle",new Jk,e)}function Dh(t,e,n,s,a){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const l=Qt(n.offset),c=(e.velocity??0)*t.factor+l*3.6,d=e.decay??1;!a||e.status==="increasing"?(e.value+=c,e.value>s&&(e.loops||(e.loops=0),e.loops++,a&&(e.status="decreasing",e.value-=e.value%s))):(e.value-=c,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&d!==1&&(e.velocity*=d),e.value>s&&(e.value%=s)}function tA(t,e){const{h:n,s,l:a}=t.options.color.animation,{color:l}=t;if(!l)return;const{h:c,s:d,l:h}=l;c&&Dh(e,c,n,360,!1),d&&Dh(e,d,s,100,!0),h&&Dh(e,h,a,100,!0)}class nA{constructor(e){this.container=e}init(e){const n=So(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=Xx(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s,l:a}=e.options.color.animation,{color:l}=e;return!e.destroyed&&!e.spawning&&((l==null?void 0:l.h.value)!==void 0&&n.enable||(l==null?void 0:l.s.value)!==void 0&&s.enable||(l==null?void 0:l.l.value)!==void 0&&a.enable)}update(e,n){tA(e,n)}}async function iA(t,e=!0){await t.addParticleUpdater("color",n=>new nA(n),e)}function sA(t,e,n,s){switch(t.options.opacity.animation.destroy){case"max":e>=s&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function rA(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const s=n.min,a=n.max,l=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=a?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=s?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=l),sA(t,n.value,s,a),t.destroyed||(n.value=Pn(n.value,s,a))}}class aA{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=Hx(n,1);const s=n.animation;s.enable&&(e.opacity.velocity=me(s.speed)/100*this.container.retina.reduceFactor,s.sync||(e.opacity.velocity*=Qe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&rA(e,n)}}async function oA(t,e=!0){await t.addParticleUpdater("opacity",n=>new aA(n),e)}function lA(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const a=Bs(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-a,n=!0}if(!n)return;const s=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-s:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=s),t.outMode==="split"&&t.particle.destroy()}function cA(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const a=Bs(t.particle.options.bounce.vertical);t.particle.velocity.y*=-a,n=!0}if(!n)return;const s=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-s:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=s),t.outMode==="split"&&t.particle.destroy()}class uA{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,s,a){if(!this.modes.includes(a))return;const l=this.container;let c=!1;for(const[,b]of l.plugins)if(b.particleBounce!==void 0&&(c=b.particleBounce(e,s,n)),c)break;if(c)return;const d=e.getPosition(),h=e.offset,f=e.getRadius(),g=Vo(d,f),v=l.canvas.size;lA({particle:e,outMode:a,direction:n,bounds:g,canvasSize:v,offset:h,size:f}),cA({particle:e,outMode:a,direction:n,bounds:g,canvasSize:v,offset:h,size:f})}}class dA{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(e.outType){case"normal":case"outside":if(Ff(e.position,l.canvas.size,Et.origin,e.getRadius(),n))return;break;case"inside":{const{dx:c,dy:d}=$t(e.position,e.moveCenter),{x:h,y:f}=e.velocity;if(h<0&&c>e.moveCenter.radius||f<0&&d>e.moveCenter.radius||h>=0&&c<-e.moveCenter.radius||f>=0&&d<-e.moveCenter.radius)return;break}}l.particles.remove(e,void 0,!0)}}class hA{constructor(e){this.container=e,this.modes=["none"]}update(e,n,s,a){if(!this.modes.includes(a)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const l=e.options.move.gravity,c=this.container,d=c.canvas.size,h=e.getRadius();if(l.enable){const f=e.position;(!l.inverse&&f.y>d.height+h&&n==="bottom"||l.inverse&&f.y<-h&&n==="top")&&c.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=d.height+h||e.velocity.y<0&&e.position.y>=-h||e.velocity.x>0&&e.position.x<=d.width+h||e.velocity.x<0&&e.position.x>=-h)return;Ff(e.position,c.canvas.size,Et.origin,h,n)||c.particles.remove(e)}}}class fA{constructor(e){this.container=e,this.modes=["out"]}update(e,n,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(e.outType){case"inside":{const{x:c,y:d}=e.velocity,h=Et.origin;h.length=e.moveCenter.radius,h.angle=e.velocity.angle+Math.PI,h.addTo(Et.create(e.moveCenter));const{dx:f,dy:g}=$t(e.position,h);if(c<=0&&f>=0||d<=0&&g>=0||c>=0&&f<=0||d>=0&&g<=0)return;e.position.x=Math.floor(Qt({min:0,max:l.canvas.size.width})),e.position.y=Math.floor(Qt({min:0,max:l.canvas.size.height}));const{dx:v,dy:b}=$t(e.position,e.moveCenter);e.direction=Math.atan2(-b,-v),e.velocity.angle=e.direction;break}default:{if(Ff(e.position,l.canvas.size,Et.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Qt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Qt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:c,dy:d}=$t(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(d,c),e.velocity.angle=e.direction);break}case"normal":{const c=e.options.move.warp,d=l.canvas.size,h={bottom:d.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:d.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},f=e.getRadius(),g=Vo(e.position,f);n==="right"&&g.left>d.width+e.offset.x?(e.position.x=h.left,e.initialPosition.x=e.position.x,c||(e.position.y=Qe()*d.height,e.initialPosition.y=e.position.y)):n==="left"&&g.right<-e.offset.x&&(e.position.x=h.right,e.initialPosition.x=e.position.x,c||(e.position.y=Qe()*d.height,e.initialPosition.y=e.position.y)),n==="bottom"&&g.top>d.height+e.offset.y?(c||(e.position.x=Qe()*d.width,e.initialPosition.x=e.position.x),e.position.y=h.top,e.initialPosition.y=e.position.y):n==="top"&&g.bottom<-e.offset.y&&(c||(e.position.x=Qe()*d.width,e.initialPosition.x=e.position.x),e.position.y=h.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class mA{constructor(e){this.container=e,this._updateOutMode=(n,s,a,l)=>{for(const c of this.updaters)c.update(n,l,s,a)},this.updaters=[new uA(e),new dA(e),new fA(e),new hA(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const s=e.options.move.outModes;this._updateOutMode(e,n,s.bottom??s.default,"bottom"),this._updateOutMode(e,n,s.left??s.default,"left"),this._updateOutMode(e,n,s.right??s.default,"right"),this._updateOutMode(e,n,s.top??s.default,"top")}}async function pA(t,e=!0){await t.addParticleUpdater("outModes",n=>new mA(n),e)}function gA(t,e,n,s){switch(t.options.size.animation.destroy){case"max":e>=s&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function yA(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const s=(n.velocity??0)*e.factor,a=n.min,l=n.max,c=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=l?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=s;break;case"decreasing":n.value<=a?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=s}n.velocity&&c!==1&&(n.velocity*=c),gA(t,n.value,a,l),t.destroyed||(n.value=Pn(n.value,a,l))}}class vA{init(e){const n=e.container,s=e.options.size,a=s.animation;a.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,a.sync||(e.size.velocity*=Qe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&yA(e,n)}}async function bA(t,e=!0){await t.addParticleUpdater("size",()=>new vA,e)}async function xA(t,e=!0){await Wk(t,!1),await eA(t,!1),await iA(t,!1),await oA(t,!1),await pA(t,!1),await bA(t,!1),await t.refresh(e)}async function wA(){xh("ease-in-quad",t=>t**2),xh("ease-out-quad",t=>1-(1-t)**2),xh("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class _A{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let SA=class extends ti{constructor(e,n){super(n),this._clickAttract=()=>{const s=this.container;s.attract||(s.attract={particles:[]});const{attract:a}=s;if(a.finish||(a.count||(a.count=0),a.count++,a.count===s.particles.count&&(a.finish=!0)),a.clicking){const l=s.interactivity.mouse.clickPosition,c=s.retina.attractModeDistance;if(!c||c<0||!l)return;this._processAttract(l,c,new Ut(l.x,l.y,c))}else a.clicking===!1&&(a.particles=[])},this._hoverAttract=()=>{const s=this.container,a=s.interactivity.mouse.position,l=s.retina.attractModeDistance;!l||l<0||!a||this._processAttract(a,l,new Ut(a.x,a.y,l))},this._processAttract=(s,a,l)=>{const c=this.container,d=c.actualOptions.interactivity.modes.attract;if(!d)return;const h=c.particles.quadTree.query(l,f=>this.isEnabled(f));for(const f of h){const{dx:g,dy:v,distance:b}=$t(f.position,s),x=d.speed*d.factor,_=Pn(Lx(d.easing)(1-b/a)*x,0,d.maxSpeed),T=Et.create(b===0?x:g/b*_,b===0?x:v/b*_);f.position.subFrom(T)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=s=>{const a=this.container.actualOptions,l=a.interactivity.modes.attract;if(!(!l||s!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const c of n.attract.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},l.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,s=e.interactivity.status===Ps,a=n.interactivity.events,l=a.onHover.enable,c=a.onHover.mode,d=a.onClick.enable,h=a.onClick.mode;s&&l&&ht("attract",c)?this._hoverAttract():d&&ht("attract",h)&&this._clickAttract()}isEnabled(e){const n=this.container,s=n.actualOptions,a=n.interactivity.mouse,l=((e==null?void 0:e.interactivity)??s.interactivity).events;if((!a.position||!l.onHover.enable)&&(!a.clickPosition||!l.onClick.enable))return!1;const c=l.onHover.mode,d=l.onClick.mode;return ht("attract",c)||ht("attract",d)}loadModeOptions(e,...n){e.attract||(e.attract=new _A);for(const s of n)e.attract.load(s==null?void 0:s.attract)}reset(){}};async function jA(t,e=!0){await t.addInteractor("externalAttract",n=>new SA(t,n),e)}class EA{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class TA extends ti{constructor(e){super(e),this._processBounce=(n,s,a)=>{const l=this.container.particles.quadTree.query(a,c=>this.isEnabled(c));for(const c of l)a instanceof Ut?Vx(uf(c),{position:n,mass:s**2*Math.PI/2,velocity:Et.origin,factor:Et.origin}):a instanceof Bn&&_C(c,Vo(n,s))},this._processMouseBounce=()=>{const n=this.container,s=n.retina.pixelRatio,a=10*s,l=n.interactivity.mouse.position,c=n.retina.bounceModeDistance;!c||c<0||!l||this._processBounce(l,c,new Ut(l.x,l.y,c+a))},this._singleSelectorBounce=(n,s)=>{const a=this.container,l=document.querySelectorAll(n);l.length&&l.forEach(c=>{const d=c,h=a.retina.pixelRatio,f={x:(d.offsetLeft+d.offsetWidth/2)*h,y:(d.offsetTop+d.offsetHeight/2)*h},g=d.offsetWidth/2*h,v=10*h,b=s.type==="circle"?new Ut(f.x,f.y,g+v):new Bn(d.offsetLeft*h-v,d.offsetTop*h-v,d.offsetWidth*h+v*2,d.offsetHeight*h+v*2);this._processBounce(f,g,b)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,s=n.interactivity.events,a=e.interactivity.status===Ps,l=s.onHover.enable,c=s.onHover.mode,d=s.onDiv;a&&l&&ht("bounce",c)?this._processMouseBounce():Yf("bounce",d,(h,f)=>this._singleSelectorBounce(h,f))}isEnabled(e){const n=this.container,s=n.actualOptions,a=n.interactivity.mouse,l=((e==null?void 0:e.interactivity)??s.interactivity).events,c=l.onDiv;return a.position&&l.onHover.enable&&ht("bounce",l.onHover.mode)||Gf("bounce",c)}loadModeOptions(e,...n){e.bounce||(e.bounce=new EA);for(const s of n)e.bounce.load(s==null?void 0:s.bounce)}reset(){}}async function CA(t,e=!0){await t.addInteractor("externalBounce",n=>new TA(n),e)}class rw{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=cn(this.color)?void 0:this.color;this.color=Tt(e.color,s=>Mt.create(n,s))}e.size!==void 0&&(this.size=e.size)}}}class kA extends rw{constructor(){super(),this.selectors=[]}get ids(){return Tt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Tt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class AA extends rw{load(e){super.load(e),e&&(this.divs=Tt(e.divs,n=>{const s=new kA;return s.load(n),s}))}}function jv(t,e,n,s){if(e>=n){const a=t+(e-n)*s;return Pn(a,t,e)}else if(e<n){const a=t-(n-e)*s;return Pn(a,e,t)}}class RA extends ti{constructor(e){super(e),this._clickBubble=()=>{var f;const n=this.container,s=n.actualOptions,a=n.interactivity.mouse.clickPosition,l=s.interactivity.modes.bubble;if(!l||!a)return;n.bubble||(n.bubble={});const c=n.retina.bubbleModeDistance;if(!c||c<0)return;const d=n.particles.quadTree.queryCircle(a,c,g=>this.isEnabled(g)),{bubble:h}=n;for(const g of d){if(!h.clicking)continue;g.bubble.inRange=!h.durationEnd;const v=g.getPosition(),b=ln(v,a),x=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;x>l.duration&&(h.durationEnd=!0),x>l.duration*2&&(h.clicking=!1,h.durationEnd=!1);const _={bubbleObj:{optValue:n.retina.bubbleModeSize,value:g.bubble.radius},particlesObj:{optValue:ts(g.options.size.value)*n.retina.pixelRatio,value:g.size.value},type:"size"};this._process(g,b,x,_);const T={bubbleObj:{optValue:l.opacity,value:g.bubble.opacity},particlesObj:{optValue:ts(g.options.opacity.value),value:((f=g.opacity)==null?void 0:f.value)??1},type:"opacity"};this._process(g,b,x,T),!h.durationEnd&&b<=c?this._hoverBubbleColor(g,b):delete g.bubble.color}},this._hoverBubble=()=>{const n=this.container,s=n.interactivity.mouse.position,a=n.retina.bubbleModeDistance;if(!a||a<0||s===void 0)return;const l=n.particles.quadTree.queryCircle(s,a,c=>this.isEnabled(c));for(const c of l){c.bubble.inRange=!0;const d=c.getPosition(),h=ln(d,s),f=1-h/a;h<=a?f>=0&&n.interactivity.status===Ps&&(this._hoverBubbleSize(c,f),this._hoverBubbleOpacity(c,f),this._hoverBubbleColor(c,f)):this.reset(c),n.interactivity.status===lf&&this.reset(c)}},this._hoverBubbleColor=(n,s,a)=>{const l=this.container.actualOptions,c=a??l.interactivity.modes.bubble;if(c){if(!n.bubble.finalColor){const d=c.color;if(!d)return;const h=bi(d);n.bubble.finalColor=So(h)}if(n.bubble.finalColor)if(c.mix){n.bubble.color=void 0;const d=n.getFillColor();n.bubble.color=d?Gx(Kf(d,n.bubble.finalColor,1-s,s)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,s,a)=>{var v,b;const l=this.container,c=l.actualOptions,d=(a==null?void 0:a.opacity)??((v=c.interactivity.modes.bubble)==null?void 0:v.opacity);if(!d)return;const h=n.options.opacity.value,f=((b=n.opacity)==null?void 0:b.value)??1,g=jv(f,d,ts(h),s);g!==void 0&&(n.bubble.opacity=g)},this._hoverBubbleSize=(n,s,a)=>{const l=this.container,c=a!=null&&a.size?a.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(c===void 0)return;const d=ts(n.options.size.value)*l.retina.pixelRatio,h=n.size.value,f=jv(h,c,d,s);f!==void 0&&(n.bubble.radius=f)},this._process=(n,s,a,l)=>{const c=this.container,d=l.bubbleObj.optValue,h=c.actualOptions,f=h.interactivity.modes.bubble;if(!f||d===void 0)return;const g=f.duration,v=c.retina.bubbleModeDistance,b=l.particlesObj.optValue,x=l.bubbleObj.value,_=l.particlesObj.value||0,T=l.type;if(!(!v||v<0||d===b))if(c.bubble||(c.bubble={}),c.bubble.durationEnd)x&&(T==="size"&&delete n.bubble.radius,T==="opacity"&&delete n.bubble.opacity);else if(s<=v){if((x??_)!==d){const k=_-a*(_-d)/g;T==="size"&&(n.bubble.radius=k),T==="opacity"&&(n.bubble.opacity=k)}}else T==="size"&&delete n.bubble.radius,T==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,s,a)=>{const l=this.container,c=document.querySelectorAll(s),d=l.actualOptions.interactivity.modes.bubble;!d||!c.length||c.forEach(h=>{const f=h,g=l.retina.pixelRatio,v={x:(f.offsetLeft+f.offsetWidth/2)*g,y:(f.offsetTop+f.offsetHeight/2)*g},b=f.offsetWidth/2*g,x=a.type==="circle"?new Ut(v.x,v.y,b):new Bn(f.offsetLeft*g,f.offsetTop*g,f.offsetWidth*g,f.offsetHeight*g),_=l.particles.quadTree.query(x,T=>this.isEnabled(T));for(const T of _){if(!x.contains(T.getPosition()))continue;T.bubble.inRange=!0;const R=d.divs,k=Ux(R,f);(!T.bubble.div||T.bubble.div!==f)&&(this.clear(T,n,!0),T.bubble.div=f),this._hoverBubbleSize(T,1,k),this._hoverBubbleOpacity(T,1,k),this._hoverBubbleColor(T,1,k)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,s){e.bubble.inRange&&!s||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,s=n.interactivity.events,a=s.onHover,l=s.onClick,c=a.enable,d=a.mode,h=l.enable,f=l.mode,g=s.onDiv;c&&ht("bubble",d)?this._hoverBubble():h&&ht("bubble",f)?this._clickBubble():Yf("bubble",g,(v,b)=>this._singleSelectorHover(e,v,b))}isEnabled(e){const n=this.container,s=n.actualOptions,a=n.interactivity.mouse,l=((e==null?void 0:e.interactivity)??s.interactivity).events,{onClick:c,onDiv:d,onHover:h}=l,f=Gf("bubble",d);return f||h.enable&&a.position||c.enable&&a.clickPosition?ht("bubble",h.mode)||ht("bubble",c.mode)||f:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new AA);for(const s of n)e.bubble.load(s==null?void 0:s.bubble)}reset(e){e.bubble.inRange=!1}}async function NA(t,e=!0){await t.addInteractor("externalBubble",n=>new RA(n),e)}class MA{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class DA{constructor(){this.distance=80,this.links=new MA,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function OA(t,e,n,s){const a=Math.floor(n.getRadius()/e.getRadius()),l=e.getFillColor(),c=n.getFillColor();if(!l||!c)return;const d=e.getPosition(),h=n.getPosition(),f=Kf(l,c,e.getRadius(),n.getRadius()),g=t.createLinearGradient(d.x,d.y,h.x,h.y);return g.addColorStop(0,jo(l,s)),g.addColorStop(a>1?1:a,xi(f,s)),g.addColorStop(1,jo(c,s)),g}function zA(t,e,n,s,a){po(t,s,a),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function LA(t,e,n,s){const a=t.actualOptions,l=a.interactivity.modes.connect;if(l)return OA(e,n,s,l.links.opacity)}function PA(t,e,n){t.canvas.draw(s=>{const a=LA(t,s,e,n);if(!a)return;const l=e.getPosition(),c=n.getPosition();zA(s,e.retina.linksWidth??0,a,l,c)})}class BA extends ti{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const s=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!s)return;const a=Math.abs(e.retina.connectModeRadius),l=e.particles.quadTree.queryCircle(s,a,d=>this.isEnabled(d));let c=0;for(const d of l){const h=d.getPosition();for(const f of l.slice(c+1)){const g=f.getPosition(),v=Math.abs(e.retina.connectModeDistance),b=Math.abs(h.x-g.x),x=Math.abs(h.y-g.y);b<v&&x<v&&PA(e,d,f)}++c}}}isEnabled(e){const n=this.container,s=n.interactivity.mouse,a=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return a.onHover.enable&&s.position?ht("connect",a.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new DA);for(const s of n)e.connect.load(s==null?void 0:s.connect)}reset(){}}async function UA(t,e=!0){await t.addInteractor("externalConnect",n=>new BA(n),e)}class VA{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Mt.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class qA{constructor(){this.distance=100,this.links=new VA}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function HA(t,e,n,s,a,l){po(t,n,s),t.strokeStyle=xi(a,l),t.lineWidth=e,t.stroke()}function $A(t,e,n,s,a){t.canvas.draw(l=>{const c=e.getPosition();HA(l,e.retina.linksWidth??0,c,a,n,s)})}class IA extends ti{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var d;const e=this.container,n=e.actualOptions,s=n.interactivity;if(!s.modes.grab||!s.events.onHover.enable||e.interactivity.status!==Ps)return;const a=e.interactivity.mouse.position;if(!a)return;const l=e.retina.grabModeDistance;if(!l||l<0)return;const c=e.particles.quadTree.queryCircle(a,l,h=>this.isEnabled(h));for(const h of c){const f=h.getPosition(),g=ln(f,a);if(g>l)continue;const v=s.modes.grab.links,b=v.opacity,x=b-g*b/l;if(x<=0)continue;const _=v.color??((d=h.options.links)==null?void 0:d.color);if(!e.particles.grabLineColor&&_){const R=s.modes.grab.links;e.particles.grabLineColor=Kx(_,R.blink,R.consent)}const T=df(h,void 0,e.particles.grabLineColor);T&&$A(e,h,T,x,a)}}isEnabled(e){const n=this.container,s=n.interactivity.mouse,a=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return a.onHover.enable&&!!s.position&&ht("grab",a.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new qA);for(const s of n)e.grab.load(s==null?void 0:s.grab)}reset(){}}async function FA(t,e=!0){await t.addInteractor("externalGrab",n=>new IA(n),e)}class GA extends ti{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const s=this.container;s.getAnimationStatus()?s.pause():s.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function YA(t,e=!0){await t.addInteractor("externalPause",n=>new GA(n),e)}class KA{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Se(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(s=>s)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=Se(n))}}class XA extends ti{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const s=this.container,a=s.actualOptions,l=a.interactivity.modes.push;if(!l)return;const c=me(l.quantity);if(c<=0)return;const d=qc([void 0,...l.groups]),h=d!==void 0?s.actualOptions.particles.groups[d]:void 0;s.particles.push(c,s.interactivity.mouse,h,d)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new KA);for(const s of n)e.push.load(s==null?void 0:s.push)}reset(){}}async function QA(t,e=!0){await t.addInteractor("externalPush",n=>new XA(n),e)}class ZA{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Se(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=Se(n))}}class WA extends ti{constructor(e){super(e),this.handleClickMode=n=>{const s=this.container,a=s.actualOptions;if(!a.interactivity.modes.remove||n!=="remove")return;const l=me(a.interactivity.modes.remove.quantity);s.particles.removeQuantity(l)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new ZA);for(const s of n)e.remove.load(s==null?void 0:s.remove)}reset(){}}async function JA(t,e=!0){await t.addInteractor("externalRemove",n=>new WA(n),e)}class aw{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class eR extends aw{constructor(){super(),this.selectors=[]}get ids(){return Tt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Tt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class tR extends aw{load(e){super.load(e),e&&(this.divs=Tt(e.divs,n=>{const s=new eR;return s.load(n),s}))}}class nR extends ti{constructor(e,n){super(n),this._clickRepulse=()=>{const s=this.container,a=s.actualOptions.interactivity.modes.repulse;if(!a)return;const l=s.repulse||{particles:[]};if(l.finish||(l.count||(l.count=0),l.count++,l.count===s.particles.count&&(l.finish=!0)),l.clicking){const c=s.retina.repulseModeDistance;if(!c||c<0)return;const d=Math.pow(c/6,3),h=s.interactivity.mouse.clickPosition;if(h===void 0)return;const f=new Ut(h.x,h.y,d),g=s.particles.quadTree.query(f,v=>this.isEnabled(v));for(const v of g){const{dx:b,dy:x,distance:_}=$t(h,v.position),T=_**2,R=a.speed,k=-d*R/T;if(T<=d){l.particles.push(v);const U=Et.create(b,x);U.length=k,v.velocity.setTo(U)}}}else if(l.clicking===!1){for(const c of l.particles)c.velocity.setTo(c.initialVelocity);l.particles=[]}},this._hoverRepulse=()=>{const s=this.container,a=s.interactivity.mouse.position,l=s.retina.repulseModeDistance;!l||l<0||!a||this._processRepulse(a,l,new Ut(a.x,a.y,l))},this._processRepulse=(s,a,l,c)=>{const d=this.container,h=d.particles.quadTree.query(l,g=>this.isEnabled(g)),f=d.actualOptions.interactivity.modes.repulse;if(f)for(const g of h){const{dx:v,dy:b,distance:x}=$t(g.position,s),_=((c==null?void 0:c.speed)??f.speed)*f.factor,T=Pn(Lx(f.easing)(1-x/a)*_,0,f.maxSpeed),R=Et.create(x===0?_:v/x*T,x===0?_:b/x*T);g.position.addTo(R)}},this._singleSelectorRepulse=(s,a)=>{const l=this.container,c=l.actualOptions.interactivity.modes.repulse;if(!c)return;const d=document.querySelectorAll(s);d.length&&d.forEach(h=>{const f=h,g=l.retina.pixelRatio,v={x:(f.offsetLeft+f.offsetWidth/2)*g,y:(f.offsetTop+f.offsetHeight/2)*g},b=f.offsetWidth/2*g,x=a.type==="circle"?new Ut(v.x,v.y,b):new Bn(f.offsetLeft*g,f.offsetTop*g,f.offsetWidth*g,f.offsetHeight*g),_=c.divs,T=Ux(_,f);this._processRepulse(v,b,x,T)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=s=>{const a=this.container.actualOptions,l=a.interactivity.modes.repulse;if(!l||s!=="repulse")return;n.repulse||(n.repulse={particles:[]});const c=n.repulse;c.clicking=!0,c.count=0;for(const d of n.repulse.particles)this.isEnabled(d)&&d.velocity.setTo(d.initialVelocity);c.particles=[],c.finish=!1,setTimeout(()=>{n.destroyed||(c.clicking=!1)},l.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,s=e.interactivity.status===Ps,a=n.interactivity.events,l=a.onHover,c=l.enable,d=l.mode,h=a.onClick,f=h.enable,g=h.mode,v=a.onDiv;s&&c&&ht("repulse",d)?this._hoverRepulse():f&&ht("repulse",g)?this._clickRepulse():Yf("repulse",v,(b,x)=>this._singleSelectorRepulse(b,x))}isEnabled(e){const n=this.container,s=n.actualOptions,a=n.interactivity.mouse,l=((e==null?void 0:e.interactivity)??s.interactivity).events,c=l.onDiv,d=l.onHover,h=l.onClick,f=Gf("repulse",c);if(!(f||d.enable&&a.position||h.enable&&a.clickPosition))return!1;const g=d.mode,v=h.mode;return ht("repulse",g)||ht("repulse",v)||f}loadModeOptions(e,...n){e.repulse||(e.repulse=new tR);for(const s of n)e.repulse.load(s==null?void 0:s.repulse)}reset(){}}async function iR(t,e=!0){await t.addInteractor("externalRepulse",n=>new nR(t,n),e)}class sR{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class rR extends ti{constructor(e){super(e)}clear(e,n,s){e.slow.inRange&&!s||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,s=n.interactivity.mouse,a=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return a.onHover.enable&&!!s.position&&ht("slow",a.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new sR);for(const s of n)e.slow.load(s==null?void 0:s.slow)}reset(e){e.slow.inRange=!1;const n=this.container,s=n.actualOptions,a=n.interactivity.mouse.position,l=n.retina.slowModeRadius,c=s.interactivity.modes.slow;if(!c||!l||l<0||!a)return;const d=e.getPosition(),h=ln(a,d),f=h/l,g=c.factor,{slow:v}=e;h>l||(v.inRange=!0,v.factor=f/g)}}async function aR(t,e=!0){await t.addInteractor("externalSlow",n=>new rR(n),e)}const Oh=[0,4,2,1],Ev=[8,8,4,2];class oR{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((s,a)=>s+String.fromCharCode(a),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let s=n;--s>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let a=0;(e=this.data[this.pos+a])!==0;a+=e+1)n+=e;const s=new Uint8Array(n);for(let a=0;(e=this.data[this.pos++])!==0;)for(let l=e;--l>=0;s[a++]=this.data[this.pos++]);return s}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function ow(t,e){const n=[];for(let s=0;s<e;s++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function lR(t,e,n,s){switch(t.nextByte()){case 249:{const a=e.frames[n(!1)];t.pos++;const l=t.nextByte();a.GCreserved=(l&224)>>>5,a.disposalMethod=(l&28)>>>2,a.userInputDelayFlag=(l&2)===2;const c=(l&1)===1;a.delayTime=t.nextTwoBytes()*10;const d=t.nextByte();c&&s(d),t.pos++;break}case 255:{t.pos++;const a={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(a);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function cR(t,e,n,s,a,l){const c=e.frames[s(!0)];c.left=t.nextTwoBytes(),c.top=t.nextTwoBytes(),c.width=t.nextTwoBytes(),c.height=t.nextTwoBytes();const d=t.nextByte(),h=(d&128)===128,f=(d&64)===64;c.sortFlag=(d&32)===32,c.reserved=(d&24)>>>3;const g=1<<(d&7)+1;h&&(c.localColorTable=ow(t,g));const v=k=>{const{r:U,g:z,b:A}=(h?c.localColorTable:e.globalColorTable)[k];return{r:U,g:z,b:A,a:k===a(null)?n?~~((U+z+A)/3):0:255}},b=(()=>{try{return new ImageData(c.width,c.height,{colorSpace:"srgb"})}catch(k){if(k instanceof DOMException&&k.name==="IndexSizeError")return null;throw k}})();if(b==null)throw new EvalError("GIF frame size is to large");const x=t.nextByte(),_=t.readSubBlocksBin(),T=1<<x,R=(k,U)=>{const z=k>>>3,A=k&7;return(_[z]+(_[z+1]<<8)+(_[z+2]<<16)&(1<<U)-1<<A)>>>A};if(f){for(let k=0,U=x+1,z=0,A=[[0]],L=0;L<4;L++)if(Oh[L]<c.height)for(let P=0,I=0;;){const C=k;if(k=R(z,U),z+=U+1,k===T){U=x+1,A.length=T+2;for(let j=0;j<A.length;j++)A[j]=j<T?[j]:[]}else{k>=A.length?A.push(A[C].concat(A[C][0])):C!==T&&A.push(A[C].concat(A[k][0]));for(let j=0;j<A[k].length;j++){const{r:N,g:D,b:V,a:te}=v(A[k][j]);b.data.set([N,D,V,te],Oh[L]*c.width+Ev[L]*I+P%(c.width*4)),P+=4}A.length===1<<U&&U<12&&U++}if(P===c.width*4*(I+1)&&(I++,Oh[L]+Ev[L]*I>=c.height))break}c.image=b,c.bitmap=await createImageBitmap(b)}else{for(let k=0,U=x+1,z=0,A=[[0]],L=-4;;){const P=k;if(k=R(z,U),z+=U,k===T){U=x+1,A.length=T+2;for(let I=0;I<A.length;I++)A[I]=I<T?[I]:[]}else{if(k===T+1)break;k>=A.length?A.push(A[P].concat(A[P][0])):P!==T&&A.push(A[P].concat(A[k][0]));for(let I=0;I<A[k].length;I++){const{r:C,g:j,b:N,a:D}=v(A[k][I]);b.data.set([C,j,N,D],L+=4)}A.length>=1<<U&&U<12&&U++}}c.image=b,c.bitmap=await createImageBitmap(b)}}async function uR(t,e,n,s,a,l){switch(t.nextByte()){case 59:return!0;case 44:await cR(t,e,n,s,a);break;case 33:await lR(t,e,s,a);break;default:throw new EvalError("undefined block found")}return!1}function dR(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function hR(t,e,n){n||(n=!1);const s=await fetch(t);if(!s.ok&&s.status===404)throw new EvalError("file not found");const a=await s.arrayBuffer(),l={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},c=new oR(new Uint8ClampedArray(a));if(c.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");l.width=c.nextTwoBytes(),l.height=c.nextTwoBytes();const d=c.nextByte(),h=(d&128)===128;l.colorRes=(d&112)>>>4,l.sortFlag=(d&8)===8;const f=1<<(d&7)+1,g=c.nextByte();l.pixelAspectRatio=c.nextByte(),l.pixelAspectRatio!==0&&(l.pixelAspectRatio=(l.pixelAspectRatio+15)/64),h&&(l.globalColorTable=ow(c,f));const v=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(A){if(A instanceof DOMException&&A.name==="IndexSizeError")return null;throw A}})();if(v==null)throw new Error("GIF frame size is to large");const{r:b,g:x,b:_}=l.globalColorTable[g];v.data.set(h?[b,x,_,255]:[0,0,0,0]);for(let A=4;A<v.data.length;A*=2)v.data.copyWithin(A,0,A);l.backgroundImage=v;let T=-1,R=!0,k=-1;const U=A=>(A&&(R=!0),T),z=A=>(A!=null&&(k=A),k);try{do R&&(l.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),T++,k=-1,R=!1);while(!await uR(c,l,n,U,z,e));l.frames.length--;for(const A of l.frames){if(A.userInputDelayFlag&&A.delayTime===0){l.totalTime=1/0;break}l.totalTime+=A.delayTime}return l}catch(A){throw A instanceof EvalError?new Error(`error while parsing frame ${T} "${A.message}"`):A}}const fR=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function mR(t,e,n){const{svgData:s}=t;if(!s)return"";const a=jo(e,n);if(s.includes("fill"))return s.replace(fR,()=>a);const l=s.indexOf(">");return`${s.substring(0,l)} fill="${a}"${s.substring(l)}`}async function $c(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,Us().error(`${Tn} loading image: ${t.source}`),e()}),n.src=t.source})}async function pR(t){if(t.type!=="gif"){await $c(t);return}t.loading=!0;try{t.gifData=await hR(t.source),t.gifLoopCount=dR(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function gR(t){if(t.type!=="svg"){await $c(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(Us().error(`${Tn} Image not found`),t.error=!0),t.loading=!1}function yR(t,e,n,s){var c;const a=mR(t,n,((c=s.opacity)==null?void 0:c.value)??1),l={color:n,gif:e.gif,data:{...t,svgData:a},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(d=>{const h=new Blob([a],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,g=f.createObjectURL(h),v=new Image;v.addEventListener("load",()=>{l.loaded=!0,l.element=v,d(l),f.revokeObjectURL(g)}),v.addEventListener("error",async()=>{f.revokeObjectURL(g);const b={...t,error:!1,loading:!0};await $c(b),l.loaded=!0,l.element=b.element,d(l)}),v.src=g})}class vR{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${Tn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,s,a,l){const c=n.image,d=c==null?void 0:c.element;if(c){if(e.globalAlpha=a,c.gif&&c.gifData){const h=new OffscreenCanvas(c.gifData.width,c.gifData.height),f=h.getContext("2d");if(!f)throw new Error("could not create offscreen canvas context");f.imageSmoothingQuality="low",f.imageSmoothingEnabled=!1,f.clearRect(0,0,h.width,h.height),n.gifLoopCount===void 0&&(n.gifLoopCount=c.gifLoopCount??0);let g=n.gifFrame??0;const v={x:-c.gifData.width*.5,y:-c.gifData.height*.5},b=c.gifData.frames[g];if(n.gifTime===void 0&&(n.gifTime=0),!b.bitmap)return;switch(e.scale(s/c.gifData.width,s/c.gifData.height),b.disposalMethod){case 4:case 5:case 6:case 7:case 0:f.drawImage(b.bitmap,b.left,b.top),e.drawImage(h,v.x,v.y),f.clearRect(0,0,h.width,h.height);break;case 1:f.drawImage(b.bitmap,b.left,b.top),e.drawImage(h,v.x,v.y);break;case 2:f.drawImage(b.bitmap,b.left,b.top),e.drawImage(h,v.x,v.y),f.clearRect(0,0,h.width,h.height),c.gifData.globalColorTable.length===0?f.putImageData(c.gifData.frames[0].image,v.x+b.left,v.y+b.top):f.putImageData(c.gifData.backgroundImage,v.x,v.y);break;case 3:{const x=f.getImageData(0,0,h.width,h.height);f.drawImage(b.bitmap,b.left,b.top),e.drawImage(h,v.x,v.y),f.clearRect(0,0,h.width,h.height),f.putImageData(x,0,0)}break}if(n.gifTime+=l.value,n.gifTime>b.delayTime){if(n.gifTime-=b.delayTime,++g>=c.gifData.frames.length){if(--n.gifLoopCount<=0)return;g=0,f.clearRect(0,0,h.width,h.height)}n.gifFrame=g}e.scale(c.gifData.width/s,c.gifData.height/s)}else if(d){const h=c.ratio,f={x:-s,y:-s};e.drawImage(d,f.x,f.y,s*2,s*2/h)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const s of n.preload)await this._engine.loadImage(s)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(a=>a.name===n.name||a.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const s=this._engine.images,a=n.shapeData,l=n.getFillColor(),c=s.find(h=>h.name===a.name||h.source===a.src);if(!c)return;const d=a.replaceColor??a.replace_color??c.replaceColor;if(c.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let h;c.svgData&&l?h=await yR(c,a,l,n):h={color:l,data:c,element:c.element,gif:c.gif,gifData:c.gifData,gifLoopCount:c.gifLoopCount,loaded:!0,ratio:a.width&&a.height?a.width/a.height:c.ratio??1,replaceColor:d,source:a.src},h.ratio||(h.ratio=1);const f=a.fill??n.fill,g=a.close??n.close,v={image:h,fill:f,close:g};n.image=v.image,n.fill=v.fill,n.close=v.close})()}}class bR{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class xR{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const s=e.preload;for(const a of n.preload){const l=s.find(c=>c.name===a.name||c.src===a.src);if(l)l.load(a);else{const c=new bR;c.load(a),s.push(c)}}}needsPlugin(){return!0}}function wR(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Tn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?pR:e.replaceColor?gR:$c)(n)}catch{throw new Error(`${Tn} ${e.name??e.src} not found`)}})}async function _R(t,e=!0){wR(t);const n=new xR(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new vR(t),e)}class SR extends ls{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class jR extends ls{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class ER{constructor(){this.count=0,this.delay=new SR,this.duration=new jR}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class TR{constructor(e){this.container=e}init(e){const n=this.container,s=e.options,a=s.life;a&&(e.life={delay:n.retina.reduceFactor?me(a.delay.value)*(a.delay.sync?1:Qe())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?me(a.duration.value)*(a.duration.sync?1:Qe())/n.retina.reduceFactor*1e3:0,time:0,count:a.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new ER);for(const s of n)e.life.load(s==null?void 0:s.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const s=e.life;let a=!1;if(e.spawning)if(s.delayTime+=n.value,s.delayTime>=e.life.delay)a=!0,e.spawning=!1,s.delayTime=0,s.time=0;else return;if(s.duration===-1||e.spawning||(a?s.time=0:s.time+=n.value,s.time<s.duration))return;if(s.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const l=this.container.canvas.size,c=Se(0,l.width),d=Se(0,l.width);e.position.x=Qt(c),e.position.y=Qt(d),e.spawning=!0,s.delayTime=0,s.time=0,e.reset();const h=e.options.life;h&&(s.delay=me(h.delay.value)*1e3,s.duration=me(h.duration.value)*1e3)}}async function CR(t,e=!0){await t.addParticleUpdater("life",n=>new TR(n),e)}class kR{draw(e,n,s){const a=n.shapeData;e.moveTo(-s/2,0),e.lineTo(s/2,0),e.lineCap=(a==null?void 0:a.cap)??"butt"}getSidesCount(){return 1}}async function AR(t,e=!0){await t.addShape("line",new kR,e)}class RR{init(){}isEnabled(e){return!Kr()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,s=n.actualOptions,a=s.interactivity.events.onHover.parallax;if(Kr()||!a.enable)return;const l=a.force,c=n.interactivity.mouse.position;if(!c)return;const d=n.canvas.size,h={x:d.width/2,y:d.height/2},f=a.smooth,g=e.getRadius()/l,v={x:(c.x-h.x)*g,y:(c.y-h.y)*g},{offset:b}=e;b.x+=(v.x-b.x)/f,b.y+=(v.y-b.y)/f}}async function NR(t,e=!0){await t.addMover("parallax",()=>new RR,e)}class MR extends Xf{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,s=e.retina.attractDistance??n.retina.attractDistance,a=e.getPosition(),l=n.particles.quadTree.queryCircle(a,s);for(const c of l){if(e===c||!c.options.move.attract.enable||c.destroyed||c.spawning)continue;const d=c.getPosition(),{dx:h,dy:f}=$t(a,d),g=e.options.move.attract.rotate,v=h/(g.x*1e3),b=f/(g.y*1e3),x=c.size.value/e.size.value,_=1/x;e.velocity.x-=v*x,e.velocity.y-=b*x,c.velocity.x+=v*_,c.velocity.y+=b*_}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function DR(t,e=!0){await t.addInteractor("particlesAttract",n=>new MR(n),e)}function Tv(t,e,n,s,a,l){const c=Pn(t.options.collisions.absorb.speed*a.factor/10,0,s);t.size.value+=c/2,n.size.value-=c,s<=l&&(n.size.value=0,n.destroy())}function OR(t,e,n,s){const a=t.getRadius(),l=e.getRadius();a===void 0&&l!==void 0?t.destroy():a!==void 0&&l===void 0?e.destroy():a!==void 0&&l!==void 0&&(a>=l?Tv(t,a,e,l,n,s):Tv(e,l,t,a,n,s))}const Cv=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=me(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function lw(t,e){Vx(uf(t),uf(e)),Cv(t),Cv(e)}function zR(t,e){!t.unbreakable&&!e.unbreakable&&lw(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function LR(t,e,n,s){switch(t.options.collisions.mode){case"absorb":{OR(t,e,n,s);break}case"bounce":{lw(t,e);break}case"destroy":{zR(t,e);break}}}class PR extends Xf{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const s=this.container,a=e.getPosition(),l=e.getRadius(),c=s.particles.quadTree.queryCircle(a,l*2);for(const d of c){if(e===d||!d.options.collisions.enable||e.options.collisions.mode!==d.options.collisions.mode||d.destroyed||d.spawning)continue;const h=d.getPosition(),f=d.getRadius();if(Math.abs(Math.round(a.z)-Math.round(h.z))>l+f)continue;const g=ln(a,h),v=l+f;g>v||LR(e,d,n,s.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function BR(t,e=!0){await t.addInteractor("particlesCollisions",n=>new PR(n),e)}class UR extends Ut{constructor(e,n,s,a){super(e,n,s),this.canvasSize=a,this.canvasSize={...a}}contains(e){const{width:n,height:s}=this.canvasSize,{x:a,y:l}=e;return super.contains(e)||super.contains({x:a-n,y:l})||super.contains({x:a-n,y:l-s})||super.contains({x:a,y:l-s})}intersects(e){if(super.intersects(e))return!0;const n=e,s=e,a={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(s.radius!==void 0){const l=new Ut(a.x,a.y,s.radius*2);return super.intersects(l)}else if(n.size!==void 0){const l=new Bn(a.x,a.y,n.size.width*2,n.size.height*2);return super.intersects(l)}return!1}}class VR{constructor(){this.blur=5,this.color=new Mt,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Mt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class qR{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Mt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class HR{constructor(){this.blink=!1,this.color=new Mt,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new VR,this.triangles=new qR,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Mt.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function $R(t,e,n,s,a){const{dx:l,dy:c,distance:d}=$t(t,e);if(!a||d<=n)return d;const h={x:Math.abs(l),y:Math.abs(c)},f={x:Math.min(h.x,s.width-h.x),y:Math.min(h.y,s.height-h.y)};return Math.sqrt(f.x**2+f.y**2)}class IR extends Xf{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const s=this.linkContainer,a=n.options.links;let l=a.id===void 0?s.particles.linksColor:s.particles.linksColors.get(a.id);if(l)return;const c=a.color;l=Kx(c,a.blink,a.consent),a.id===void 0?s.particles.linksColor=l:s.particles.linksColors.set(a.id,l)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),s=this.container,a=s.canvas.size;if(n.x<0||n.y<0||n.x>a.width||n.y>a.height)return;const l=e.options.links,c=l.opacity,d=e.retina.linksDistance??0,h=l.warp,f=h?new UR(n.x,n.y,d,a):new Ut(n.x,n.y,d),g=s.particles.quadTree.query(f);for(const v of g){const b=v.options.links;if(e===v||!(b!=null&&b.enable)||l.id!==b.id||v.spawning||v.destroyed||!v.links||e.links.some(R=>R.destination===v)||v.links.some(R=>R.destination===e))continue;const x=v.getPosition();if(x.x<0||x.y<0||x.x>a.width||x.y>a.height)continue;const _=$R(n,x,d,a,h&&b.warp);if(_>d)continue;const T=(1-_/d)*c;this._setColor(e),e.links.push({destination:v,opacity:T})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new HR);for(const s of n)e.links.load((s==null?void 0:s.links)??(s==null?void 0:s.lineLinked)??(s==null?void 0:s.line_linked))}reset(){}}async function FR(t,e=!0){await t.addInteractor("particlesLinks",n=>new IR(n),e)}function GR(t){let e=!1;const{begin:n,end:s,maxDistance:a,context:l,canvasSize:c,width:d,backgroundMask:h,colorLine:f,opacity:g,links:v}=t;if(ln(n,s)<=a)po(l,n,s),e=!0;else if(v.warp){let x,_;const T={x:s.x-c.width,y:s.y},R=$t(n,T);if(R.distance<=a){const k=n.y-R.dy/R.dx*n.x;x={x:0,y:k},_={x:c.width,y:k}}else{const k={x:s.x,y:s.y-c.height},U=$t(n,k);if(U.distance<=a){const A=-(n.y-U.dy/U.dx*n.x)/(U.dy/U.dx);x={x:A,y:0},_={x:A,y:c.height}}else{const z={x:s.x-c.width,y:s.y-c.height},A=$t(n,z);if(A.distance<=a){const L=n.y-A.dy/A.dx*n.x;x={x:-L/(A.dy/A.dx),y:L},_={x:x.x+c.width,y:x.y+c.height}}}}x&&_&&(po(l,n,x),po(l,s,_),e=!0)}if(!e)return;l.lineWidth=d,h.enable&&(l.globalCompositeOperation=h.composite),l.strokeStyle=xi(f,g);const{shadow:b}=v;if(b.enable){const x=Ln(b.color);x&&(l.shadowBlur=b.blur,l.shadowColor=xi(x))}l.stroke()}function YR(t){const{context:e,pos1:n,pos2:s,pos3:a,backgroundMask:l,colorTriangle:c,opacityTriangle:d}=t;CC(e,n,s,a),l.enable&&(e.globalCompositeOperation=l.composite),e.fillStyle=xi(c,d),e.fill()}function KR(t){return t.sort((e,n)=>e-n),t.join("_")}function kv(t,e){const n=KR(t.map(a=>a.id));let s=e.get(n);return s===void 0&&(s=Qe(),e.set(n,s)),s}class XR{constructor(e){this.container=e,this._drawLinkLine=(n,s)=>{const a=n.options.links;if(!(a!=null&&a.enable))return;const l=this.container,c=l.actualOptions,d=s.destination,h=n.getPosition(),f=d.getPosition();let g=s.opacity;l.canvas.draw(v=>{var k;let b;const x=(k=n.options.twinkle)==null?void 0:k.lines;if(x!=null&&x.enable){const U=x.frequency,z=Ln(x.color);Qe()<U&&z&&(b=z,g=me(x.opacity))}if(!b){const U=a.id!==void 0?l.particles.linksColors.get(a.id):l.particles.linksColor;b=df(n,d,U)}if(!b)return;const _=n.retina.linksWidth??0,T=n.retina.linksDistance??0,{backgroundMask:R}=c;GR({context:v,width:_,begin:h,end:f,maxDistance:T,canvasSize:l.canvas.size,links:a,backgroundMask:R,colorLine:b,opacity:g})})},this._drawLinkTriangle=(n,s,a)=>{const l=n.options.links;if(!(l!=null&&l.enable))return;const c=l.triangles;if(!c.enable)return;const d=this.container,h=d.actualOptions,f=s.destination,g=a.destination,v=c.opacity??(s.opacity+a.opacity)/2;v<=0||d.canvas.draw(b=>{const x=n.getPosition(),_=f.getPosition(),T=g.getPosition(),R=n.retina.linksDistance??0;if(ln(x,_)>R||ln(T,_)>R||ln(T,x)>R)return;let k=Ln(c.color);if(!k){const U=l.id!==void 0?d.particles.linksColors.get(l.id):d.particles.linksColor;k=df(n,f,U)}k&&YR({context:b,pos1:x,pos2:_,pos3:T,backgroundMask:h.backgroundMask,colorTriangle:k,opacityTriangle:v})})},this._drawTriangles=(n,s,a,l)=>{var h,f,g;const c=a.destination;if(!((h=n.links)!=null&&h.triangles.enable&&((f=c.options.links)!=null&&f.triangles.enable)))return;const d=(g=c.links)==null?void 0:g.filter(v=>{const b=this._getLinkFrequency(c,v.destination);return c.options.links&&b<=c.options.links.frequency&&l.findIndex(x=>x.destination===v.destination)>=0});if(d!=null&&d.length)for(const v of d){const b=v.destination;this._getTriangleFrequency(s,c,b)>n.links.triangles.frequency||this._drawLinkTriangle(s,a,v)}},this._getLinkFrequency=(n,s)=>kv([n,s],this._freqs.links),this._getTriangleFrequency=(n,s,a)=>kv([n,s,a],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:s,options:a}=n;if(!s||s.length<=0)return;const l=s.filter(c=>a.links&&this._getLinkFrequency(n,c.destination)<=a.links.frequency);for(const c of l)this._drawTriangles(a,n,c,l),c.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,c)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:s}=e,{distance:a,width:l}=e.options.links;s.linksDistance=a*n,s.linksWidth=l*n}particleDestroyed(e){e.links=[]}}class QR{constructor(){this.id="links"}getPlugin(e){return new XR(e)}loadOptions(){}needsPlugin(){return!0}}async function ZR(t,e=!0){const n=new QR;await t.addPlugin(n,e)}async function WR(t,e=!0){await FR(t,e),await ZR(t,e)}class cw{draw(e,n,s){const a=this.getCenter(n,s),l=this.getSidesData(n,s),c=l.count.numerator*l.count.denominator,d=l.count.numerator/l.count.denominator,h=180*(d-2)/d,f=Math.PI-Math.PI*h/180;if(e){e.beginPath(),e.translate(a.x,a.y),e.moveTo(0,0);for(let g=0;g<c;g++)e.lineTo(l.length,0),e.translate(l.length,0),e.rotate(f)}}getSidesCount(e){const n=e.shapeData;return Math.round(me((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class JR extends cw{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const s=e.sides;return{count:{denominator:1,numerator:s},length:n*2.66/(s/3)}}}class eN extends cw{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function tN(t,e=!0){await t.addShape("polygon",new JR,e)}async function nN(t,e=!0){await t.addShape("triangle",new eN,e)}async function iN(t,e=!0){await tN(t,e),await nN(t,e)}class sN{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Se(e.speed)),e.decay!==void 0&&(this.decay=Se(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class rN extends ls{constructor(){super(),this.animation=new sN,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function aN(t,e){const n=t.rotate,s=t.options.rotate;if(!n||!s)return;const a=s.animation,l=(n.velocity??0)*e.factor,c=2*Math.PI,d=n.decay??1;if(a.enable){switch(n.status){case"increasing":n.value+=l,n.value>c&&(n.value-=c);break;case"decreasing":default:n.value-=l,n.value<0&&(n.value+=c);break}n.velocity&&d!==1&&(n.velocity*=d)}}class oN{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:me(n.value)*Math.PI/180},e.pathRotation=n.path;let s=n.direction;switch(s==="random"&&(s=Math.floor(Qe()*2)>0?"counter-clockwise":"clockwise"),s){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const a=n.animation;a.enable&&(e.rotate.decay=1-me(a.decay),e.rotate.velocity=me(a.speed)/360*this.container.retina.reduceFactor,a.sync||(e.rotate.velocity*=Qe())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new rN);for(const s of n)e.rotate.load(s==null?void 0:s.rotate)}update(e,n){var s;this.isEnabled(e)&&(aN(e,n),e.rotation=((s=e.rotate)==null?void 0:s.value)??0)}}async function lN(t,e=!0){await t.addParticleUpdater("rotate",n=>new oN(n),e)}const cN=Math.sqrt(2);class uN{draw(e,n,s){const a=s/cN,l=a*2;e.rect(-a,-a,l,l)}getSidesCount(){return 4}}async function dN(t,e=!0){await t.addShape(["edge","square"],new uN,e)}class hN{draw(e,n,s){const a=n.sides,l=n.starInset??2;e.moveTo(0,0-s);for(let c=0;c<a;c++)e.rotate(Math.PI/a),e.lineTo(0,0-s*l),e.rotate(Math.PI/a),e.lineTo(0,0-s)}getSidesCount(e){const n=e.shapeData;return Math.round(me((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const s=n.shapeData,a=me((s==null?void 0:s.inset)??2);n.starInset=a}}async function fN(t,e=!0){await t.addShape("star",new hN,e)}function zh(t,e,n,s,a){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const l=Qt(n.offset),c=(e.velocity??0)*t.factor+l*3.6,d=e.decay??1;!a||e.status==="increasing"?(e.value+=c,e.value>s&&(e.loops||(e.loops=0),e.loops++,a&&(e.status="decreasing",e.value-=e.value%s))):(e.value-=c,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&d!==1&&(e.velocity*=d),e.value>s&&(e.value%=s)}function mN(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s,l:a}=t.strokeColor,{h:l,s:c,l:d}=t.strokeAnimation;n&&zh(e,n,l,360,!1),s&&zh(e,s,c,100,!0),a&&zh(e,a,d,100,!0)}class pN{constructor(e){this.container=e}init(e){var c;const n=this.container,s=e.options,a=bi(s.stroke,e.id,s.reduceDuplicates);e.strokeWidth=me(a.width)*n.retina.pixelRatio,e.strokeOpacity=me(a.opacity??1),e.strokeAnimation=(c=a.color)==null?void 0:c.animation;const l=So(a.color)??e.getFillColor();l&&(e.strokeColor=Xx(l,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:s}=e;return!e.destroyed&&!e.spawning&&!!n&&((s==null?void 0:s.h.value)!==void 0&&s.h.enable||(s==null?void 0:s.s.value)!==void 0&&s.s.enable||(s==null?void 0:s.l.value)!==void 0&&s.l.enable)}update(e,n){this.isEnabled(e)&&mN(e,n)}}async function gN(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new pN(n),e)}const gc=["text","character","char"];class yN{draw(e,n,s,a){const l=n.shapeData;if(l===void 0)return;const c=l.value;if(c===void 0)return;n.text===void 0&&(n.text=bi(c,n.randomIndexData));const d=n.text,h=l.style??"",f=l.weight??"400",g=Math.round(s)*2,v=l.font??"Verdana",b=n.fill,x=d.length*s/2;e.font=`${h} ${f} ${g}px "${v}"`;const _={x:-x,y:s/2};e.globalAlpha=a,b?e.fillText(d,_.x,_.y):e.strokeText(d,_.x,_.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(gc.find(s=>ht(s,n.particles.shape.type))){const s=gc.map(l=>n.particles.shape.options[l]).find(l=>!!l),a=[];Tt(s,l=>{a.push(vC(l.font,l.weight))}),await Promise.all(a)}}particleInit(e,n){if(!n.shape||!gc.includes(n.shape))return;const s=n.shapeData;if(s===void 0)return;const a=s.value;a!==void 0&&(n.text=bi(a,n.randomIndexData))}}async function vN(t,e=!0){await t.addShape(gc,new yN,e)}async function uw(t,e=!0){Ik(t),await NR(t,!1),await jA(t,!1),await CA(t,!1),await NA(t,!1),await UA(t,!1),await FA(t,!1),await YA(t,!1),await QA(t,!1),await JA(t,!1),await iR(t,!1),await aR(t,!1),await DR(t,!1),await BR(t,!1),await WR(t,!1),await wA(),await _R(t,!1),await AR(t,!1),await iN(t,!1),await dN(t,!1),await fN(t,!1),await vN(t,!1),await CR(t,!1),await lN(t,!1),await gN(t,!1),await xA(t,e)}const bN=({density:t="low"})=>{const e=E.useCallback(async s=>{await uw(s)},[]),n=()=>{switch(t){case"low":return 40;case"medium":return 80;case"high":return 150;default:return 80}};return m.jsx(Qf,{id:"tsparticles",init:e,className:"absolute inset-0 z-0",options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:["#ffffff","#93c5fd","#60a5fa","#3b82f6","#0077cc","#0051a3"]},links:{color:"#60a5fa",distance:150,enable:!0,opacity:.2,width:1,triangles:{enable:!0,opacity:.05}},move:{enable:!0,random:!1,speed:.2,straight:!1,direction:"none",outModes:{default:"bounce"},attract:{enable:!0,rotateX:600,rotateY:1200},trail:{enable:!0,length:3,fillColor:"#f8fafc"}},number:{density:{enable:!0,area:800},value:n()},opacity:{value:{min:.1,max:.4},animation:{enable:!0,speed:.8,minimumValue:.1,sync:!1}},shape:{type:["circle","triangle","square"]},size:{value:{min:1,max:8},random:!0,animation:{enable:!0,speed:2,minimumValue:.5,sync:!1}}},shadow:{blur:5,color:{value:"#ffffff"},enable:!0,offset:{x:0,y:0}},detectRetina:!1}})},Zf=E.createContext({});function Wf(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Jf=typeof window<"u",dw=Jf?E.useLayoutEffect:E.useEffect,Ic=E.createContext(null),em=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xN extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wN({children:t,isPresent:e,anchorX:n}){const s=E.useId(),a=E.useRef(null),l=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=E.useContext(em);return E.useInsertionEffect(()=>{const{width:d,height:h,top:f,left:g,right:v}=l.current;if(e||!a.current||!d||!h)return;const b=n==="left"?`left: ${g}`:`right: ${v}`;a.current.dataset.motionPopId=s;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),m.jsx(xN,{isPresent:e,childRef:a,sizeRef:l,children:E.cloneElement(t,{ref:a})})}const _N=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d})=>{const h=Wf(SN),f=E.useId(),g=E.useCallback(b=>{h.set(b,!0);for(const x of h.values())if(!x)return;s&&s()},[h,s]),v=E.useMemo(()=>({id:f,initial:e,isPresent:n,custom:a,onExitComplete:g,register:b=>(h.set(b,!1),()=>h.delete(b))}),l?[Math.random(),g]:[n,g]);return E.useMemo(()=>{h.forEach((b,x)=>h.set(x,!1))},[n]),E.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(t=m.jsx(wN,{isPresent:n,anchorX:d,children:t})),m.jsx(Ic.Provider,{value:v,children:t})};function SN(){return new Map}function hw(t=!0){const e=E.useContext(Ic);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=E.useId();E.useEffect(()=>{if(t)return a(l)},[t]);const c=E.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const cc=t=>t.key||"";function Av(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const fw=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left"})=>{const[h,f]=hw(c),g=E.useMemo(()=>Av(t),[t]),v=c&&!h?[]:g.map(cc),b=E.useRef(!0),x=E.useRef(g),_=Wf(()=>new Map),[T,R]=E.useState(g),[k,U]=E.useState(g);dw(()=>{b.current=!1,x.current=g;for(let L=0;L<k.length;L++){const P=cc(k[L]);v.includes(P)?_.delete(P):_.get(P)!==!0&&_.set(P,!1)}},[k,v.length,v.join("-")]);const z=[];if(g!==T){let L=[...g];for(let P=0;P<k.length;P++){const I=k[P],C=cc(I);v.includes(C)||(L.splice(P,0,I),z.push(I))}return l==="wait"&&z.length&&(L=z),U(Av(L)),R(g),null}const{forceRender:A}=E.useContext(Zf);return m.jsx(m.Fragment,{children:k.map(L=>{const P=cc(L),I=c&&!h?!1:g===k||v.includes(P),C=()=>{if(_.has(P))_.set(P,!0);else return;let j=!0;_.forEach(N=>{N||(j=!1)}),j&&(A==null||A(),U(x.current),c&&(f==null||f()),s&&s())};return m.jsx(_N,{isPresent:I,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:I?void 0:C,anchorX:d,children:L},P)})})};function tm(t,e){t.indexOf(e)===-1&&t.push(e)}function nm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let mw=()=>{};const jN={useManualTiming:!1};function im(t){let e;return()=>(e===void 0&&(e=t()),e)}const En=t=>t,To=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class sm{constructor(){this.subscriptions=[]}add(e){return tm(this.subscriptions,e),()=>nm(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kn=t=>t*1e3,Xn=t=>t/1e3;function pw(t,e){return e?t*(1e3/e):0}const EN=im(()=>window.ScrollTimeline!==void 0);class TN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(EN()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CN extends TN{then(e,n){return this.finished.finally(e).then(()=>{})}}const Rv={value:null},rm=t=>Array.isArray(t)&&typeof t[0]=="number",kN={};function AN(t,e){const n=im(t);return()=>kN[e]??n()}const Co=AN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(l/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},lo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,hf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lo([0,.65,.55,1]),circOut:lo([.55,0,1,.45]),backIn:lo([.31,.01,.66,-.59]),backOut:lo([.33,1.53,.69,.99])};function yw(t,e){if(t)return typeof t=="function"&&Co()?gw(t,e):rm(t)?lo(t):Array.isArray(t)?t.map(n=>yw(n,e)||hf.easeOut):hf[t]}function RN(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={},f=void 0){const g={[e]:n};h&&(g.offset=h);const v=yw(d,a);return Array.isArray(v)&&(g.easing=v),t.animate(g,{delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:f})}function am(t){return typeof t=="function"&&"applyToOptions"in t}function om(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const kc=2e4;function lm(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<kc;)e+=n,s=t.next(e);return e>=kc?1/0:e}function NN(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(lm(s),kc);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Xn(a)}}function vw(t){return!!(typeof t=="function"&&Co()||!t||typeof t=="string"&&(t in hf||Co())||rm(t)||Array.isArray(t)&&t.every(vw))}function Nv(t,e){t.timeline=e,t.onfinish=null}const uc=["read","resolveKeyframes","update","preRender","render","postRender"];function MN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},h=0;function f(v){c.has(v)&&(g.schedule(v),t()),h++,v(d)}const g={schedule:(v,b=!1,x=!1)=>{const T=x&&a?n:s;return b&&c.add(v),T.has(v)||T.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),e&&Rv.value&&Rv.value.frameloop[e].push(h),h=0,n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const DN=40;function bw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=uc.reduce((k,U)=>(k[U]=MN(l,e?U:void 0),k),{}),{read:d,resolveKeyframes:h,update:f,preRender:g,render:v,postRender:b}=c,x=()=>{const k=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(k-a.timestamp,DN),1),a.timestamp=k,a.isProcessing=!0,d.process(a),h.process(a),f.process(a),g.process(a),v.process(a),b.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(x))},_=()=>{n=!0,s=!0,a.isProcessing||t(x)};return{schedule:uc.reduce((k,U)=>{const z=c[U];return k[U]=(A,L=!1,P=!1)=>(n||_(),z.schedule(A,L,P)),k},{}),cancel:k=>{for(let U=0;U<uc.length;U++)c[uc[U]].cancel(k)},state:a,steps:c}}const{schedule:Xe,cancel:ss,state:Nt,steps:Lh}=bw(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),{schedule:cm}=bw(queueMicrotask,!1);let yc;function ON(){yc=void 0}const Qn={now:()=>(yc===void 0&&Qn.set(Nt.isProcessing||jN.useManualTiming?Nt.timestamp:performance.now()),yc),set:t=>{yc=t,queueMicrotask(ON)}},Mn={x:!1,y:!1};function xw(){return Mn.x||Mn.y}function zN(t){return t==="x"||t==="y"?Mn[t]?null:(Mn[t]=!0,()=>{Mn[t]=!1}):Mn.x||Mn.y?null:(Mn.x=Mn.y=!0,()=>{Mn.x=Mn.y=!1})}function LN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function ww(t,e){const n=LN(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Mv(t){return!(t.pointerType==="touch"||xw())}function PN(t,e,n={}){const[s,a,l]=ww(t,n),c=d=>{if(!Mv(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const g=v=>{Mv(v)&&(f(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const _w=(t,e)=>e?t===e?!0:_w(t,e.parentElement):!1,um=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UN(t){return BN.has(t.tagName)||t.tabIndex!==-1}const co=new WeakSet;function Dv(t){return e=>{e.key==="Enter"&&t(e)}}function Ph(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VN=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Dv(()=>{if(co.has(n))return;Ph(n,"down");const a=Dv(()=>{Ph(n,"up")}),l=()=>Ph(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ov(t){return um(t)&&!xw()}function qN(t,e,n={}){const[s,a,l]=ww(t,n),c=d=>{const h=d.currentTarget;if(!Ov(d)||co.has(h))return;co.add(h);const f=e(h,d),g=(x,_)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!Ov(x)||!co.has(h))&&(co.delete(h),typeof f=="function"&&f(x,{success:_}))},v=x=>{g(x,h===window||h===document||n.useGlobalTarget||_w(h,x.target))},b=x=>{g(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",f=>VN(f,a)),!UN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}const zv=30,HN=t=>!isNaN(parseFloat(t));class $N{constructor(e,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Qn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sm);const s=this.events[e].add(n);return e==="change"?()=>{s(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return pw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ko(t,e){return new $N(t,e)}const Sw=E.createContext({strict:!1}),Lv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qr={};for(const t in Lv)Qr[t]={isEnabled:e=>Lv[t].some(n=>!!e[n])};function IN(t){for(const e in t)Qr[e]={...Qr[e],...t[e]}}const FN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ac(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FN.has(t)}let jw=t=>!Ac(t);function GN(t){t&&(jw=e=>e.startsWith("on")?!Ac(e):t(e))}try{GN(require("@emotion/is-prop-valid").default)}catch{}function YN(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(jw(a)||n===!0&&Ac(a)||!e&&!Ac(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function KN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Fc=E.createContext({});function Gc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ao(t){return typeof t=="string"||Array.isArray(t)}const dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hm=["initial",...dm];function Yc(t){return Gc(t.animate)||hm.some(e=>Ao(t[e]))}function Ew(t){return!!(Yc(t)||t.variants)}function XN(t,e){if(Yc(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ao(n)?n:void 0,animate:Ao(s)?s:void 0}}return t.inherit!==!1?e:{}}function QN(t){const{initial:e,animate:n}=XN(t,E.useContext(Fc));return E.useMemo(()=>({initial:e,animate:n}),[Pv(e),Pv(n)])}function Pv(t){return Array.isArray(t)?t.join(" "):t}const ZN=Symbol.for("motionComponentSymbol");function Vr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function WN(t,e,n){return E.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Vr(n)&&(n.current=s))},[e])}const fm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JN="framerAppearId",Tw="data-"+fm(JN),Cw=E.createContext({});function eM(t,e,n,s,a){var T,R;const{visualElement:l}=E.useContext(Fc),c=E.useContext(Sw),d=E.useContext(Ic),h=E.useContext(em).reducedMotion,f=E.useRef(null);s=s||c.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=f.current,v=E.useContext(Cw);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&tM(f.current,n,a,v);const b=E.useRef(!1);E.useInsertionEffect(()=>{g&&b.current&&g.update(n,d)});const x=n[Tw],_=E.useRef(!!x&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,x))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,x)));return dw(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),cm.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),E.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,x)}),_.current=!1))}),g}function tM(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kw(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Vr(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:f})}function kw(t){if(t)return t.options.allowProjection!==!1?t.projection:kw(t.parent)}function nM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&IN(t);function l(d,h){let f;const g={...E.useContext(em),...d,layoutId:iM(d)},{isStatic:v}=g,b=QN(d),x=s(d,v);if(!v&&Jf){sM();const _=rM(g);f=_.MeasureLayout,b.visualElement=eM(a,x,g,e,_.ProjectionNode)}return m.jsxs(Fc.Provider,{value:b,children:[f&&b.visualElement?m.jsx(f,{visualElement:b.visualElement,...g}):null,n(a,d,WN(x,b.visualElement,h),x,v,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=E.forwardRef(l);return c[ZN]=a,c}function iM({layoutId:t}){const e=E.useContext(Zf).id;return e&&t!==void 0?e+"-"+t:t}function sM(t,e){E.useContext(Sw).strict}function rM(t){const{drag:e,layout:n}=Qr;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Aw=t=>e=>typeof e=="string"&&e.startsWith(t),mm=Aw("--"),aM=Aw("var(--"),pm=t=>aM(t)?oM.test(t.split("/*")[0].trim()):!1,oM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ro={};function lM(t){for(const e in t)Ro[e]=t[e],mm(e)&&(Ro[e].isCSSVariable=!0)}const ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(ta);function Rw(t,{layout:e,layoutId:n}){return qs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ro[t]||t==="opacity")}const Pt=t=>!!(t&&t.getVelocity),Nw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_i=(t,e,n)=>n>e?e:n<t?t:n,na={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},No={...na,transform:t=>_i(0,1,t)},dc={...na,default:1},qo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=qo("deg"),Zn=qo("%"),ge=qo("px"),cM=qo("vh"),uM=qo("vw"),Bv={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},dM={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},hM={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:dc,scaleX:dc,scaleY:dc,scaleZ:dc,skew:Wi,skewX:Wi,skewY:Wi,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:No,originX:Bv,originY:Bv,originZ:ge},Uv={...na,transform:Math.round},gm={...dM,...hM,zIndex:Uv,size:ge,fillOpacity:No,strokeOpacity:No,numOctaves:Uv},fM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mM=ta.length;function pM(t,e,n){let s="",a=!0;for(let l=0;l<mM;l++){const c=ta[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=Nw(d,gm[c]);if(!h){a=!1;const g=fM[c]||c;s+=`${g}(${f}) `}n&&(e[c]=f)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function ym(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(qs.has(h)){c=!0;continue}else if(mm(h)){a[h]=f;continue}else{const g=Nw(f,gm[h]);h.startsWith("origin")?(d=!0,l[h]=g):s[h]=g}}if(e.transform||(c||n?s.transform=pM(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${f} ${g}`}}const vm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mw(t,e,n){for(const s in e)!Pt(e[s])&&!Rw(s,n)&&(t[s]=e[s])}function gM({transformTemplate:t},e){return E.useMemo(()=>{const n=vm();return ym(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yM(t,e){const n=t.style||{},s={};return Mw(s,n,t),Object.assign(s,gM(t,e)),s}function vM(t,e){const n={},s=yM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const bM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bm(t){return typeof t!="string"||t.includes("-")?!1:!!(bM.indexOf(t)>-1||/[A-Z]/u.test(t))}const xM={offset:"stroke-dashoffset",array:"stroke-dasharray"},wM={offset:"strokeDashoffset",array:"strokeDasharray"};function _M(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?xM:wM;t[l.offset]=ge.transform(-s);const c=ge.transform(e),d=ge.transform(n);t[l.array]=`${c} ${d}`}function Vv(t,e,n){return typeof t=="string"?t:ge.transform(e+n*t)}function SM(t,e,n){const s=Vv(e,t.x,t.width),a=Vv(n,t.y,t.height);return`${s} ${a}`}function xm(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...f},g,v){if(ym(t,f,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x,dimensions:_}=t;b.transform&&(_&&(x.transform=b.transform),delete b.transform),_&&(a!==void 0||l!==void 0||x.transform)&&(x.transformOrigin=SM(_,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),c!==void 0&&_M(b,c,d,h,!1)}const Dw=()=>({...vm(),attrs:{}}),wm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jM(t,e,n,s){const a=E.useMemo(()=>{const l=Dw();return xm(l,e,wm(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Mw(l,t.style,t),a.style={...l,...a.style}}return a}function EM(t=!1){return(n,s,a,{latestValues:l},c)=>{const h=(bm(n)?jM:vM)(s,l,c,n),f=YN(s,typeof n=="string",t),g=n!==E.Fragment?{...f,...h,ref:a}:{},{children:v}=s,b=E.useMemo(()=>Pt(v)?v.get():v,[v]);return E.createElement(n,{...g,children:b})}}function qv(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function _m(t,e,n,s){if(typeof e=="function"){const[a,l]=qv(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=qv(s);e=e(n!==void 0?n:t.custom,a,l)}return e}const ff=t=>Array.isArray(t),TM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CM=t=>ff(t)?t[t.length-1]||0:t;function vc(t){const e=Pt(t)?t.get():t;return TM(e)?e.toValue():e}function kM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,l){const c={latestValues:AM(s,a,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:s,current:d,...c}),c.onUpdate=d=>n(d)),c}const Ow=t=>(e,n)=>{const s=E.useContext(Fc),a=E.useContext(Ic),l=()=>kM(t,e,s,a);return n?l():Wf(l)};function AM(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=vc(l[b]);let{initial:c,animate:d}=t;const h=Yc(t),f=Ew(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!Gc(v)){const b=Array.isArray(v)?v:[v];for(let x=0;x<b.length;x++){const _=_m(t,b[x]);if(_){const{transitionEnd:T,transition:R,...k}=_;for(const U in k){let z=k[U];if(Array.isArray(z)){const A=g?z.length-1:0;z=z[A]}z!==null&&(a[U]=z)}for(const U in T)a[U]=T[U]}}}return a}function Sm(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Pt(s[c])||e.style&&Pt(e.style[c])||Rw(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const RM={useVisualState:Ow({scrapeMotionValuesFromProps:Sm,createRenderState:vm})};function zw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Lw(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const Pw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bw(t,e,n,s){Lw(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Pw.has(a)?a:fm(a),e.attrs[a])}function Uw(t,e,n){const s=Sm(t,e,n);for(const a in t)if(Pt(t[a])||Pt(e[a])){const l=ta.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const Hv=["x","y","width","height","cx","cy","r"],NM={useVisualState:Ow({scrapeMotionValuesFromProps:Uw,createRenderState:Dw,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in a)if(qs.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<Hv.length;d++){const h=Hv[d];t[h]!==e[h]&&(c=!0)}c&&Xe.read(()=>{zw(n,s),Xe.render(()=>{xm(s,a,wm(n.tagName),t.transformTemplate),Bw(n,s)})})}})};function MM(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...bm(s)?NM:RM,preloadedFeatures:t,useRender:EM(a),createVisualElement:e,Component:s};return nM(c)}}function Mo(t,e,n){const s=t.getProps();return _m(s,e,n!==void 0?n:s.custom,t)}const Vw=new Set(["width","height","top","left","right","bottom",...ta]);function DM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ko(n))}function OM(t,e){const n=Mo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=CM(l[c]);DM(t,c,d)}}function zM(t){return!!(Pt(t)&&t.add)}function mf(t,e){const n=t.getValue("willChange");if(zM(n))return n.add(e)}function qw(t){return t.props[Tw]}const Hw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LM=1e-7,PM=12;function BM(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=Hw(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>LM&&++d<PM);return c}function Ho(t,e,n,s){if(t===e&&n===s)return En;const a=l=>BM(l,0,1,t,n);return l=>l===0||l===1?l:Hw(a(l),e,s)}const $w=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Iw=t=>e=>1-t(1-e),Fw=Ho(.33,1.53,.69,.99),jm=Iw(Fw),Gw=$w(jm),Yw=t=>(t*=2)<1?.5*jm(t):.5*(2-Math.pow(2,-10*(t-1))),Em=t=>1-Math.sin(Math.acos(t)),Kw=Iw(Em),Xw=$w(Em),Qw=t=>/^0[^.\s]+$/u.test(t);function UM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Qw(t):!0}const go=t=>Math.round(t*1e5)/1e5,Tm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VM(t){return t==null}const qM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cm=(t,e)=>n=>!!(typeof n=="string"&&qM.test(n)&&n.startsWith(t)||e&&!VM(n)&&Object.prototype.hasOwnProperty.call(n,e)),Zw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Tm);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},HM=t=>_i(0,255,t),Bh={...na,transform:t=>Math.round(HM(t))},Os={test:Cm("rgb","red"),parse:Zw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Bh.transform(t)+", "+Bh.transform(e)+", "+Bh.transform(n)+", "+go(No.transform(s))+")"};function $M(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const pf={test:Cm("#"),parse:$M,transform:Os.transform},qr={test:Cm("hsl","hue"),parse:Zw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zn.transform(go(e))+", "+Zn.transform(go(n))+", "+go(No.transform(s))+")"},Lt={test:t=>Os.test(t)||pf.test(t)||qr.test(t),parse:t=>Os.test(t)?Os.parse(t):qr.test(t)?qr.parse(t):pf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Os.transform(t):qr.transform(t)},IM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Tm))==null?void 0:e.length)||0)+(((n=t.match(IM))==null?void 0:n.length)||0)>0}const Ww="number",Jw="color",GM="var",YM="var(",$v="${}",KM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Do(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(KM,h=>(Lt.test(h)?(s.color.push(l),a.push(Jw),n.push(Lt.parse(h))):h.startsWith(YM)?(s.var.push(l),a.push(GM),n.push(h)):(s.number.push(l),a.push(Ww),n.push(parseFloat(h))),++l,$v)).split($v);return{values:n,split:d,indexes:s,types:a}}function e1(t){return Do(t).values}function t1(t){const{split:e,types:n}=Do(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===Ww?l+=go(a[c]):d===Jw?l+=Lt.transform(a[c]):l+=a[c]}return l}}const XM=t=>typeof t=="number"?0:t;function QM(t){const e=e1(t);return t1(t)(e.map(XM))}const rs={test:FM,parse:e1,createTransformer:t1,getAnimatableNone:QM},ZM=new Set(["brightness","contrast","saturate","opacity"]);function WM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Tm)||[];if(!s)return t;const a=n.replace(s,"");let l=ZM.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const JM=/\b([a-z-]*)\(.*?\)/gu,gf={...rs,getAnimatableNone:t=>{const e=t.match(JM);return e?e.map(WM).join(" "):t}},eD={...gm,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:gf,WebkitFilter:gf},n1=t=>eD[t];function i1(t,e){let n=n1(t);return n!==gf&&(n=rs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tD=new Set(["auto","none","0"]);function nD(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!tD.has(l)&&Do(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=i1(n,a)}const zs=t=>t*180/Math.PI,yf=t=>{const e=zs(Math.atan2(t[1],t[0]));return vf(e)},iD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yf,rotateZ:yf,skewX:t=>zs(Math.atan(t[1])),skewY:t=>zs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vf=t=>(t=t%360,t<0&&(t+=360),t),Iv=yf,Fv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Gv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fv,scaleY:Gv,scale:t=>(Fv(t)+Gv(t))/2,rotateX:t=>vf(zs(Math.atan2(t[6],t[5]))),rotateY:t=>vf(zs(Math.atan2(-t[2],t[0]))),rotateZ:Iv,rotate:Iv,skewX:t=>zs(Math.atan(t[4])),skewY:t=>zs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yv(t){return t.includes("scale")?1:0}function bf(t,e){if(!t||t==="none")return Yv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=sD,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=iD,a=d}if(!a)return Yv(e);const l=s[e],c=a[1].split(",").map(aD);return typeof l=="function"?l(c):c[l]}const rD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bf(n,e)};function aD(t){return parseFloat(t.trim())}const Kv=t=>t===na||t===ge,oD=new Set(["x","y","z"]),lD=ta.filter(t=>!oD.has(t));function cD(t){const e=[];return lD.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Zr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bf(e,"x"),y:(t,{transform:e})=>bf(e,"y")};Zr.translateX=Zr.x;Zr.translateY=Zr.y;const Ls=new Set;let xf=!1,wf=!1;function s1(){if(wf){const t=Array.from(Ls).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=cD(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}wf=!1,xf=!1,Ls.forEach(t=>t.complete()),Ls.clear()}function r1(){Ls.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wf=!0)})}function uD(){r1(),s1()}class km{constructor(e,n,s,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ls.add(this),xf||(xf=!0,Xe.read(r1),Xe.resolveKeyframes(s1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const h=s.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ls.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ls.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const a1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),dD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hD(t){const e=dD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function o1(t,e,n=1){const[s,a]=hD(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return a1(c)?parseFloat(c):c}return pm(a)?o1(a,e,n+1):a}const l1=t=>e=>e.test(t),fD={test:t=>t==="auto",parse:t=>t},c1=[na,ge,Zn,Wi,uM,cM,fD],Xv=t=>c1.find(l1(t));class u1 extends km{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),pm(f))){const g=o1(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Vw.has(s)||e.length!==2)return;const[a,l]=e,c=Xv(a),d=Xv(l);if(c!==d)if(Kv(c)&&Kv(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)UM(e[a])&&s.push(a);s.length&&nD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Zr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const Qv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rs.test(t)||t==="0")&&!t.startsWith("url("));function mD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pD(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Qv(a,e),d=Qv(l,e);return!c||!d?!1:mD(t)||(n==="spring"||am(n))&&s}const gD=t=>t!==null;function Kc(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(gD),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const yD=40;class d1{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qn.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Qn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:f}=this.options;if(!f&&!pD(e,s,a,l))if(c)this.options.duration=0;else{h&&h(Kc(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nt=(t,e,n)=>t+(e-t)*n;function Uh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vD({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;a=Uh(h,d,t+1/3),l=Uh(h,d,t),c=Uh(h,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Rc(t,e){return n=>n>0?e:t}const Vh=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},bD=[pf,Os,qr],xD=t=>bD.find(e=>e.test(t));function Zv(t){const e=xD(t);if(!e)return!1;let n=e.parse(t);return e===qr&&(n=vD(n)),n}const Wv=(t,e)=>{const n=Zv(t),s=Zv(e);if(!n||!s)return Rc(t,e);const a={...n};return l=>(a.red=Vh(n.red,s.red,l),a.green=Vh(n.green,s.green,l),a.blue=Vh(n.blue,s.blue,l),a.alpha=nt(n.alpha,s.alpha,l),Os.transform(a))},wD=(t,e)=>n=>e(t(n)),$o=(...t)=>t.reduce(wD),_f=new Set(["none","hidden"]);function _D(t,e){return _f.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SD(t,e){return n=>nt(t,e,n)}function Am(t){return typeof t=="number"?SD:typeof t=="string"?pm(t)?Rc:Lt.test(t)?Wv:TD:Array.isArray(t)?h1:typeof t=="object"?Lt.test(t)?Wv:jD:Rc}function h1(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Am(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function jD(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Am(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function ED(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const TD=(t,e)=>{const n=rs.createTransformer(e),s=Do(t),a=Do(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?_f.has(t)&&!a.values.length||_f.has(e)&&!s.values.length?_D(t,e):$o(h1(ED(s,a),a.values),n):Rc(t,e)};function f1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):Am(t)(t,e)}const CD=5;function m1(t,e,n){const s=Math.max(e-CD,0);return pw(n-t(s),e-s)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jv=.001;function kD({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:s=ot.mass}){let a,l,c=1-e;c=_i(ot.minDamping,ot.maxDamping,c),t=_i(ot.minDuration,ot.maxDuration,Xn(t)),c<1?(a=f=>{const g=f*c,v=g*t,b=g-n,x=Sf(f,c),_=Math.exp(-v);return Jv-b/x*_},l=f=>{const v=f*c*t,b=v*n+n,x=Math.pow(c,2)*Math.pow(f,2)*t,_=Math.exp(-v),T=Sf(Math.pow(f,2),c);return(-a(f)+Jv>0?-1:1)*((b-x)*_)/T}):(a=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-.001+g*v},l=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const d=5/t,h=RD(a,l,d);if(t=Kn(t),isNaN(h))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:t}}}const AD=12;function RD(t,e,n){let s=n;for(let a=1;a<AD;a++)s=s-t(s)/e(s);return s}function Sf(t,e){return t*Math.sqrt(1-e*e)}const ND=["duration","bounce"],MD=["stiffness","damping","mass"];function eb(t,e){return e.some(n=>t[n]!==void 0)}function DD(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!eb(t,MD)&&eb(t,ND))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*_i(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ot.mass,stiffness:a,damping:l}}else{const n=kD(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function Nc(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:g,duration:v,velocity:b,isResolvedFromDuration:x}=DD({...n,velocity:-Xn(n.velocity||0)}),_=b||0,T=f/(2*Math.sqrt(h*g)),R=c-l,k=Xn(Math.sqrt(h/g)),U=Math.abs(R)<5;s||(s=U?ot.restSpeed.granular:ot.restSpeed.default),a||(a=U?ot.restDelta.granular:ot.restDelta.default);let z;if(T<1){const L=Sf(k,T);z=P=>{const I=Math.exp(-T*k*P);return c-I*((_+T*k*R)/L*Math.sin(L*P)+R*Math.cos(L*P))}}else if(T===1)z=L=>c-Math.exp(-k*L)*(R+(_+k*R)*L);else{const L=k*Math.sqrt(T*T-1);z=P=>{const I=Math.exp(-T*k*P),C=Math.min(L*P,300);return c-I*((_+T*k*R)*Math.sinh(C)+L*R*Math.cosh(C))/L}}const A={calculatedDuration:x&&v||null,next:L=>{const P=z(L);if(x)d.done=L>=v;else{let I=0;T<1&&(I=L===0?Kn(_):m1(z,L,P));const C=Math.abs(I)<=s,j=Math.abs(c-P)<=a;d.done=C&&j}return d.value=d.done?c:P,d},toString:()=>{const L=Math.min(lm(A),kc),P=gw(I=>A.next(L*I).value,L,30);return L+"ms "+P},toTransition:()=>{}};return A}Nc.applyToOptions=t=>{const e=NN(t,100,Nc);return t.ease=Co()?e.ease:"easeOut",t.duration=Kn(e.duration),t.type="keyframes",t};function tb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:g}){const v=t[0],b={done:!1,value:v},x=C=>d!==void 0&&C<d||h!==void 0&&C>h,_=C=>d===void 0?h:h===void 0||Math.abs(d-C)<Math.abs(h-C)?d:h;let T=n*e;const R=v+T,k=c===void 0?R:c(R);k!==R&&(T=k-v);const U=C=>-T*Math.exp(-C/s),z=C=>k+U(C),A=C=>{const j=U(C),N=z(C);b.done=Math.abs(j)<=f,b.value=b.done?k:N};let L,P;const I=C=>{x(b.value)&&(L=C,P=Nc({keyframes:[b.value,_(b.value)],velocity:m1(z,C,b.value),damping:a,stiffness:l,restDelta:f,restSpeed:g}))};return I(0),{calculatedDuration:null,next:C=>{let j=!1;return!P&&L===void 0&&(j=!0,A(C),I(C)),L!==void 0&&C>=L?P.next(C-L):(!j&&A(C),b)}}}const OD=Ho(.42,0,1,1),zD=Ho(0,0,.58,1),p1=Ho(.42,0,.58,1),LD=t=>Array.isArray(t)&&typeof t[0]!="number",PD={linear:En,easeIn:OD,easeInOut:p1,easeOut:zD,circIn:Em,circInOut:Xw,circOut:Kw,backIn:jm,backInOut:Gw,backOut:Fw,anticipate:Yw},nb=t=>{if(rm(t)){mw(t.length===4);const[e,n,s,a]=t;return Ho(e,n,s,a)}else if(typeof t=="string")return PD[t];return t};function BD(t,e,n){const s=[],a=n||f1,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||En:e;d=$o(h,d)}s.push(d)}return s}function UD(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(mw(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=BD(e,s,a),h=d.length,f=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const b=To(t[v],t[v+1],g);return d[v](b)};return n?g=>f(_i(t[0],t[l-1],g)):f}function VD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=To(0,e,s);t.push(nt(n,1,a))}}function qD(t){const e=[0];return VD(e,t.length-1),e}function HD(t,e){return t.map(n=>n*e)}function $D(t,e){return t.map(()=>e||p1).splice(0,t.length-1)}function Mc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=LD(s)?s.map(nb):nb(s),l={done:!1,value:e[0]},c=HD(n&&n.length===e.length?n:qD(e),t),d=UD(c,e,{ease:Array.isArray(a)?a:$D(e,a)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const ID=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xe.update(e,!0),stop:()=>ss(e),now:()=>Nt.isProcessing?Nt.timestamp:Qn.now()}},FD={decay:tb,inertia:tb,tween:Mc,keyframes:Mc,spring:Nc},GD=t=>t/100;class Rm extends d1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||km,d=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new c(l,d,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=am(n)?n:FD[n]||Mc;let h,f;d!==Mc&&typeof e[0]!="number"&&(h=$o(GD,f1(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(f=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=lm(g));const{calculatedDuration:v}=g,b=v+a,x=b*(s+1)-a;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:b,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:v}=s;if(this.startTime===null)return l.next(0);const{delay:b,repeat:x,repeatType:_,repeatDelay:T,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-b*(this.speed>=0?1:-1),U=this.speed>=0?k<0:k>g;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let z=this.currentTime,A=l;if(x){const C=Math.min(this.currentTime,g)/v;let j=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&j--,j=Math.min(j,x+1),!!(j%2)&&(_==="reverse"?(N=1-N,T&&(N-=T/v)):_==="mirror"&&(A=c)),z=_i(0,1,N)*v}const L=U?{done:!1,value:h[0]}:A.next(z);d&&(L.value=d(L.value));let{done:P}=L;!U&&f!==null&&(P=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return I&&a!==void 0&&(L.value=Kc(h,this.options,a)),R&&R(L.value),I&&this.finish(),L}get duration(){const{resolved:e}=this;return e?Xn(e.calculatedDuration):0}get time(){return Xn(this.currentTime)}set time(e){e=Kn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ID,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const YD=new Set(["opacity","clipPath","filter","transform"]),KD=im(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dc=10,XD=2e4;function QD(t){return am(t.type)||t.type==="spring"||!vw(t.ease)}function ZD(t,e){const n=new Rm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let l=0;for(;!s.done&&l<XD;)s=n.sample(l),a.push(s.value),l+=Dc;return{times:void 0,keyframes:a,duration:l-Dc,ease:"linear"}}const g1={anticipate:Yw,backInOut:Gw,circInOut:Xw};function WD(t){return t in g1}class ib extends d1{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new u1(l,(c,d)=>this.onKeyframesResolved(c,d),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:l,type:c,motionValue:d,name:h,startTime:f}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Co()&&WD(l)&&(l=g1[l]),QD(this.options)){const{onComplete:v,onUpdate:b,motionValue:x,element:_,...T}=this.options,R=ZD(e,T);e=R.keyframes,e.length===1&&(e[1]=e[0]),s=R.duration,a=R.times,l=R.ease,c="keyframes"}const g=RN(d.owner.current,h,e,{...this.options,duration:s,times:a,ease:l});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(Nv(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(Kc(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Xn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Xn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Kn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return En;const{animation:s}=n;Nv(s,e)}return En}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:v,element:b,...x}=this.options,_=new Rm({...x,keyframes:s,duration:a,type:l,ease:c,times:d,isGenerator:!0}),T=Kn(this.time);f.setWithVelocity(_.sample(T-Dc).value,_.sample(T).value,Dc)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return KD()&&s&&YD.has(s)&&(s!=="transform"||!f)&&!h&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const JD={type:"spring",stiffness:500,damping:25,restSpeed:10},eO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tO={type:"keyframes",duration:.8},nO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iO=(t,{keyframes:e})=>e.length>2?tO:qs.has(t)?t.startsWith("scale")?eO(e[1]):JD:nO;function sO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const Nm=(t,e,n,s={},a,l)=>c=>{const d=om(s,t)||{},h=d.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Kn(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};sO(d)||(g={...g,...iO(t,g)}),g.duration&&(g.duration=Kn(g.duration)),g.repeatDelay&&(g.repeatDelay=Kn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),g.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const b=Kc(g.keyframes,d);if(b!==void 0)return Xe.update(()=>{g.onUpdate(b),g.onComplete()}),new CN([])}return!l&&ib.supports(g)?new ib(g):new Rm(g)};function rO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function y1(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const h=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),b=d[g];if(b===void 0||f&&rO(f,g))continue;const x={delay:n,...om(l||{},g)};let _=!1;if(window.MotionHandoffAnimation){const R=qw(t);if(R){const k=window.MotionHandoffAnimation(R,g,Xe);k!==null&&(x.startTime=k,_=!0)}}mf(t,g),v.start(Nm(g,v,b,t.shouldReduceMotion&&Vw.has(g)?{type:!1}:x,t,_));const T=v.animation;T&&h.push(T)}return c&&Promise.all(h).then(()=>{Xe.update(()=>{c&&OM(t,c)})}),h}function jf(t,e,n={}){var h;const s=Mo(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(y1(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=a;return aO(t,e,g+f,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,g]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function aO(t,e,n=0,s=0,a=1,l){const c=[],d=(t.variantChildren.size-1)*s,h=a===1?(f=0)=>f*s:(f=0)=>d-f*s;return Array.from(t.variantChildren).sort(oO).forEach((f,g)=>{f.notify("AnimationStart",e),c.push(jf(f,e,{...l,delay:n+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(c)}function oO(t,e){return t.sortNodePosition(e)}function lO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>jf(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=jf(t,e,n);else{const a=typeof e=="function"?Mo(t,e,n.custom):e;s=Promise.all(y1(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function v1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const cO=hm.length;function b1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?b1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cO;n++){const s=hm[n],a=t.props[s];(Ao(a)||a===!1)&&(e[s]=a)}return e}const uO=[...dm].reverse(),dO=dm.length;function hO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>lO(t,n,s)))}function fO(t){let e=hO(t),n=sb(),s=!0;const a=h=>(f,g)=>{var b;const v=Mo(t,g,h==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:x,transitionEnd:_,...T}=v;f={...f,...T,..._}}return f};function l(h){e=h(t)}function c(h){const{props:f}=t,g=b1(t.parent)||{},v=[],b=new Set;let x={},_=1/0;for(let R=0;R<dO;R++){const k=uO[R],U=n[k],z=f[k]!==void 0?f[k]:g[k],A=Ao(z),L=k===h?U.isActive:null;L===!1&&(_=R);let P=z===g[k]&&z!==f[k]&&A;if(P&&s&&t.manuallyAnimateOnMount&&(P=!1),U.protectedKeys={...x},!U.isActive&&L===null||!z&&!U.prevProp||Gc(z)||typeof z=="boolean")continue;const I=mO(U.prevProp,z);let C=I||k===h&&U.isActive&&!P&&A||R>_&&A,j=!1;const N=Array.isArray(z)?z:[z];let D=N.reduce(a(k),{});L===!1&&(D={});const{prevResolvedValues:V={}}=U,te={...V,...D},se=X=>{C=!0,b.has(X)&&(j=!0,b.delete(X)),U.needsAnimating[X]=!0;const ne=t.getValue(X);ne&&(ne.liveStyle=!1)};for(const X in te){const ne=D[X],ie=V[X];if(x.hasOwnProperty(X))continue;let M=!1;ff(ne)&&ff(ie)?M=!v1(ne,ie):M=ne!==ie,M?ne!=null?se(X):b.add(X):ne!==void 0&&b.has(X)?se(X):U.protectedKeys[X]=!0}U.prevProp=z,U.prevResolvedValues=D,U.isActive&&(x={...x,...D}),s&&t.blockInitialAnimation&&(C=!1),C&&(!(P&&I)||j)&&v.push(...N.map(X=>({animation:X,options:{type:k}})))}if(b.size){const R={};if(typeof f.initial!="boolean"){const k=Mo(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(R.transition=k.transition)}b.forEach(k=>{const U=t.getBaseTarget(k),z=t.getValue(k);z&&(z.liveStyle=!0),R[k]=U??null}),v.push({animation:R})}let T=!!v.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),s=!1,T?e(v):Promise.resolve()}function d(h,f){var v;if(n[h].isActive===f)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(h,f)}),n[h].isActive=f;const g=c(h);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=sb(),s=!0}}}function mO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!v1(e,t):!1}function Rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sb(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pO extends cs{constructor(e){super(e),e.animationState||(e.animationState=fO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gO=0;class yO extends cs{constructor(){super(...arguments),this.id=gO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vO={animation:{Feature:pO},exit:{Feature:yO}};function Oo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Io(t){return{point:{x:t.pageX,y:t.pageY}}}const bO=t=>e=>um(e)&&t(e,Io(e));function yo(t,e,n,s){return Oo(t,e,bO(n),s)}function x1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function xO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const w1=1e-4,_O=1-w1,SO=1+w1,_1=.01,jO=0-_1,EO=0+_1;function Ht(t){return t.max-t.min}function TO(t,e,n){return Math.abs(t-e)<=n}function rb(t,e,n,s=.5){t.origin=s,t.originPoint=nt(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_O&&t.scale<=SO||isNaN(t.scale))&&(t.scale=1),(t.translate>=jO&&t.translate<=EO||isNaN(t.translate))&&(t.translate=0)}function vo(t,e,n,s){rb(t.x,e.x,n.x,s?s.originX:void 0),rb(t.y,e.y,n.y,s?s.originY:void 0)}function ab(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function CO(t,e,n){ab(t.x,e.x,n.x),ab(t.y,e.y,n.y)}function ob(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function bo(t,e,n){ob(t.x,e.x,n.x),ob(t.y,e.y,n.y)}const lb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hr=()=>({x:lb(),y:lb()}),cb=()=>({min:0,max:0}),ut=()=>({x:cb(),y:cb()});function jn(t){return[t("x"),t("y")]}function qh(t){return t===void 0||t===1}function Ef({scale:t,scaleX:e,scaleY:n}){return!qh(t)||!qh(e)||!qh(n)}function Ms(t){return Ef(t)||S1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S1(t){return ub(t.x)||ub(t.y)}function ub(t){return t&&t!=="0%"}function Oc(t,e,n){const s=t-n,a=e*s;return n+a}function db(t,e,n,s,a){return a!==void 0&&(t=Oc(t,a,s)),Oc(t,n,s)+e}function Tf(t,e=0,n=1,s,a){t.min=db(t.min,e,n,s,a),t.max=db(t.max,e,n,s,a)}function j1(t,{x:e,y:n}){Tf(t.x,e.translate,e.scale,e.originPoint),Tf(t.y,n.translate,n.scale,n.originPoint)}const hb=.999999999999,fb=1.0000000000001;function kO(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ir(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,j1(t,c)),s&&Ms(l.latestValues)&&Ir(t,l.latestValues))}e.x<fb&&e.x>hb&&(e.x=1),e.y<fb&&e.y>hb&&(e.y=1)}function $r(t,e){t.min=t.min+e,t.max=t.max+e}function mb(t,e,n,s,a=.5){const l=nt(t.min,t.max,a);Tf(t,e,n,l,s)}function Ir(t,e){mb(t.x,e.x,e.scaleX,e.scale,e.originX),mb(t.y,e.y,e.scaleY,e.scale,e.originY)}function E1(t,e){return x1(wO(t.getBoundingClientRect(),e))}function AO(t,e,n){const s=E1(t,n),{scroll:a}=e;return a&&($r(s.x,a.offset.x),$r(s.y,a.offset.y)),s}const T1=({current:t})=>t?t.ownerDocument.defaultView:null,pb=(t,e)=>Math.abs(t-e);function RO(t,e){const n=pb(t.x,e.x),s=pb(t.y,e.y);return Math.sqrt(n**2+s**2)}class C1{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$h(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=RO(v.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:_}=v,{timestamp:T}=Nt;this.history.push({..._,timestamp:T});const{onStart:R,onMove:k}=this.handlers;b||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Hh(b,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=$h(v.type==="pointercancel"?this.lastMoveEventInfo:Hh(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,R),_&&_(v,R)},!um(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=Io(e),d=Hh(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=Nt;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=n;g&&g(e,$h(d,this.history)),this.removeListeners=$o(yo(this.contextWindow,"pointermove",this.handlePointerMove),yo(this.contextWindow,"pointerup",this.handlePointerUp),yo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function Hh(t,e){return e?{point:e(t.point)}:t}function gb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $h({point:t},e){return{point:t,delta:gb(t,k1(e)),offset:gb(t,NO(e)),velocity:MO(e,.1)}}function NO(t){return t[0]}function k1(t){return t[t.length-1]}function MO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=k1(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Kn(e)));)n--;if(!s)return{x:0,y:0};const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function DO(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?nt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?nt(n,t,s.max):Math.min(t,n)),t}function yb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OO(t,{top:e,left:n,bottom:s,right:a}){return{x:yb(t.x,n,a),y:yb(t.y,e,s)}}function vb(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function zO(t,e){return{x:vb(t.x,e.x),y:vb(t.y,e.y)}}function LO(t,e){let n=.5;const s=Ht(t),a=Ht(e);return a>s?n=To(e.min,e.max-s,t.min):s>a&&(n=To(t.min,t.max-a,e.min)),_i(0,1,n)}function PO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cf=.35;function BO(t=Cf){return t===!1?t=0:t===!0&&(t=Cf),{x:bb(t,"left","right"),y:bb(t,"top","bottom")}}function bb(t,e,n){return{min:xb(t,e),max:xb(t,n)}}function xb(t,e){return typeof t=="number"?t:t[e]||0}const UO=new WeakMap;class VO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Io(g).point)},l=(g,v)=>{const{drag:b,dragPropagation:x,onDragStart:_}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zN(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(R=>{let k=this.getAxisMotionValue(R).get()||0;if(Zn.test(k)){const{projection:U}=this.visualElement;if(U&&U.layout){const z=U.layout.layoutBox[R];z&&(k=Ht(z)*(parseFloat(k)/100))}}this.originPoint[R]=k}),_&&Xe.postRender(()=>_(g,v)),mf(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:_,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=v;if(x&&this.currentDirection===null){this.currentDirection=qO(R),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),T&&T(g,v)},d=(g,v)=>this.stop(g,v),h=()=>jn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new C1(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:T1(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Xe.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!hc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=DO(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Vr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=OO(s.layoutBox,e):this.constraints=!1,this.elastic=BO(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=PO(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=AO(s,a.root,this.visualElement.getTransformPagePoint());let c=zO(a.layout.layoutBox,l);if(n){const d=n(xO(c));this.hasMutatedConstraints=!!d,d&&(c=x1(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=jn(g=>{if(!hc(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,_={type:"inertia",velocity:s?e[g]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,_)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return mf(this.visualElement,e),s.start(Nm(e,s,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:s}=this.getProps();if(!hc(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-nt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Vr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=LO({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),jn(c=>{if(!hc(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(nt(h,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;UO.set(this.visualElement,this);const e=this.visualElement.current,n=yo(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Vr(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Xe.read(s);const c=Oo(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(jn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Cf,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function hc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HO extends cs{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new VO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const wb=t=>(e,n)=>{t&&Xe.postRender(()=>t(e,n))};class $O extends cs{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new C1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:wb(e),onStart:wb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Xe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _b(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=_b(t,e.target.x),s=_b(t,e.target.y);return`${n}% ${s}%`}},IO={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=rs.parse(t);if(a.length>5)return s;const l=rs.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=h;const f=nt(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),l(a)}};class FO extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;lM(GO),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Xe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A1(t){const[e,n]=hw(),s=E.useContext(Zf);return m.jsx(FO,{...t,layoutGroup:s,switchLayoutGroup:E.useContext(Cw),isPresent:e,safeToRemove:n})}const GO={borderRadius:{...ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ro,borderTopRightRadius:ro,borderBottomLeftRadius:ro,borderBottomRightRadius:ro,boxShadow:IO};function YO(t,e,n){const s=Pt(t)?t:ko(t);return s.start(Nm("",s,e,n)),s.animation}function KO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const XO=(t,e)=>t.depth-e.depth;class QO{constructor(){this.children=[],this.isDirty=!1}add(e){tm(this.children,e),this.isDirty=!0}remove(e){nm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XO),this.isDirty=!1,this.children.forEach(e)}}function ZO(t,e){const n=Qn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ss(s),t(l-e))};return Xe.read(s,!0),()=>ss(s)}const R1=["TopLeft","TopRight","BottomLeft","BottomRight"],WO=R1.length,Sb=t=>typeof t=="string"?parseFloat(t):t,jb=t=>typeof t=="number"||ge.test(t);function JO(t,e,n,s,a,l){a?(t.opacity=nt(0,n.opacity!==void 0?n.opacity:1,e3(s)),t.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,t3(s))):l&&(t.opacity=nt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<WO;c++){const d=`border${R1[c]}Radius`;let h=Eb(e,d),f=Eb(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||jb(h)===jb(f)?(t[d]=Math.max(nt(Sb(h),Sb(f),s),0),(Zn.test(f)||Zn.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,s))}function Eb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e3=N1(0,.5,Kw),t3=N1(.5,.95,En);function N1(t,e,n){return s=>s<t?0:s>e?1:n(To(t,e,s))}function Tb(t,e){t.min=e.min,t.max=e.max}function Sn(t,e){Tb(t.x,e.x),Tb(t.y,e.y)}function Cb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kb(t,e,n,s,a){return t-=e,t=Oc(t,1/n,s),a!==void 0&&(t=Oc(t,1/a,s)),t}function n3(t,e=0,n=1,s=.5,a,l=t,c=t){if(Zn.test(e)&&(e=parseFloat(e),e=nt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=nt(l.min,l.max,s);t===l&&(d-=e),t.min=kb(t.min,e,n,d,a),t.max=kb(t.max,e,n,d,a)}function Ab(t,e,[n,s,a],l,c){n3(t,e[n],e[s],e[a],e.scale,l,c)}const i3=["x","scaleX","originX"],s3=["y","scaleY","originY"];function Rb(t,e,n,s){Ab(t.x,e,i3,n?n.x:void 0,s?s.x:void 0),Ab(t.y,e,s3,n?n.y:void 0,s?s.y:void 0)}function Nb(t){return t.translate===0&&t.scale===1}function M1(t){return Nb(t.x)&&Nb(t.y)}function Mb(t,e){return t.min===e.min&&t.max===e.max}function r3(t,e){return Mb(t.x,e.x)&&Mb(t.y,e.y)}function Db(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function D1(t,e){return Db(t.x,e.x)&&Db(t.y,e.y)}function Ob(t){return Ht(t.x)/Ht(t.y)}function zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class a3{constructor(){this.members=[]}add(e){tm(this.members,e),e.scheduleRender()}remove(e){if(nm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o3(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:b,skewX:x,skewY:_}=n;f&&(s=`perspective(${f}px) ${s}`),g&&(s+=`rotate(${g}deg) `),v&&(s+=`rotateX(${v}deg) `),b&&(s+=`rotateY(${b}deg) `),x&&(s+=`skewX(${x}deg) `),_&&(s+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const Ih=["","X","Y","Z"],l3={visibility:"hidden"},Lb=1e3;let c3=0;function Fh(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function O1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&O1(s)}function z1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=c3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(h3),this.nodes.forEach(y3),this.nodes.forEach(v3),this.nodes.forEach(f3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new QO)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sm),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KO(c),this.instance=c;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(f||h)&&(this.isLayoutDirty=!0),t){let v;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=ZO(b,250),bc.hasAnimatedSinceResize&&(bc.hasAnimatedSinceResize=!1,this.nodes.forEach(Bb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||g.getDefaultTransition()||S3,{onLayoutAnimationStart:R,onLayoutAnimationComplete:k}=g.getProps(),U=!this.targetLayout||!D1(this.targetLayout,_),z=!b&&x;if(this.options.layoutRoot||this.resumeFrom||z||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,z);const A={...om(T,"layout"),onPlay:R,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else b||Bb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pb);return}this.isUpdating||this.nodes.forEach(p3),this.isUpdating=!1,this.nodes.forEach(g3),this.nodes.forEach(u3),this.nodes.forEach(d3),this.clearAllSnapshots();const d=Qn.now();Nt.delta=_i(0,1e3/60,d-Nt.timestamp),Nt.timestamp=d,Nt.isProcessing=!0,Lh.update.process(Nt),Lh.preRender.process(Nt),Lh.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m3),this.sharedNodes.forEach(x3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!M1(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&(d||Ms(this.latestValues)||g)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),j3(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return ut();const d=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(E3))){const{scroll:g}=this.root;g&&($r(d.x,g.offset.x),$r(d.y,g.offset.y))}return d}removeElementScroll(c){var h;const d=ut();if(Sn(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Sn(d,c),$r(d.x,v.offset.x),$r(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const h=ut();Sn(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ir(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ms(g.latestValues)&&Ir(h,g.latestValues)}return Ms(this.latestValues)&&Ir(h,this.latestValues),h}removeTransform(c){const d=ut();Sn(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Ms(f.latestValues))continue;Ef(f.latestValues)&&f.updateSnapshot();const g=ut(),v=f.measurePageBox();Sn(g,v),Rb(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Ms(this.latestValues)&&Rb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),bo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),j1(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),bo(this.relativeTargetOrigin,this.target,x.target),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ef(this.parent.latestValues)||S1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Sn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;kO(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ut());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cb(this.prevProjectionDelta.x,this.projectionDelta.x),Cb(this.prevProjectionDelta.y,this.projectionDelta.y)),vo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hr(),this.projectionDelta=Hr(),this.projectionDeltaWithTransform=Hr()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=Hr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ut(),x=h?h.source:void 0,_=this.layout?this.layout.source:void 0,T=x!==_,R=this.getStack(),k=!R||R.members.length<=1,U=!!(T&&!k&&this.options.crossfade===!0&&!this.path.some(_3));this.animationProgress=0;let z;this.mixTargetDelta=A=>{const L=A/1e3;Ub(v.x,c.x,L),Ub(v.y,c.y,L),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bo(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w3(this.relativeTarget,this.relativeTargetOrigin,b,L),z&&r3(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=ut()),Sn(z,this.relativeTarget)),T&&(this.animationValues=g,JO(g,f,this.latestValues,L,U,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{bc.hasAnimatedSinceResize=!0,this.currentAnimation=YO(0,Lb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&L1(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ut();const v=Ht(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=Ht(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}Sn(d,h),Ir(d,g),vo(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new a3),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Fh("z",c,f,this.animationValues);for(let g=0;g<Ih.length;g++)Fh(`rotate${Ih[g]}`,c,f,this.animationValues),Fh(`skew${Ih[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return l3;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=vc(c==null?void 0:c.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=vc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=o3(this.projectionDeltaWithTransform,this.treeScale,g),h&&(d.transform=h(g,d.transform));const{x:v,y:b}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?d.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Ro){if(g[x]===void 0)continue;const{correct:_,applyTo:T,isCSSVariable:R}=Ro[x],k=d.transform==="none"?g[x]:_(g[x],f);if(T){const U=T.length;for(let z=0;z<U;z++)d[T[z]]=k}else R?this.options.visualElement.renderState.vars[x]=k:d[x]=k}return this.options.layoutId&&(d.pointerEvents=f===this?vc(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Pb),this.root.sharedNodes.clear()}}}function u3(t){t.updateLayout()}function d3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?jn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],x=Ht(b);b.min=s[v].min,b.max=b.min+x}):L1(l,e.layoutBox,s)&&jn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],x=Ht(s[v]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const d=Hr();vo(d,s,e.layoutBox);const h=Hr();c?vo(h,t.applyTransform(a,!0),e.measuredBox):vo(h,s,e.layoutBox);const f=!M1(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:x}=v;if(b&&x){const _=ut();bo(_,e.layoutBox,b.layoutBox);const T=ut();bo(T,s,x.layoutBox),D1(_,T)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=_,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function h3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function f3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m3(t){t.clearSnapshot()}function Pb(t){t.clearMeasurements()}function p3(t){t.isLayoutDirty=!1}function g3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function y3(t){t.resolveTargetDelta()}function v3(t){t.calcProjection()}function b3(t){t.resetSkewAndRotation()}function x3(t){t.removeLeadSnapshot()}function Ub(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vb(t,e,n,s){t.min=nt(e.min,n.min,s),t.max=nt(e.max,n.max,s)}function w3(t,e,n,s){Vb(t.x,e.x,n.x,s),Vb(t.y,e.y,n.y,s)}function _3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S3={duration:.45,ease:[.4,0,.1,1]},qb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hb=qb("applewebkit/")&&!qb("chrome/")?Math.round:En;function $b(t){t.min=Hb(t.min),t.max=Hb(t.max)}function j3(t){$b(t.x),$b(t.y)}function L1(t,e,n){return t==="position"||t==="preserve-aspect"&&!TO(Ob(e),Ob(n),.2)}function E3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const T3=z1({attachResizeListener:(t,e)=>Oo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gh={current:void 0},P1=z1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gh.current){const t=new T3({});t.mount(window),t.setOptions({layoutScroll:!0}),Gh.current=t}return Gh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C3={pan:{Feature:$O},drag:{Feature:HO,ProjectionNode:P1,MeasureLayout:A1}};function Ib(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Xe.postRender(()=>l(e,Io(e)))}class k3 extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=PN(e,(n,s)=>(Ib(this.node,s,"Start"),a=>Ib(this.node,a,"End"))))}unmount(){}}class A3 extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$o(Oo(this.node.current,"focus",()=>this.onFocus()),Oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Xe.postRender(()=>l(e,Io(e)))}class R3 extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=qN(e,(n,s)=>(Fb(this.node,s,"Start"),(a,{success:l})=>Fb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kf=new WeakMap,Yh=new WeakMap,N3=t=>{const e=kf.get(t.target);e&&e(t)},M3=t=>{t.forEach(N3)};function D3({root:t,...e}){const n=t||document;Yh.has(n)||Yh.set(n,{});const s=Yh.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(M3,{root:t,...e})),s[a]}function O3(t,e,n){const s=D3(e);return kf.set(t,n),s.observe(t),()=>{kf.delete(t),s.unobserve(t)}}const z3={some:0,all:1};class L3 extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:z3[a]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=f?g:v;b&&b(h)};return O3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(P3(e,n))&&this.startObserver()}unmount(){}}function P3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B3={inView:{Feature:L3},tap:{Feature:R3},focus:{Feature:A3},hover:{Feature:k3}},U3={layout:{ProjectionNode:P1,MeasureLayout:A1}},Af={current:null},B1={current:!1};function V3(){if(B1.current=!0,!!Jf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Af.current=t.matches;t.addListener(e),e()}else Af.current=!1}const q3=[...c1,Lt,rs],H3=t=>q3.find(l1(t)),$3=new WeakMap;function I3(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Pt(a))t.addValue(s,a);else if(Pt(l))t.addValue(s,ko(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ko(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Gb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F3{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=km,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Qn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xe.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Yc(n),this.isVariantNode=Ew(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const _=b[x];h[x]!==void 0&&Pt(_)&&_.set(h[x],!1)}}mount(e){this.current=e,$3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),B1.current||V3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Af.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=qs.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qr){const n=Qr[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Gb.length;s++){const a=Gb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=I3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ko(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(a1(s)||Qw(s))?s=parseFloat(s):!H3(s)&&rs.test(n)&&(s=i1(e,n)),this.setBaseTarget(e,Pt(s)?s.get():s)),Pt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=_m(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Pt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U1 extends F3{constructor(){super(...arguments),this.KeyframeResolver=u1}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function G3(t){return window.getComputedStyle(t)}class Y3 extends U1{constructor(){super(...arguments),this.type="html",this.renderInstance=Lw}readValueFromInstance(e,n){if(qs.has(n))return rD(e,n);{const s=G3(e),a=(mm(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return E1(e,n)}build(e,n,s){ym(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Sm(e,n,s)}}class K3 extends U1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&zw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qs.has(n)){const s=n1(n);return s&&s.default||0}return n=Pw.has(n)?n:fm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Uw(e,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Xe.postRender(this.updateDimensions)}build(e,n,s){xm(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){Bw(e,n,s,a)}mount(e){this.isSVGTag=wm(e.tagName),super.mount(e)}}const X3=(t,e)=>bm(t)?new K3(e):new Y3(e,{allowProjection:t!==E.Fragment}),Q3=MM({...vO,...B3,...C3,...U3},X3),Re=KN(Q3),Z3=({product:t})=>{var d,h,f;const e=(d=t.product_prices)==null?void 0:d[0],n=t.product_prices&&t.product_prices.length>1,s=(e==null?void 0:e.original_price)&&e.original_price>e.price;if(!e)return null;const a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},l={hidden:{y:15,opacity:0,filter:"blur(4px)"},visible:{y:0,opacity:1,filter:"blur(0px)",transition:{type:"spring",stiffness:120,damping:15}}},c={hidden:{scale:.6,opacity:0,rotate:-8},visible:{scale:1,opacity:1,rotate:0,transition:{type:"spring",stiffness:90,damping:12,delay:.1}}};return m.jsxs(Re.div,{className:"slide product-slide",variants:a,initial:"hidden",animate:"visible",exit:"hidden",children:[m.jsxs("div",{className:"product-content",children:[" ",m.jsx(Re.div,{className:"product-image-container",variants:c,children:m.jsx("img",{src:t.image_url?t.image_url.includes("/")?`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${t.image_url}`:`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/products/${t.image_url}`:"/placeholder.svg",alt:t.name,className:"product-image",onError:g=>{const v=g.target;v.src="/placeholder.svg"}})}),m.jsxs(Re.div,{className:"product-details",children:[m.jsx(Re.div,{className:"product-category",variants:l,children:(h=t.category)==null?void 0:h.name}),m.jsx(Re.h2,{className:"product-name",variants:l,children:t.name}),m.jsx(Re.p,{className:"product-description",variants:l,children:t.description}),s?m.jsxs(Re.div,{variants:l,children:[" ",m.jsx("div",{className:"product-price",children:dt(e.price)}),m.jsx("div",{className:"product-original-price",children:dt(e.original_price)}),m.jsxs("div",{className:"product-discount",children:["Save ",Math.round((1-e.price/e.original_price)*100),"%"]})]}):m.jsxs(Re.div,{variants:l,children:[" ",m.jsx("div",{className:"product-price",children:dt(e.price)}),n&&e.tier_name&&m.jsx("div",{className:"text-gray-600",children:e.tier_name})]})," ",n&&m.jsxs(Re.div,{className:"product-tiers",variants:a,children:[m.jsx(Re.div,{className:"col-span-full text-xl font-medium mb-2",variants:l,children:"Available Options:"}),(f=t.product_prices)==null?void 0:f.map(g=>m.jsxs(Re.div,{className:"product-tier",variants:l,children:[m.jsx("div",{className:"product-tier-name",children:g.tier_name}),m.jsx("div",{className:"product-tier-price",children:dt(g.price)})]},g.id))]})," "]})," "]})," ",t.special&&m.jsx(Re.div,{className:"product-special-banner",variants:l,children:"LIMITED TIME SPECIAL OFFER"})]})},W3=({category:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},n={hidden:{y:-25,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:110,damping:18}}},s={hidden:{y:18,opacity:0,scale:.95},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",stiffness:110,damping:15}}},[a,l]=E.useState([]);return E.useEffect(()=>{(async()=>{const{data:d,error:h}=await ue.from("products").select("*, product_prices(*), category:categories(*)").eq("category_id",t.id).eq("active",!0).limit(4);!h&&d?l(d):h&&console.error(`Error fetching products for category ${t.id}:`,h)})()},[t.id]),m.jsxs(Re.div,{className:"slide category-slide",variants:e,initial:"hidden",animate:"visible",exit:"hidden",children:[m.jsxs(Re.div,{className:"category-header",variants:n,children:[m.jsx("h2",{className:"category-title",children:t.name}),t.description&&m.jsx("p",{className:"category-description",children:t.description})]}),m.jsx(Re.div,{className:"category-products",variants:e,children:a.map(c=>m.jsxs(Re.div,{className:"category-product",variants:s,children:[m.jsx("div",{className:"category-product-image",children:m.jsx("img",{src:c.image_url?`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${c.image_url}`:"/placeholder.svg",alt:c.name})}),m.jsxs("div",{className:"category-product-details",children:[m.jsx("h3",{className:"category-product-name",children:c.name}),m.jsx("p",{className:"category-product-description",children:c.description}),c.product_prices&&c.product_prices[0]&&m.jsxs("div",{className:"category-product-price",children:[dt(c.product_prices[0].price),c.product_prices[0].original_price&&m.jsx("span",{className:"ml-2 text-sm text-gray-500 line-through",children:dt(c.product_prices[0].original_price)})]})]}),c.special&&m.jsx("div",{className:"product-special-banner text-sm",children:"SPECIAL OFFER"})]},c.id))})," "]})},J3=({announcement:t})=>m.jsxs("div",{className:"slide announcement-slide relative",children:[" ",m.jsx("img",{src:"/images/1_BMS white Logo.svg",alt:"BMS Logo",className:"absolute top-4 right-6 h-10 w-auto"}),m.jsx("h2",{className:"announcement-title",children:t.title}),t.image_url&&(()=>{const e=t.image_url,s=e.startsWith("http")?e:`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${e}`;return m.jsx("img",{src:s,alt:t.title||"",className:"announcement-image mb-8 max-h-[50vh] max-w-[80%] w-auto h-auto object-contain mx-auto",onError:a=>{console.error(`Error loading image: ${a.currentTarget.src}`)}})})(),m.jsx("div",{className:"announcement-content",children:t.content})]}),e4=()=>{var b;const[t,e]=E.useState(new Date),[n,s]=E.useState(null),[a,l]=E.useState([]),[c,d]=E.useState("Gaborone"),[h,f]=E.useState("Africa/Gaborone");E.useEffect(()=>{(async()=>{try{const _=await Vc();_.store_location&&d(_.store_location),_.store_timezone&&f(_.store_timezone)}catch(_){console.error("Error fetching store settings:",_)}})()},[]),E.useEffect(()=>{const x=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(x)},[]),E.useEffect(()=>{const x=async()=>{try{s({main:{temp:28},weather:[{description:"Sunny",main:"Clear"}],name:c})}catch(T){console.error("Error fetching weather:",T)}};x();const _=setInterval(x,30*60*1e3);return()=>clearInterval(_)},[c]),E.useEffect(()=>{const x=async()=>{const{data:T,error:R}=await ue.from("announcements").select("*").eq("type","ticker").eq("active",!0);!R&&T&&l(T)};x();const _=ue.channel("public:announcements").on("postgres_changes",{event:"*",schema:"public",table:"announcements"},()=>x()).subscribe();return()=>{_.unsubscribe()}},[]);const g=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"long",year:"numeric",timeZone:h}).format(t),v=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:h}).format(t);return m.jsxs("div",{className:"info-bar",children:[m.jsx("img",{src:"images/1_BMS white Logo.svg",alt:"BMS Logo",className:"info-bar-logo"}),m.jsxs("div",{className:"info-bar-datetime",children:[m.jsx("div",{className:"info-bar-time",children:v}),m.jsx("div",{className:"info-bar-date",children:g})]}),n&&m.jsxs("div",{className:"info-bar-weather",children:[t4((b=n.weather[0])==null?void 0:b.main)," ",Math.round(n.main.temp),"C, ",n.name||c]}),m.jsx("div",{className:"info-bar-ticker-container",children:a.length>0&&m.jsx("div",{className:"ticker-wrap",children:m.jsx("div",{className:"ticker",children:a.map(x=>x.content).join("  ")})})})]})},t4=t=>{if(!t)return"";const e=t.toLowerCase();return e.includes("clear")?"":e.includes("clouds")?"":e.includes("rain")?"":e.includes("drizzle")?"":e.includes("thunderstorm")?"":e.includes("snow")?"":e.includes("mist")||e.includes("fog")?"":""},n4={enter:{opacity:0},center:{zIndex:1,opacity:1},exit:{zIndex:0,opacity:0}},i4=()=>{const[t,e]=E.useState([]),[[n,s],a]=E.useState([0,0]),[l,c]=E.useState(!!document.fullscreenElement),[d,h]=E.useState(!0),[f,g]=E.useState(!1),[v,b]=E.useState(!1),[x,_]=E.useState(null),[T,R]=E.useState(.4),k=E.useRef(!0);E.useEffect(()=>{k.current=!0;let A=null,L=null;const P=async()=>{if(!(v||!k.current)){console.log("Fetching slides and settings..."),b(!0),h(!0);try{const[I,C,j,N]=await Promise.all([Vc(),ue.from("products").select("*, category:categories(*), product_prices(*)").eq("active",!0).eq("featured",!0),ue.from("categories").select("*").order("display_order",{ascending:!0,nullsFirst:!1}),ue.from("announcements").select("*").eq("active",!0).eq("type","slide")]);if(!k.current)return;if(_(I),R(I.transition_duration),C.error)throw C.error;if(j.error)throw j.error;if(N.error)throw N.error;const D=C.data||[],V=j.data||[],te=N.data||[],se=D.map(ne=>({id:`product-${ne.id}`,type:"product",data:ne,priority:ne.special?2:1})),ae=V.map(ne=>({id:`category-${ne.id}`,type:"category",data:ne,priority:0})),H=te.map(ne=>({id:`announcement-${ne.id}`,type:"announcement",data:ne,priority:3})),X=[...se,...ae,...H];X.sort((ne,ie)=>(ie.priority||0)-(ne.priority||0)),e(X),h(!1)}catch(I){console.error("Error fetching slides/settings:",I),k.current&&h(!1)}finally{k.current&&b(!1),console.log("Finished fetching slides and settings.")}}};return P(),A=ue.channel("public:products").on("postgres_changes",{event:"*",schema:"public",table:"products"},()=>{console.log("Product change detected, refetching..."),P()}).subscribe(),L=ue.channel("public:announcements").on("postgres_changes",{event:"*",schema:"public",table:"announcements"},()=>{console.log("Announcement change detected, refetching..."),P()}).subscribe(),()=>{console.log("Cleaning up SlideShow effect..."),k.current=!1,A&&ue.removeChannel(A),L&&ue.removeChannel(L)}},[]),E.useEffect(()=>{let A=null;return(()=>{if(!k.current||d||!x||t.length===0){A&&clearInterval(A),console.log("Auto-advance setup skipped (loading, no settings, no slides, or unmounted).");return}const P=x.enable_auto_rotation,I=x.display_duration*1e3;A&&clearInterval(A),P?(console.log(`Setting up auto-advance with duration: ${I}ms`),A=setInterval(()=>{k.current&&a(C=>[(C[0]+1)%t.length,1])},I)):console.log("Auto-advance disabled.")})(),()=>{A&&(clearInterval(A),console.log("Cleared auto-advance interval on settings/slides/loading change."))}},[d,x,t]),E.useEffect(()=>{let A=null;const L=()=>{g(!0),A&&clearTimeout(A),A=setTimeout(()=>g(!1),3e3)};return window.addEventListener("mousemove",L),L(),()=>{window.removeEventListener("mousemove",L),A&&clearTimeout(A)}},[]),E.useEffect(()=>{const A=L=>{if(!(d||t.length===0))if(L.key==="ArrowRight"){const P=(n+1)%t.length;a([P,1])}else if(L.key==="ArrowLeft"){const P=(n-1+t.length)%t.length;a([P,-1])}else L.key==="f"&&U()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[d,t.length,n]);const U=()=>{document.fullscreenElement?document.exitFullscreen().catch(A=>console.error("Error attempting to exit fullscreen:",A)):document.documentElement.requestFullscreen().catch(A=>console.error("Error attempting to enable fullscreen:",A))};E.useEffect(()=>{const A=()=>{c(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",A),()=>document.removeEventListener("fullscreenchange",A)},[]);const z=A=>{switch(A.type){case"product":return m.jsx(Z3,{product:A.data});case"category":return m.jsx(W3,{category:A.data});case"announcement":return m.jsx(J3,{announcement:A.data});default:return null}};return d?m.jsx("div",{className:"loading-container",children:m.jsxs("div",{className:"loading-content",children:[m.jsx("div",{className:"fading-blocks-loader",children:[...Array(9)].map((A,L)=>m.jsx("div",{className:"block"},L))}),m.jsx("div",{className:"loading-text",children:"Loading Display..."})]})}):t.length===0?m.jsx("div",{className:"h-screen flex items-center justify-center bg-blue-50",children:m.jsx("div",{className:"text-2xl text-blue-900",children:"No content available"})}):m.jsxs("div",{className:"signage-layout",children:[m.jsx(e4,{}),m.jsx("main",{className:"signage-main-content",children:m.jsx(fw,{initial:!1,custom:s,mode:"wait",children:m.jsx(Re.div,{custom:s,variants:n4,initial:"enter",animate:"center",exit:"exit",transition:{opacity:{duration:T}},className:"slide-wrapper",children:z(t[n])},n)})}),m.jsxs("footer",{className:"footer",children:[m.jsx("div",{className:"footer-content",children:"BMS Digital Signage  Powered by Aleph Creative-Hub"}),m.jsx("div",{className:"slide-indicators",children:t.map((A,L)=>m.jsx("button",{className:`slide-indicator ${L===n?"active":""}`,onClick:()=>{const P=L>n?1:-1;a([L,P])},"aria-label":`Go to slide ${L+1}`},L))}),m.jsxs("div",{className:`admin-controls ${f?"controls-visible":""}`,children:[m.jsx("button",{className:"admin-button",onClick:()=>window.location.href="/admin",children:"Admin"}),m.jsx("button",{className:"admin-button",onClick:U,children:l?"Exit Fullscreen":"Fullscreen"})]})]})]})},s4=()=>m.jsxs("div",{className:"w-screen h-screen bg-gradient-animated bg-400% animate-gradient",children:[" ",m.jsx(bN,{density:"low"})," ",m.jsx(i4,{})]}),Mm=({src:t,alt:e,className:n="max-h-80 object-contain"})=>{const[s,a]=E.useState(!t);let l="/placeholder.svg";t&&(t.startsWith("http")||t.startsWith("/"))&&(l=t);const c=s?"/placeholder.svg":l,d={initial:{y:0},animate:{y:[0,-10,0],transition:{duration:3,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},hover:{scale:1.05,rotate:[0,-1,1,-1,0],transition:{duration:.3,scale:{duration:.2}}}};return m.jsx(Re.div,{className:"product-image-container w-full h-full flex items-center justify-center bg-white/90 rounded-lg shadow-md overflow-hidden p-4",whileHover:{boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)",backgroundColor:"rgba(255, 255, 255, 0.95)",y:-5},transition:{duration:.3},children:m.jsx(Re.img,{src:c,alt:e,className:n,initial:"initial",animate:"animate",whileHover:"hover",variants:d,onError:()=>{s||(console.warn("Mock image failed to load, switching to placeholder:",l),a(!0))},onLoad:()=>{s&&t&&l!=="/placeholder.svg"&&a(!1)}})})},r4=({product:t})=>{var c;const e=t.product_prices&&t.product_prices.length>1,n=t.product_prices&&((c=t.product_prices[0])==null?void 0:c.original_price)&&t.product_prices[0].original_price>t.product_prices[0].price,s={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},l=n&&t.product_prices[0].original_price?Math.round((1-t.product_prices[0].price/t.product_prices[0].original_price)*100):0;return m.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-gray-50 to-gray-100",children:[t.category&&m.jsxs("div",{className:"bg-blue-900 text-white p-4 flex items-center",children:[t.category.icon&&m.jsx("i",{className:`fas fa-${t.category.icon} mr-2`}),m.jsx("span",{className:"text-lg",children:t.category.name}),(t.special||t.featured)&&m.jsxs("div",{className:"ml-auto",children:[t.special&&m.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold mr-2",children:"SPECIAL"}),t.featured&&m.jsx("span",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"FEATURED"})]})]}),m.jsxs(Re.div,{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 p-4",variants:s,initial:"hidden",animate:"visible",children:[m.jsx(Re.div,{className:"flex items-center justify-center",variants:a,animate:{y:[0,-10,0],transition:{y:{duration:3,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}},whileHover:{scale:1.03,transition:{duration:.3}},children:m.jsxs("div",{className:"relative product-image-container",children:[m.jsx(Mm,{src:t.image_url,alt:t.name,className:"max-h-96 object-contain"}),n&&m.jsxs("div",{className:"absolute top-0 right-0 bg-red-600 text-white text-xl font-bold p-4 rounded-full transform translate-x-1/4 -translate-y-1/4",children:["-",l,"%"]})]})}),m.jsxs(Re.div,{className:"flex flex-col justify-center",variants:a,children:[m.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:t.name}),m.jsx("p",{className:"text-xl text-gray-600 mb-8",children:t.description}),m.jsx("div",{className:"mt-auto",children:e?m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Available Options"}),m.jsx("div",{className:"space-y-3",children:t.product_prices.map(d=>m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-lg",children:d.tier_name}),m.jsx("span",{className:"text-2xl font-bold text-blue-600",children:dt(d.price)})]},d.id))})]}):m.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:n?m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("div",{className:"flex items-baseline",children:[m.jsx("span",{className:"text-4xl font-bold text-blue-600",children:dt(t.product_prices[0].price)}),m.jsx("span",{className:"ml-3 text-xl line-through text-gray-500",children:dt(t.product_prices[0].original_price)})]}),m.jsxs("div",{className:"mt-2 text-red-600 font-semibold",children:["Save ",l,"% off regular price"]})]}):m.jsx("span",{className:"text-4xl font-bold text-blue-600",children:t.product_prices&&t.product_prices.length>0?dt(t.product_prices[0].price):"Price not available"})})})]})]}),m.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-between items-center",children:[m.jsx("div",{className:"text-sm text-gray-500",children:t.category?`Category: ${t.category.name}`:"Uncategorized"}),m.jsx("div",{className:"text-sm text-gray-500",children:"Swipe for more products"})]})]})},a4=({category:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:12}}},s=t.color||"#1e3a8a",a=t.icon?`fa-${t.icon}`:"fa-folder";return m.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:`${s}20`},children:[m.jsxs("div",{className:"p-6 text-white flex items-center",style:{backgroundColor:s},children:[m.jsx("i",{className:`fas ${a} text-3xl mr-4`}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-4xl font-bold",children:t.name}),m.jsx("p",{className:"text-xl opacity-80",children:t.description})]})]}),m.jsx("div",{className:"flex-1 p-8 overflow-hidden",children:m.jsx(Re.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:e,initial:"hidden",animate:"visible",children:t.products&&t.products.length>0?t.products.map(l=>m.jsxs(Re.div,{className:"bg-white rounded-lg shadow-lg overflow-hidden",variants:n,whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.15), 0 10px 10px -5px rgba(0, 0, 0, 0.08)",transition:{duration:.3}},children:[m.jsx(Re.div,{className:"p-4 h-48 flex items-center justify-center bg-gray-50",whileHover:{backgroundColor:"#f0f9ff",transition:{duration:.3}},children:m.jsx(Mm,{src:l.image_url,alt:l.name,className:"max-h-40 object-contain"})}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:l.name}),m.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:l.description}),l.product_prices&&l.product_prices.length>0&&m.jsx("div",{className:"mt-2",children:l.product_prices[0].original_price?m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-2xl font-bold text-blue-600",children:dt(l.product_prices[0].price)}),m.jsx("span",{className:"ml-2 text-lg line-through text-gray-500",children:dt(l.product_prices[0].original_price)})]}):m.jsx("span",{className:"text-2xl font-bold text-blue-600",children:dt(l.product_prices[0].price)})})]})]},l.id)):m.jsxs("div",{className:"col-span-3 text-center text-gray-500 py-12",children:[m.jsx("i",{className:"fas fa-box-open text-5xl mb-4"}),m.jsx("p",{className:"text-xl",children:"No products available in this category"})]})})}),m.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-between items-center",children:[m.jsx("div",{className:"text-lg font-semibold text-gray-700",children:t.products?`${t.products.length} Products`:"No Products"}),m.jsx("div",{className:"text-sm text-gray-500",children:"Swipe for more categories"})]})]})},o4=({announcement:t})=>{const e=d=>d?new Date(d).toLocaleDateString("en-BW",{year:"numeric",month:"long",day:"numeric"}):null,n=e(t.start_date),s=e(t.end_date),a={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.2}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:12}}},c=t.start_date||t.end_date;return m.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-blue-900/90 to-indigo-800/90 text-white slide-container",children:[m.jsxs(Re.div,{className:"p-4 flex items-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[m.jsx("i",{className:"fas fa-bullhorn text-4xl mr-4"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Announcement"}),c&&m.jsx("p",{className:"text-sm opacity-80",children:n&&s?`Valid from ${n} to ${s}`:n?`Starting from ${n}`:s?`Valid until ${s}`:null})]})]}),m.jsxs(Re.div,{className:"flex-1 p-4 flex flex-col md:flex-row items-center justify-center gap-4",variants:a,initial:"hidden",animate:"visible",children:[t.image_url&&m.jsx(Re.div,{className:"w-full md:w-1/2 flex justify-center",variants:l,children:m.jsx("div",{className:"bg-white/10 p-4 rounded-lg shadow-lg backdrop-blur-sm",children:m.jsx(Mm,{src:t.image_url,alt:t.title,className:"max-h-64 object-contain rounded"})})}),m.jsxs(Re.div,{className:`w-full ${t.image_url?"md:w-1/2":"md:w-3/4"} flex flex-col`,variants:l,children:[m.jsx("h3",{className:"text-2xl font-bold mb-3",children:t.title}),m.jsx("div",{className:"bg-white/10 p-4 rounded-lg shadow-lg backdrop-blur-sm",children:m.jsx("div",{className:"text-lg leading-relaxed max-h-[30vh] overflow-y-auto",dangerouslySetInnerHTML:{__html:t.content}})})]})]}),m.jsxs(Re.div,{className:"p-2 bg-black/20 flex justify-between items-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[m.jsxs("div",{className:"text-sm font-semibold",children:[m.jsx("i",{className:"fas fa-info-circle mr-2"}),"Important Notice"]}),m.jsx("div",{className:"text-sm opacity-80",children:new Date().toLocaleDateString("en-BW")})]})]})},l4=({variant:t="default",density:e="medium"})=>{const n=E.useCallback(async d=>{await uw(d)},[]),s=()=>{switch(e){case"low":return 40;case"medium":return 80;case"high":return 150;default:return 80}},a=()=>{switch(t){case"light":return["#f1f5f9","#e2e8f0","#cbd5e1","#bfdbfe"];case"dark":return["#334155","#475569","#64748b","#1e40af"];case"blue":return["#3b82f6","#60a5fa","#93c5fd","#2563eb","#1d4ed8"];default:return["#94a3b8","#cbd5e1","#e2e8f0","#bfdbfe","#93c5fd"]}},l=()=>{switch(t){case"light":return"#ffffff";case"dark":return"#1e293b";case"blue":return"#1e3a8a";default:return"transparent"}},c=E.useMemo(()=>({background:{color:{value:l()}},fpsLimit:60,particles:{color:{value:a()},links:{color:a()[0],distance:150,enable:!0,opacity:.3,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!0,speed:1.5,straight:!1,attract:{enable:!0,rotateX:600,rotateY:1200}},number:{density:{enable:!0,area:800},value:s()},opacity:{value:{min:.2,max:.6},animation:{enable:!0,speed:1,minimumValue:.1,sync:!1}},shape:{type:["circle","triangle","square"]},size:{value:{min:1,max:8},animation:{enable:!0,speed:2,minimumValue:.5,sync:!1}}},detectRetina:!0}),[t,e]);return m.jsx("div",{className:"absolute inset-0 -z-10",children:m.jsx(Qf,{id:"tsparticles",init:n,options:c})})},Rf=[{id:"1",name:"GIS Sky Blue Shirt",description:"Short sleeve sky blue shirt for GIS",category_id:"1",image_url:"uniforms/shirt-ssleeve-gis-sky-blue.png",active:!0,featured:!0,special:!1,category:{name:"School Uniforms",icon:"shirt"},product_prices:[{id:"1",tier_name:"Size 4",price:149.99,original_price:null,currency:"BWP"},{id:"2",tier_name:"Size 6",price:159.99,original_price:null,currency:"BWP"},{id:"3",tier_name:"Size 8",price:169.99,original_price:null,currency:"BWP"}]},{id:"2",name:"GIS Navy Jersey",description:"Navy jersey with white stripes for GIS",category_id:"1",image_url:"uniforms/jersey-navy-white-stripes-gis-hs.png",active:!0,featured:!1,special:!0,category:{name:"School Uniforms",icon:"shirt"},product_prices:[{id:"4",tier_name:"Size 4",price:249.99,original_price:279.99,currency:"BWP"},{id:"5",tier_name:"Size 6",price:259.99,original_price:289.99,currency:"BWP"}]},{id:"3",name:"BIC Cristal Blue Pen",description:"Classic blue ballpoint pen",category_id:"2",image_url:"products/pen-bic-cristal-blue.png",active:!0,featured:!0,special:!1,category:{name:"Stationery",icon:"pencil"},product_prices:[{id:"6",tier_name:null,price:4.99,original_price:null,currency:"BWP"}]}],c4=[{id:"1",name:"School Uniforms",description:"School uniforms for various schools",image_url:"",icon:"shirt",color:"#3b82f6",products:Rf.filter(t=>t.category_id==="1")},{id:"2",name:"Stationery",description:"Pens, pencils, and other stationery items",image_url:"",icon:"pencil",color:"#10b981",products:Rf.filter(t=>t.category_id==="2")}],u4=[{id:"1",title:"Back to School Sale",content:"Get up to 20% off on all school uniforms!",image_url:null,type:"slide",active:!0,start_date:"2025-01-01",end_date:"2025-02-28"},{id:"2",title:"New Stationery Arrivals",content:"Check out our new stationery collection!",image_url:null,type:"ticker",active:!0,start_date:null,end_date:null}],V1=E.createContext({products:[],categories:[],announcements:[],loading:!1,error:null}),d4=({children:t})=>{const e={products:Rf,categories:c4,announcements:u4,loading:!1,error:null};return m.jsx(V1.Provider,{value:e,children:t})},q1=()=>E.useContext(V1),h4=()=>{var z;const{products:t,categories:e,announcements:n}=q1(),[s,a]=E.useState([]),[l,c]=E.useState(0),[d,h]=E.useState(!1),[f,g]=E.useState(!1),[v,b]=E.useState(!0),[x,_]=E.useState(null);E.useEffect(()=>{try{const A=t.map(j=>({id:`product-${j.id}`,type:"product",data:j})),L=e.map(j=>({id:`category-${j.id}`,type:"category",data:j})),P=n.filter(j=>j.type==="slide").map(j=>({id:`announcement-${j.id}`,type:"announcement",data:j})),I=[...A.filter(j=>j.data.featured),...L,...P],C=A.filter(j=>j.data.special);a([...C,...I]),b(!1)}catch(A){console.error("Error processing slides:",A),_(A.message||"Failed to process slides"),b(!1)}},[t,e,n]),E.useEffect(()=>{if(s.length===0)return;const A=setInterval(()=>{c(L=>(L+1)%s.length)},1e4);return()=>clearInterval(A)},[s]),E.useEffect(()=>{const A=()=>{g(!0),setTimeout(()=>g(!1),3e3)};return window.addEventListener("mousemove",A),()=>window.removeEventListener("mousemove",A)},[]),E.useEffect(()=>{const A=L=>{L.key==="ArrowRight"?c(P=>(P+1)%s.length):L.key==="ArrowLeft"&&c(P=>(P-1+s.length)%s.length)};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[s.length]);const T=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>h(!1)).catch(A=>console.error("Error attempting to exit fullscreen:",A)):document.documentElement.requestFullscreen().then(()=>h(!0)).catch(A=>console.error("Error attempting to enable fullscreen:",A))},R=()=>{c(A=>(A-1+s.length)%s.length)},k=()=>{c(A=>(A+1)%s.length)},U=A=>{switch(A.type){case"product":return m.jsx(r4,{product:A.data});case"category":return m.jsx(a4,{category:A.data});case"announcement":return m.jsx(o4,{announcement:A.data});default:return null}};return v?m.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),m.jsx("p",{className:"text-xl text-gray-700",children:"Loading slides..."})]})}):x?m.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg max-w-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Error Loading Slides"}),m.jsx("p",{children:x}),m.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Try Again"})]})}):s.length===0?m.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:m.jsxs("div",{className:"text-center max-w-lg",children:[m.jsx("i",{className:"fas fa-images text-5xl text-gray-400 mb-4"}),m.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Content Available"}),m.jsx("p",{className:"text-gray-600",children:"There are no products, categories, or announcements to display. Please add content through the admin interface."}),m.jsx("button",{onClick:()=>window.location.href="/admin",className:"mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go to Admin"})]})}):m.jsxs("div",{className:"relative h-full overflow-hidden bg-gray-100",children:[m.jsx(l4,{variant:((z=s[l])==null?void 0:z.type)==="announcement"?"blue":"light",density:"medium"}),m.jsx(fw,{mode:"wait",children:m.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"h-full w-full",children:U(s[l])},l)}),m.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.map((A,L)=>m.jsx("button",{onClick:()=>c(L),className:`w-3 h-3 rounded-full ${L===l?"bg-blue-600":"bg-gray-400"}`,"aria-label":`Go to slide ${L+1}`},L))}),m.jsxs("div",{className:"hidden md:block",children:[m.jsx("button",{onClick:R,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full","aria-label":"Previous slide",children:m.jsx("i",{className:"fas fa-chevron-left text-xl"})}),m.jsx("button",{onClick:k,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full","aria-label":"Next slide",children:m.jsx("i",{className:"fas fa-chevron-right text-xl"})})]}),f&&m.jsxs("div",{className:"absolute bottom-4 right-4 flex space-x-2 bg-black/70 p-2 rounded-lg backdrop-blur-sm",children:[m.jsxs("button",{onClick:()=>window.location.href="/admin",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center","aria-label":"Go to admin panel",children:[m.jsx("i",{className:"fas fa-cog mr-2"}),"Admin"]}),m.jsxs("button",{onClick:T,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded flex items-center","aria-label":d?"Exit fullscreen":"Enter fullscreen",children:[m.jsx("i",{className:`fas ${d?"fa-compress":"fa-expand"} mr-2`}),d?"Exit":"Fullscreen"]})]}),m.jsx("div",{className:"hidden",children:(setTimeout(()=>{window.location.reload()},4*60*60*1e3),null)})]})},f4=()=>{const{announcements:t}=q1(),[e,n]=E.useState(new Date);E.useEffect(()=>{const d=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(d)},[]);const s=e.toLocaleTimeString("en-BW",{hour:"2-digit",minute:"2-digit"}),a=e.toLocaleDateString("en-BW",{weekday:"short",day:"numeric",month:"short"}),l=t.filter(d=>d.type==="ticker"),c=l.length>0?l.map(d=>d.content).join("  "):"Welcome to BMS Digital Signage";return m.jsxs("div",{className:"bg-blue-900 text-white p-2 flex items-center justify-between shadow-md",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"text-xl font-bold",children:"BMS"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("div",{className:"text-xl font-bold",children:s}),m.jsx("div",{className:"text-xs opacity-80",children:a})]})]}),m.jsx("div",{className:"flex items-center px-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 mr-1 flex items-center justify-center",children:m.jsx("i",{className:"fas fa-sun text-yellow-300 text-2xl"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("div",{className:"text-xl font-bold",children:"28C"}),m.jsx("div",{className:"text-xs opacity-80",children:"Gaborone"})]})]})}),m.jsx("div",{className:"flex-1 overflow-hidden",children:m.jsx("div",{className:"relative w-full h-6 overflow-hidden",children:m.jsx("div",{className:"absolute whitespace-nowrap animate-marquee",children:c})})})]})},m4=E.createContext(null),Kh={didCatch:!1,error:null};let p4=class extends E.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Kh}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,s,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];(n=(s=this.props).onReset)===null||n===void 0||n.call(s,{args:l,reason:"imperative-api"}),this.setState(Kh)}}componentDidCatch(e,n){var s,a;(s=(a=this.props).onError)===null||s===void 0||s.call(a,e,n)}componentDidUpdate(e,n){const{didCatch:s}=this.state,{resetKeys:a}=this.props;if(s&&n.error!==null&&g4(e.resetKeys,a)){var l,c;(l=(c=this.props).onReset)===null||l===void 0||l.call(c,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(Kh)}}render(){const{children:e,fallbackRender:n,FallbackComponent:s,fallback:a}=this.props,{didCatch:l,error:c}=this.state;let d=e;if(l){const h={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")d=n(h);else if(s)d=E.createElement(s,h);else if(a!==void 0)d=a;else throw c}return E.createElement(m4.Provider,{value:{didCatch:l,error:c,resetErrorBoundary:this.resetErrorBoundary}},d)}};function g4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,s)=>!Object.is(n,e[s]))}const Yb=({children:t})=>{const e=({error:s,resetErrorBoundary:a})=>m.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100 p-6",children:m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg max-w-lg text-center",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Something went wrong"}),m.jsx("p",{className:"mb-4",children:s.message}),m.jsx("button",{onClick:a,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Try again"})]})}),n=(s,a)=>{console.error("Error caught by ErrorBoundary:",s),console.error("Component stack:",a.componentStack)};return m.jsx(p4,{FallbackComponent:e,onError:n,onReset:()=>{console.log("ErrorBoundary reset")},children:t})},y4=()=>(E.useEffect(()=>{const t=setTimeout(()=>{window.location.reload()},144e5);return()=>clearTimeout(t)},[]),m.jsx(d4,{children:m.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[m.jsx(Yb,{children:m.jsx(f4,{})}),m.jsx("div",{className:"flex-1 overflow-hidden",children:m.jsx(Yb,{children:m.jsx(h4,{})})})]})})),Kb="ui-elements/placeholder.svg",Xb=({src:t,alt:e,className:n="max-h-80 object-contain"})=>{const[s,a]=E.useState(!t);E.useEffect(()=>{a(!t)},[t]);const l="https://rwsjbkedgztplwzxoxks.supabase.co",c=t||Kb,h=c.startsWith("http")?c:`${l}/storage/v1/object/public/${c}`,f=`${l}/storage/v1/object/public/${Kb}`,g=s&&t?f:h,v={initial:{y:0},animate:{y:[0,-10,0],transition:{duration:3,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},hover:{scale:1.05,rotate:[0,-1,1,-1,0],transition:{duration:.3,scale:{duration:.2}}}};return t&&(t.includes("announcements/")||t.startsWith("http"))?m.jsxs(Re.div,{className:"relative",initial:"initial",animate:"animate",variants:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}}},children:[m.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-full filter blur-[50px] scale-[1.5] z-0"}),m.jsx("div",{className:"absolute inset-0 filter blur-[40px] opacity-80 scale-[1.3] z-1 mix-blend-lighten",children:m.jsx("img",{src:g,alt:"",className:n,style:{visibility:s?"hidden":"visible",filter:"brightness(1.7) contrast(1.3)"}})}),m.jsx("div",{className:"absolute inset-0 filter blur-[20px] opacity-90 scale-[1.15] z-2 mix-blend-screen",children:m.jsx("img",{src:g,alt:"",className:n,style:{visibility:s?"hidden":"visible",filter:"brightness(1.5)"}})}),m.jsx("div",{className:"absolute inset-0 filter blur-[8px] opacity-100 scale-[1.05] z-3",children:m.jsx("img",{src:g,alt:"",className:n,style:{visibility:s?"hidden":"visible",filter:"brightness(1.3)"}})}),m.jsx(Re.img,{src:g,alt:e,className:`${n} relative z-10 drop-shadow-[0_0_8px_rgba(255,255,255,0.9)]`,onError:()=>{!s&&t&&(console.warn("Image failed to load, switching to placeholder:",h),a(!0))},onLoad:()=>{s&&t&&a(!1)}},t)]}):m.jsx(Re.div,{className:"product-image-container w-full h-full flex items-center justify-center bg-white/90 rounded-lg shadow-md overflow-hidden p-4",whileHover:{boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)",backgroundColor:"rgba(255, 255, 255, 0.95)",y:-5},transition:{duration:.3},children:m.jsx(Re.img,{src:g,alt:e,className:n,initial:"initial",animate:"animate",whileHover:"hover",variants:v,onError:()=>{!s&&t&&(console.warn("Image failed to load, switching to placeholder:",h),a(!0))},onLoad:()=>{s&&t&&a(!1)}},t)})},v4=()=>{const[t,e]=E.useState([]),[n,s]=E.useState([]),[a,l]=E.useState(!0),[c,d]=E.useState(null);return E.useEffect(()=>{(async()=>{try{l(!0);const{data:f,error:g}=await ue.from("products").select("*").limit(5);if(g)throw new Error(`Error fetching products: ${g.message}`);e(f||[]);const{data:v,error:b}=await ue.from("categories").select("*").limit(3);if(b)throw new Error(`Error fetching categories: ${b.message}`);s(v||[])}catch(f){d(f instanceof Error?f.message:"An unknown error occurred"),console.error("Error fetching data:",f)}finally{l(!1)}})()},[]),a?m.jsx("div",{className:"p-4",children:"Loading..."}):c?m.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",c]}):m.jsxs("div",{className:"p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Test Product Images"}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Products"}),t.length===0?m.jsx("p",{children:"No products found"}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>m.jsxs("div",{className:"border rounded-lg p-4 shadow-sm",children:[m.jsx("h3",{className:"font-medium mb-2",children:h.name}),m.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-100 rounded mb-2",children:h.image_url?m.jsx(Xb,{src:h.image_url,alt:h.name,className:"max-h-40 object-contain"}):m.jsx("div",{className:"text-gray-400",children:"No image"})}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Image path: ",h.image_url||"None"]})]},h.id))})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Categories"}),n.length===0?m.jsx("p",{children:"No categories found"}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(h=>m.jsxs("div",{className:"border rounded-lg p-4 shadow-sm",children:[m.jsx("h3",{className:"font-medium mb-2",children:h.name}),m.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-100 rounded mb-2",children:h.image_url?m.jsx(Xb,{src:h.image_url,alt:h.name,className:"max-h-40 object-contain"}):m.jsx("div",{className:"text-gray-400",children:"No image"})}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Image path: ",h.image_url||"None"]})]},h.id))})]})]})},b4=()=>m.jsxs("div",{className:"container mx-auto py-8",children:[m.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Image Integration Test"}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsx(v4,{})})]}),x4=()=>{const[t,e]=E.useState(""),[n,s]=E.useState(""),[a,l]=E.useState(null),[c,d]=E.useState(!1),h=Po(),{signIn:f}=$f(),g=async v=>{v.preventDefault(),l(null),d(!0);try{const{error:b}=await f(t,n);if(b)throw b;h("/admin")}catch(b){console.error("Login error:",b),l(b.message||"Failed to sign in")}finally{d(!1)}};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("h1",{className:"login-title",children:"BMS Digital Signage"}),m.jsx("p",{className:"login-subtitle",children:"Admin Login"})]}),a&&m.jsx("div",{className:"login-error",children:m.jsx("p",{children:a})}),m.jsxs("form",{onSubmit:g,children:[m.jsxs("div",{className:"login-form-group",children:[m.jsx("label",{htmlFor:"email",className:"login-label",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:t,onChange:v=>e(v.target.value),className:"login-input",required:!0,autoComplete:"email"})]}),m.jsxs("div",{className:"login-form-group-large",children:[m.jsx("label",{htmlFor:"password",className:"login-label",children:"Password"}),m.jsx("input",{type:"password",id:"password",value:n,onChange:v=>s(v.target.value),className:"login-input",required:!0,autoComplete:"current-password"})]}),m.jsx("button",{type:"submit",className:`login-button ${c?"login-button-disabled":"login-button-primary"}`,disabled:c,children:c?"Signing in...":"Sign In"})]})]})})},Xh=({title:t,count:e,linkTo:n,linkText:s,color:a,icon:l})=>m.jsxs("div",{className:"dashboard-summary-card",children:[" ",m.jsxs("div",{className:"dashboard-summary-card-header",children:[" ",m.jsxs("div",{children:[m.jsx("h3",{className:"dashboard-summary-card-title",children:t})," ",m.jsx("p",{className:`dashboard-summary-card-count ${a.replace("text-","dashboard-count-")}`,children:e})]}),l&&m.jsx("div",{className:"dashboard-summary-card-icon",children:l})," "]}),m.jsxs(ns,{to:n,className:"dashboard-summary-card-link",children:[s," "]})]}),ao=({title:t,linkTo:e,bgColor:n,icon:s})=>m.jsx(ns,{to:e,className:`dashboard-action-button dashboard-action-bg-${n.split("-")[1]}`,children:m.jsxs("div",{className:"dashboard-action-button-content",children:[" ",s&&m.jsx("div",{className:"dashboard-action-button-icon",children:s})," ",m.jsx("span",{className:"dashboard-action-button-text",children:t})," "]})}),w4=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[" ",m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]}),_4=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[" ",m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]}),S4=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[" ",m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})]}),j4=()=>{const[t,e]=E.useState({products:0,categories:0,announcements:0}),[n,s]=E.useState(!0),[a,l]=E.useState(null);return E.useEffect(()=>{(async()=>{try{s(!0);const[d,h,f]=await Promise.all([ue.from("products").select("id",{count:"exact"}),ue.from("categories").select("id",{count:"exact"}),ue.from("announcements").select("id",{count:"exact"})]);if(d.error)throw new Error(d.error.message);if(h.error)throw new Error(h.error.message);if(f.error)throw new Error(f.error.message);e({products:d.count||0,categories:h.count||0,announcements:f.count||0})}catch(d){console.error("Error fetching dashboard data:",d),l(d.message||"Failed to load dashboard data")}finally{s(!1)}})()},[]),m.jsxs("div",{className:"dashboard-container",children:[" ",m.jsxs("div",{className:"dashboard-header",children:[" ",m.jsx("h1",{className:"dashboard-title",children:"Dashboard"})," ",m.jsx("p",{className:"dashboard-subtitle",children:"Manage your digital signage content"})," "]}),n?m.jsxs("div",{className:"dashboard-loading",children:[" ",m.jsxs("svg",{className:"dashboard-loading-spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[" ",m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"dashboard-loading-text",children:"Loading dashboard data..."})," "]}):a?m.jsxs("div",{className:"dashboard-error-container",children:[" ",m.jsxs("div",{className:"dashboard-error",children:[" ",m.jsxs("div",{className:"flex-shrink-0",children:[" ",m.jsxs("svg",{className:"dashboard-error-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})]})]}),m.jsxs("div",{children:[" ",m.jsxs("p",{className:"dashboard-error-text",children:[" ",a]})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"dashboard-grid dashboard-summary-grid",children:[" ",m.jsx(Xh,{title:"Products",count:t.products,linkTo:"/admin/products",linkText:"Manage Products",color:"text-blue-600",icon:m.jsx(w4,{})}),m.jsx(Xh,{title:"Categories",count:t.categories,linkTo:"/admin/categories",linkText:"Manage Categories",color:"text-green-600",icon:m.jsx(_4,{})}),m.jsx(Xh,{title:"Announcements",count:t.announcements,linkTo:"/admin/announcements",linkText:"Manage Announcements",color:"text-yellow-600",icon:m.jsx(S4,{})})]}),m.jsxs("div",{className:"dashboard-actions-section",children:[" ",m.jsx("h2",{className:"dashboard-actions-title",children:"Quick Actions"})," ",m.jsxs("div",{className:"dashboard-grid dashboard-actions-grid",children:[" ",m.jsx(ao,{title:"Add New Product",linkTo:"/admin/products",bgColor:"bg-blue-600",icon:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),m.jsx(ao,{title:"Add New Category",linkTo:"/admin/categories/new",bgColor:"bg-green-600",icon:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),m.jsx(ao,{title:"Add Announcement",linkTo:"/admin/announcements",bgColor:"bg-yellow-600",icon:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),m.jsx(ao,{title:"System Settings",linkTo:"/admin/settings",bgColor:"bg-purple-600",icon:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),m.jsx(ao,{title:"View Display",linkTo:"/",bgColor:"bg-gray-800",icon:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),m.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})]})]})]})},E4=()=>{const[t,e]=E.useState([]),[n,s]=E.useState([]),[a,l]=E.useState(!0),[c,d]=E.useState(null),[h,f]=E.useState(""),[g,v]=E.useState(""),[b,x]=E.useState(""),[_,T]=E.useState(!1);E.useEffect(()=>{(async()=>{try{l(!0);const{data:I,error:C}=await ue.from("categories").select("id, name").order("name");if(C)throw new Error(C.message);I&&s(I);const{data:j,error:N}=await ue.from("products").select(`
            *,
            category:categories(name),
            prices:product_prices(*)
          `).order("name");if(N)throw new Error(N.message);j&&e(j)}catch(I){console.error("Error fetching products:",I),d(I.message||"Failed to load products")}finally{l(!1)}})()},[]);const R=t.filter(P=>{const I=h===""||P.name.toLowerCase().includes(h.toLowerCase())||P.description&&P.description.toLowerCase().includes(h.toLowerCase()),C=g===""||P.category_id===g;let j=!0;return b==="active"?j=P.active===!0:b==="inactive"?j=P.active===!1:b==="featured"?j=P.featured===!0:b==="special"&&(j=P.special===!0),I&&C&&j}),k=P=>{if(!P.prices||P.prices.length===0)return dt(0);if(P.prices.length===1)return dt(P.prices[0].price);const I=Math.min(...P.prices.map(j=>j.price)),C=Math.max(...P.prices.map(j=>j.price));return I!==C?`${dt(I)} - ${dt(C)}`:dt(I)},U=P=>{if(!P.special||!P.prices||P.prices.length===0)return m.jsx("span",{className:"product-price-current",children:k(P)});const I=P.prices[0];if(!I.original_price)return m.jsx("span",{className:"product-price-current",children:dt(I.price)});const C=Math.round((I.original_price-I.price)/I.original_price*100);return m.jsxs("div",{className:"product-price-special",children:[" ",m.jsx("span",{className:"product-price-current",children:dt(I.price)})," ",m.jsx("span",{className:"product-price-original",children:dt(I.original_price)})," ",C>0&&m.jsxs("span",{className:"product-price-discount",children:["Save ",C,"%"]})," "]})},z=async(P,I,C)=>{try{l(!0);const{error:j}=await ue.from("products").update({[I]:!C}).eq("id",P);if(j)throw new Error(j.message);e(t.map(N=>N.id===P?{...N,[I]:!C}:N))}catch(j){console.error(`Error toggling product ${I}:`,j),d(`Failed to update product: ${j.message}`)}finally{l(!1)}},A=async P=>{if(window.confirm("Are you sure you want to delete this product? This action cannot be undone."))try{T(!0);const{error:I}=await ue.from("products").delete().eq("id",P);if(I)throw new Error(I.message);e(t.filter(C=>C.id!==P))}catch(I){console.error("Error deleting product:",I),d(`Failed to delete product: ${I.message}`)}finally{T(!1)}},L=({label:P,color:I})=>m.jsxs("span",{className:`status-badge ${I}`,children:[" ",P]});return m.jsxs("div",{className:"product-page-container",children:[" ",m.jsxs("div",{className:"page-header",children:[" ",m.jsx("h1",{className:"page-title",children:"Products"})," ",m.jsx(ns,{to:"/admin/products/new",className:"admin-button admin-button-primary",children:"Add New Product"})]}),m.jsxs("div",{className:"product-filter-bar",children:[" ",m.jsxs("div",{className:"product-filter-search",children:[" ",m.jsx("label",{htmlFor:"search",className:"form-label",children:"Search"})," ",m.jsxs("div",{className:"form-input-wrapper form-input-with-icon",children:[" ",m.jsxs("div",{className:"form-input-icon",children:[" ",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),m.jsx("input",{type:"text",name:"search",id:"search",className:"form-input",placeholder:"Search products...",value:h,onChange:P=>f(P.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"category",className:"form-label",children:"Category"})," ",m.jsxs("select",{id:"category",name:"category",className:"form-select",value:g,onChange:P=>v(P.target.value),children:[m.jsx("option",{value:"",children:"All Categories"}),n.map(P=>m.jsx("option",{value:P.id,children:P.name},P.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"})," ",m.jsxs("select",{id:"status",name:"status",className:"form-select",value:b,onChange:P=>x(P.target.value),children:[m.jsx("option",{value:"",children:"All Products"}),m.jsx("option",{value:"active",children:"Active Only"}),m.jsx("option",{value:"inactive",children:"Inactive Only"}),m.jsx("option",{value:"featured",children:"Featured Only"}),m.jsx("option",{value:"special",children:"Special Offers Only"})]})]})]}),c&&m.jsxs("div",{className:"alert alert-error",children:[" ",m.jsxs("div",{className:"alert-icon",children:[" ",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]}),m.jsxs("div",{className:"alert-content",children:[" ",m.jsx("p",{children:c})]})]}),m.jsxs("div",{className:"product-list-container",children:[" ",a?m.jsxs("div",{className:"loading-indicator",children:[" ",m.jsxs("svg",{className:"loading-spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"loading-text",children:"Loading products..."})," "]}):R.length===0?m.jsxs("div",{className:"empty-state",children:[" ",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"empty-state-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),m.jsx("h3",{className:"empty-state-title",children:"No products found"})," ",m.jsxs("p",{className:"empty-state-message",children:[" ",h||g||b?"Try adjusting your filters.":"Get started by creating a new product."]}),m.jsxs("div",{className:"mt-6",children:[" ",m.jsxs(ns,{to:"/admin/products/new",className:"admin-button admin-button-primary",children:[m.jsx("svg",{className:"admin-button-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Product"]})]})]}):m.jsxs("div",{className:"product-list",children:[" ",R.map(P=>{var I;return m.jsxs("div",{className:"product-card",children:[" ",m.jsxs("div",{className:"product-card-grid",children:[" ",m.jsxs("div",{className:"product-image-column",children:[" ",m.jsxs("div",{className:"product-image-container",children:[" ",P.image_url?m.jsx("img",{src:`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${P.image_url}`,alt:P.name,className:"product-image",onError:C=>{const j=C.target;j.src="/placeholder.svg"}}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"product-image-placeholder-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]}),m.jsxs("div",{className:"product-info-column",children:[" ",m.jsxs("div",{className:"product-info",children:[" ",m.jsxs("div",{className:"product-info-header",children:[" ",m.jsx("h3",{className:"product-name",children:P.name})," ",m.jsxs("div",{className:"product-status-badges",children:[" ",P.active&&m.jsx(L,{label:"Active",color:"bg-green-100 text-green-800"}),!P.active&&m.jsx(L,{label:"Inactive",color:"bg-gray-100 text-gray-800"}),P.featured&&m.jsx(L,{label:"Featured",color:"bg-blue-100 text-blue-800"}),P.special&&m.jsx(L,{label:"Special",color:"bg-red-100 text-red-800"})]})]}),m.jsxs("p",{className:"product-description",children:[" ",P.description||"No description provided"]}),m.jsxs("div",{className:"product-category-info",children:[" ","Category: ",m.jsx("span",{className:"product-category-name",children:((I=P.category)==null?void 0:I.name)||"Uncategorized"})," "]})]})]}),m.jsxs("div",{className:"product-price-column",children:[" ",U(P)]}),m.jsxs("div",{className:"product-actions-column",children:[" ",m.jsxs("div",{className:"product-actions",children:[" ",m.jsxs(ns,{to:`/admin/products/edit/${P.id}`,className:"admin-button-icon admin-button-edit",title:"Edit Product",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),m.jsx("span",{className:"sr-only",children:"Edit"})]}),m.jsxs("button",{onClick:()=>A(P.id),disabled:_,className:"admin-button-icon admin-button-delete",title:"Delete Product",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),m.jsx("span",{className:"sr-only",children:"Delete"})]}),m.jsxs("div",{className:"product-status-toggles",children:[" ",m.jsxs("button",{onClick:()=>z(P.id,"active",P.active),className:`status-toggle ${P.active?"status-toggle-active bg-green-500":"bg-gray-200"}`,title:P.active?"Deactivate Product":"Activate Product",children:[m.jsx("div",{className:`status-toggle-knob ${P.active?"status-toggle-knob-active":""}`})," ",m.jsx("span",{className:"sr-only",children:"Toggle active status"})]}),m.jsxs("button",{onClick:()=>z(P.id,"featured",P.featured),className:`status-toggle ${P.featured?"status-toggle-active bg-blue-500":"bg-gray-200"}`,title:P.featured?"Remove from Featured":"Mark as Featured",children:[m.jsx("div",{className:`status-toggle-knob ${P.featured?"status-toggle-knob-active":""}`})," ",m.jsx("span",{className:"sr-only",children:"Toggle featured status"})]}),m.jsxs("button",{onClick:()=>z(P.id,"special",P.special),className:`status-toggle ${P.special?"status-toggle-active bg-red-500":"bg-gray-200"}`,title:P.special?"Remove Special Offer":"Mark as Special Offer",children:[m.jsx("div",{className:`status-toggle-knob ${P.special?"status-toggle-knob-active":""}`})," ",m.jsx("span",{className:"sr-only",children:"Toggle special status"})]})]})]})]})]})]},P.id)})]})]})]})};var H1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qb=Yn.createContext&&Yn.createContext(H1),T4=["attr","size","title"];function C4(t,e){if(t==null)return{};var n=k4(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function k4(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zc.apply(this,arguments)}function Zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zb(Object(n),!0).forEach(function(s){A4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function A4(t,e,n){return e=R4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4(t){var e=N4(t,"string");return typeof e=="symbol"?e:e+""}function N4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1(t){return t&&t.map((e,n)=>Yn.createElement(e.tag,Lc({key:n},e.attr),$1(e.child)))}function Vt(t){return e=>Yn.createElement(M4,zc({attr:Lc({},t.attr)},e),$1(t.child))}function M4(t){var e=n=>{var{attr:s,size:a,title:l}=t,c=C4(t,T4),d=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Yn.createElement("svg",zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:h,style:Lc(Lc({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Yn.createElement("title",null,l),t.children)};return Qb!==void 0?Yn.createElement(Qb.Consumer,null,n=>e(n)):e(H1)}function Dm(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function D4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function O4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function z4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function L4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function xo(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function Om(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function P4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function B4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function U4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function V4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function q4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function H4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(t)}function $4(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function I1(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function F1(t){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const zm=({bucket:t,onUploadComplete:e})=>{const[n,s]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState(null),[h,f]=E.useState(0),g=E.useRef(null),v=_=>{if(l(null),!_.target.files||_.target.files.length===0){d(null);return}const T=_.target.files[0];if(!T.type.startsWith("image/")){l("Please select a valid image file."),d(null);return}if(T.size>5*1024*1024){l("Image size must be less than 5MB."),d(null);return}d(T)},b=async()=>{var _;if(!c){l("Please select an image to upload.");return}try{s(!0),l(null),f(0);const T=(_=c.name.split(".").pop())==null?void 0:_.toLowerCase();if(!T||!["jpg","jpeg","png","gif","webp"].includes(T))throw new Error("Invalid file type. Please upload a JPG, PNG, GIF, or WebP image.");const k=c.name.split(".")[0].toLowerCase().replace(/\s+/g,"-"),U=new Date().getTime(),z=`${k}_${U}.${T}`,A=setInterval(()=>{f(P=>{const I=P+Math.random()*15;return I>90?90:I})},300),{error:L}=await ue.storage.from(t).upload(z,c,{cacheControl:"3600",upsert:!0});if(clearInterval(A),f(100),L)throw L;e(`${t}/${z}`),g.current&&(g.current.value=""),d(null),setTimeout(()=>{f(0)},1e3)}catch(T){l(T instanceof Error?T.message:"Error uploading file"),console.error("Detailed upload error object:",T)}finally{s(!1)}},x=()=>{d(null),g.current&&(g.current.value="")};return m.jsxs("div",{className:"image-uploader",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image"}),m.jsxs("div",{className:"mt-1 flex flex-col space-y-4",children:[m.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 ${c?"border-blue-300 bg-blue-50":"border-gray-300 border-dashed"} rounded-md transition-colors duration-200 hover:bg-gray-50`,children:m.jsxs("div",{className:"space-y-1 text-center",children:[m.jsx(xo,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsxs("div",{className:"flex text-sm text-gray-600",children:[m.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[m.jsx("span",{children:"Select a file"}),m.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:v,accept:"image/*",disabled:n,ref:g})]}),m.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),m.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, WebP up to 5MB"}),c&&m.jsxs("div",{className:"mt-2 text-sm text-gray-900 font-medium",children:["Selected: ",c.name," (",(c.size/1024).toFixed(1)," KB)"]})]})}),h>0&&m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:m.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${h}%`}})}),c&&!n&&m.jsxs("div",{className:"flex space-x-3",children:[m.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[m.jsx(I1,{className:"h-5 w-5 mr-2"}),"Upload"]}),m.jsx("button",{type:"button",onClick:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"})]}),n&&m.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[m.jsx(Om,{className:"animate-spin h-5 w-5 text-blue-600 mr-2"}),m.jsx("span",{children:"Uploading image..."})]})]})]}),a&&m.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mt-2 rounded-md",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Dm,{className:"h-5 w-5 text-red-400"})}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm font-medium text-red-800",children:a})})]})})]})},I4=["branding","products","uniforms","ui-elements","announcements","categories"],Lm=({currentImage:t=null,onSelect:e,onDelete:n,bucket:s="products"})=>{const[a,l]=E.useState(!1),[c,d]=E.useState(s),[h,f]=E.useState([]),[g,v]=E.useState(null),[b,x]=E.useState(!1),[_,T]=E.useState(!1),[R,k]=E.useState(""),[U,z]=E.useState(null),A=D=>{d(D),v(null),k("")};E.useEffect(()=>{(async()=>{if(a){x(!0),z(null);try{const{data:V,error:te}=await ue.storage.from(c).list("",{sortBy:{column:"name",order:"asc"}});if(te)throw te;if(V){const se=`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${c}`,ae=V.filter(H=>H.id&&!H.id.endsWith("/")).map((H,X)=>{var ne;return H.id?{name:H.name,id:H.id,size:((ne=H.metadata)==null?void 0:ne.size)||0,url:`${se}/${H.name}`,bucketPath:`${c}/${H.name}`,created_at:H.created_at||"",metadata:H.metadata||{}}:(console.warn(`ImageManager: Item at index ${X} is missing an ID in bucket ${c}. Skipping.`),null)}).filter(H=>H!==null);if(f(ae),t){const H=t.includes("/")?t:`${c}/${t}`,X=ae.find(ne=>ne.bucketPath===H);v(X||null)}else v(null)}}catch(V){console.error(`ImageManager Error fetching images from ${c}:`,V),z(`Failed to load images from bucket "${c}": ${V.message}`)}finally{x(!1)}}})()},[c,a]),E.useEffect(()=>{if(a&&t&&h.length>0){const D=t.includes("/")?t:`${c}/${t}`,V=h.find(te=>te.bucketPath===D);V&&V.bucketPath.startsWith(c+"/")?v(V):v(null)}else a&&!t&&v(null)},[a,t,h,c]);const L=h.filter(D=>D.name.toLowerCase().includes(R.toLowerCase())),P=async D=>{if(!D.target.files||D.target.files.length===0)return;const V=D.target.files[0];try{T(!0),z(null);const te=V.name.toLowerCase().replace(/[^a-z0-9.]/g,"-").replace(/-+/g,"-"),{data:se,error:ae}=await ue.storage.from(c).upload(te,V,{upsert:!0});if(ae)throw ae;if(se){const{data:H,error:X}=await ue.storage.from(c).list("",{sortBy:{column:"name",order:"asc"}});if(X)throw X;const ne=`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${c}`,ie=(H||[]).filter(F=>{var J;return!((J=F.id)!=null&&J.endsWith("/"))}).map(F=>{var J;return{name:F.name,id:F.id,size:((J=F.metadata)==null?void 0:J.size)||0,url:`${ne}/${F.name}`,bucketPath:`${c}/${F.name}`,created_at:F.created_at||"",metadata:F.metadata||{}}});f(ie);const M=ie.find(F=>F.name===te);M&&v(M)}}catch(te){z(`Upload failed: ${te.message}`)}finally{T(!1)}},I=D=>v(D),C=E.useCallback(async(D,V)=>{if(V.stopPropagation(),!!window.confirm(`Are you sure you want to delete "${D.name}"? This cannot be undone.`))try{z(null);const{error:te}=await ue.storage.from(c).remove([D.name]);if(te)throw te;f(se=>se.filter(ae=>ae.id!==D.id)),(g==null?void 0:g.id)===D.id&&v(null),console.log(`Successfully deleted ${D.name}`),n&&t===D.bucketPath&&n(D.bucketPath)}catch(te){console.error("Error deleting image:",te),z(`Failed to delete image: ${te.message}`)}},[c,g,t,n]),j=()=>{g&&(e(g.bucketPath),l(!1))},N=D=>{if(D===0)return"0 Bytes";const V=1024,te=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(D)/Math.log(V));return parseFloat((D/Math.pow(V,se)).toFixed(2))+" "+te[se]};return m.jsxs("div",{className:"image-manager-container",children:[" ",m.jsxs("div",{className:"form-image-preview-container",children:[" ",m.jsxs("div",{className:"form-image-preview",children:[" ",m.jsx("div",{style:{height:"8rem",width:"8rem",backgroundColor:"#f3f4f6",borderRadius:"0.375rem",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",border:"1px solid #e5e7eb"},children:t?m.jsx("img",{src:`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${t}`,alt:"Selected",style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"},onError:D=>{D.target.src="/placeholder.svg"}}):m.jsx(xo,{style:{height:"2.5rem",width:"2.5rem",color:"#9ca3af"}})})]}),m.jsx("button",{type:"button",className:"admin-button admin-button-secondary",style:{marginTop:"0.5rem"},onClick:()=>l(!0),children:"Select Image"}),t&&m.jsx("p",{className:"form-image-preview-text",style:{marginTop:"0.5rem",fontSize:"0.8rem"},children:t})]}),a&&m.jsx("div",{className:"image-manager-modal-overlay",onClick:()=>l(!1),children:m.jsxs("div",{className:"image-manager-modal-content",onClick:D=>D.stopPropagation(),children:[" ",m.jsxs("div",{className:"image-manager-modal-header",children:[m.jsx("h3",{children:"Media Library"}),m.jsx("button",{onClick:()=>l(!1),className:"image-manager-modal-close-btn",children:m.jsx(F1,{})})]}),m.jsxs("div",{className:"image-manager-modal-body",children:[m.jsx("div",{className:"image-manager-tabs",children:I4.map(D=>m.jsx("button",{onClick:()=>A(D),className:`image-manager-tab ${c===D?"active":""}`,children:D.charAt(0).toUpperCase()+D.slice(1)},D))}),m.jsxs("div",{className:"image-manager-toolbar",children:[m.jsxs("div",{className:"image-manager-search",children:[m.jsx(V4,{}),m.jsx("input",{type:"text",placeholder:"Search images...",value:R,onChange:D=>k(D.target.value)})]}),m.jsxs("label",{className:"admin-button admin-button-primary",style:{cursor:"pointer"},children:[" ",m.jsx(I1,{style:{marginRight:"0.5rem"}})," Upload",m.jsx("input",{type:"file",accept:"image/*",onChange:P,disabled:_,style:{display:"none"}})]})]}),U&&m.jsxs("div",{className:"alert alert-error",style:{margin:"1rem 0"},children:[" ",m.jsx("div",{className:"alert-icon",children:m.jsx(Dm,{})}),m.jsxs("div",{className:"alert-content",children:[m.jsx("p",{children:m.jsx("strong",{children:"Error loading images:"})}),m.jsx("p",{children:U})]})]}),m.jsxs("div",{className:"image-manager-main-content",children:[" ",m.jsx("div",{className:"image-manager-grid",children:b?m.jsx("div",{className:"loading-indicator",children:m.jsx(Om,{className:"loading-spinner"})}):L.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx(xo,{className:"empty-state-icon"}),m.jsx("p",{children:R?"No images match search":"No images in bucket"})]}):L.map(D=>m.jsxs("div",{onClick:()=>I(D),className:`image-manager-grid-item ${(g==null?void 0:g.id)===D.id?"selected":""}`,children:[m.jsxs("button",{className:"image-manager-delete-btn",title:`Delete ${D.name}`,onClick:V=>C(D,V),children:[m.jsx($4,{size:10})," "]}),m.jsx("img",{src:D.url,alt:D.name,onError:V=>{V.target.src="/placeholder.svg"}}),(g==null?void 0:g.id)===D.id&&m.jsx(z4,{className:"selected-icon",size:12})," ",m.jsx("div",{className:"image-name",children:D.name})]},D.id))})," ",m.jsx("div",{className:"image-manager-details-sidebar",children:g?m.jsxs(m.Fragment,{children:[m.jsx("h4",{children:"Selected Image"}),m.jsx("img",{src:g.url,alt:"Preview",className:"details-preview-image",onError:D=>{D.target.src="/placeholder.svg"}}),m.jsxs("div",{className:"details-info",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Name:"})," ",g.name]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Size:"})," ",N(g.size)]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Path:"})," ",g.bucketPath]})]})]}):m.jsxs("div",{className:"details-placeholder",children:[m.jsx(xo,{size:32})," ",m.jsx("p",{children:"Select an image to see details"})]})})," "]})," "]})," ",m.jsxs("div",{className:"image-manager-modal-footer",children:[" ",m.jsx("button",{onClick:()=>l(!1),className:"admin-button admin-button-secondary",children:"Cancel"}),m.jsx("button",{onClick:j,disabled:!g||_,className:"admin-button admin-button-primary",children:_?"Uploading...":"Select Image"})]})]})})]})},G1=({categoryId:t,onSave:e,onCancel:n})=>{const[s,a]=E.useState({name:"",description:null,image_url:null,icon:null,color:null,display_order:null}),[l,c]=E.useState(!1),[d,h]=E.useState(!1),[f,g]=E.useState(null),[v,b]=E.useState(null),x=!!t;E.useEffect(()=>{x?(async()=>{try{c(!0),g(null);const{data:L,error:P}=await ue.from("categories").select("*").eq("id",t).single();if(P)throw new Error(`Error fetching category: ${P.message}`);L&&a(L)}catch(L){g(L instanceof Error?L.message:"An unknown error occurred"),console.error("Error fetching category data:",L)}finally{c(!1)}})():a({name:"",description:null,image_url:null,icon:null,color:null,display_order:null})},[t,x]);const _=A=>{const{name:L,value:P}=A.target;a(I=>({...I,[L]:P===""?null:P}))},T=A=>{const{name:L,value:P}=A.target;a(I=>({...I,[L]:P===""?null:parseInt(P,10)||null}))},R=E.useCallback(A=>{a(L=>({...L,image_url:A})),b("Image uploaded successfully!"),setTimeout(()=>b(null),3e3)},[]),k=E.useCallback(A=>{a(L=>({...L,image_url:A})),b("Image selected successfully!"),setTimeout(()=>b(null),3e3)},[]),U=E.useCallback(()=>{a(A=>({...A,image_url:null}))},[]),z=async A=>{A.preventDefault();try{if(h(!0),g(null),!s.name)throw new Error("Category name is required");const L={name:s.name,description:s.description,image_url:s.image_url,icon:s.icon,color:s.color,display_order:s.display_order};if(x){const{error:P}=await ue.from("categories").update(L).eq("id",t);if(P)throw new Error(`Error updating category: ${P.message}`)}else{const{error:P}=await ue.from("categories").insert(L);if(P)throw new Error(`Error creating category: ${P.message}`)}b("Category saved successfully!"),e()}catch(L){g(L instanceof Error?L.message:"An unknown error occurred"),console.error("Error saving category:",L)}finally{h(!1)}};return l?m.jsxs("div",{className:"loading-indicator",children:[m.jsxs("svg",{className:"loading-spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"loading-text",children:"Loading category data..."})]}):m.jsxs("div",{className:"form-container",children:[" ",m.jsx("h2",{className:"form-title",children:x?"Edit Category":"Create New Category"})," ",f&&m.jsxs("div",{className:"alert alert-error",children:[" ",m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:f})})]}),v&&m.jsxs("div",{className:"alert alert-success",children:[" ",m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:v})})]}),m.jsxs("form",{onSubmit:z,children:[m.jsxs("div",{className:"form-grid",children:[" ",m.jsxs("div",{className:"form-column",children:[" ",m.jsxs("div",{className:"form-group",children:[" ",m.jsx("label",{htmlFor:"name",className:"form-label",children:"Category Name*"}),m.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:_,className:"form-input",required:!0})]}),m.jsxs("div",{className:"form-group",children:[" ",m.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),m.jsx("textarea",{id:"description",name:"description",value:s.description||"",onChange:_,rows:3,className:"form-textarea"})]}),m.jsxs("div",{className:"form-group",children:[" ",m.jsx("label",{htmlFor:"display_order",className:"form-label",children:"Display Order (Optional)"}),m.jsx("input",{type:"number",id:"display_order",name:"display_order",value:s.display_order??"",onChange:T,className:"form-input",placeholder:"Lower numbers appear first"})]}),m.jsxs("div",{className:"form-group",children:[" ",m.jsx("label",{htmlFor:"icon",className:"form-label",children:"Icon (FontAwesome class, e.g., 'tshirt')"}),m.jsx("input",{type:"text",id:"icon",name:"icon",value:s.icon||"",onChange:_,className:"form-input",placeholder:"e.g., pen-nib, palette"})]}),m.jsxs("div",{className:"form-group",children:[" ",m.jsx("label",{htmlFor:"color",className:"form-label",children:"Color (Hex code, e.g., #3b82f6)"}),m.jsxs("div",{className:"form-color-input-wrapper",children:[" ",m.jsx("input",{type:"color",id:"color-picker",value:s.color||"#ffffff",onChange:A=>a(L=>({...L,color:A.target.value})),className:"form-color-picker"}),m.jsx("input",{type:"text",id:"color",name:"color",value:s.color||"",onChange:_,className:"form-input",placeholder:"#RRGGBB"})]})]})]}),m.jsx("div",{className:"form-column",children:m.jsxs("div",{className:"form-section",children:[" ",m.jsx("h3",{className:"form-section-title",children:"Category Image (Optional)"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"Select or Upload Image"}),m.jsx(Lm,{currentImage:s.image_url,onSelect:k,onDelete:U,bucket:"categories"})]}),m.jsxs("div",{className:"form-group",style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[m.jsx("label",{className:"form-label",children:"Upload New Image"}),m.jsx(zm,{bucket:"categories",onUploadComplete:R})]})]})})]}),m.jsxs("div",{className:"form-actions",children:[" ",m.jsx("button",{type:"button",onClick:n,className:"admin-button admin-button-secondary",disabled:d,children:"Cancel"}),m.jsx("button",{type:"submit",className:"admin-button admin-button-primary",disabled:d,children:d?"Saving...":x?"Update Category":"Create Category"})]})]})]})},F4=()=>{const[t,e]=E.useState([]),[n,s]=E.useState(!0),[a,l]=E.useState(null),[c,d]=E.useState(!1),[h,f]=E.useState(null),g=async()=>{try{s(!0),l(null);const{data:R,error:k}=await ue.from("categories").select("*").order("display_order",{ascending:!0,nullsFirst:!1}).order("name");if(k)throw new Error(`Error fetching categories: ${k.message}`);e(R||[])}catch(R){l(R instanceof Error?R.message:"An unknown error occurred"),console.error("Error fetching categories:",R)}finally{s(!1)}};E.useEffect(()=>{g()},[]);const v=()=>{f(null),d(!0)},b=R=>{f(R),d(!0)},x=async R=>{if(window.confirm("Are you sure you want to delete this category? Deleting a category might affect associated products."))try{s(!0);const{error:k}=await ue.from("categories").delete().eq("id",R);if(k)throw k.code==="23503"?new Error("Cannot delete category: It is currently associated with one or more products."):new Error(`Error deleting category: ${k.message}`);await g()}catch(k){l(k instanceof Error?k.message:"An unknown error occurred"),console.error("Error deleting category:",k)}finally{s(!1)}},_=()=>{d(!1),f(null),g()},T=()=>{d(!1),f(null)};return n&&!c?m.jsxs("div",{className:"loading-indicator",children:[" ",m.jsxs("svg",{className:"loading-spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"loading-text",children:"Loading categories..."})," "]}):c?m.jsx("div",{children:m.jsx(G1,{categoryId:h||void 0,onSave:_,onCancel:T})}):m.jsxs("div",{className:"category-page-container",children:[" ",m.jsxs("div",{className:"page-header",children:[" ",m.jsx("h1",{className:"page-title",children:"Categories"})," ",m.jsx("button",{onClick:v,className:"admin-button admin-button-primary",children:"Add New Category"})]}),a&&m.jsxs("div",{className:"alert alert-error mb-6",children:[" ",m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:a})})]}),t.length===0?m.jsxs("div",{className:"empty-state",children:[" ",m.jsx("h3",{className:"empty-state-title",children:"No categories found"}),m.jsx("p",{className:"empty-state-message",children:'Click "Add New Category" to create one.'})]}):m.jsxs("div",{className:"admin-table-container",children:[" ",m.jsxs("table",{className:"admin-table",children:[" ",m.jsxs("thead",{className:"admin-table-header",children:[" ",m.jsxs("tr",{children:[m.jsx("th",{children:"Order"}),m.jsx("th",{children:"Image"}),m.jsx("th",{children:"Name"}),m.jsx("th",{children:"Description"}),m.jsx("th",{children:"Icon/Color"}),m.jsx("th",{className:"text-right",children:"Actions"})," "]})]}),m.jsxs("tbody",{className:"admin-table-body",children:[" ",t.map(R=>(console.log("Rendering category:",R),m.jsxs("tr",{children:[m.jsx("td",{children:R.display_order??"-"}),m.jsx("td",{children:m.jsxs("div",{className:"category-image-container",children:[" ",R.image_url?m.jsx("img",{src:`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${R.image_url}`,alt:R.name,className:"category-image",onError:k=>{var A;const U=k.target;U.style.display="none";const z=(A=U.parentElement)==null?void 0:A.querySelector(".category-image-placeholder");z instanceof HTMLElement&&(z.style.display="flex")}}):m.jsxs("div",{className:"category-image-placeholder",style:{display:R.image_url?"none":"flex"},children:[" ",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"product-image-placeholder-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",color:"#9ca3af"},children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]})}),m.jsxs("td",{children:[m.jsx("div",{className:"category-name",children:R.name})," "]}),m.jsx("td",{children:m.jsxs("div",{className:"category-description",children:[" ",R.description||"-"]})}),m.jsxs("td",{children:[R.icon&&m.jsx("i",{className:`category-icon fas fa-${R.icon}`})," ",R.color&&m.jsx("span",{className:"category-color-swatch",style:{backgroundColor:R.color}})," ",!R.icon&&!R.color&&"-"]}),m.jsxs("td",{className:"text-right",children:[" ",m.jsx("button",{onClick:()=>b(R.id),className:"admin-button-link admin-button-edit-link",children:"Edit"}),m.jsx("button",{onClick:()=>x(R.id),className:"admin-button-link admin-button-delete-link",children:"Delete"})]})]},R.id)))]})]})]})]})},G4=({announcementId:t,onSave:e,onCancel:n})=>{const[s,a]=E.useState({title:"",content:null,image_url:null,type:"slide",active:!0,start_date:null,end_date:null}),[l,c]=E.useState(!1),[d,h]=E.useState(!1),[f,g]=E.useState(null),[v,b]=E.useState(null),x=!!t,_=z=>{if(!z)return"";try{return z.split("T")[0]}catch{return""}};E.useEffect(()=>{x?(async()=>{try{c(!0),g(null);const{data:A,error:L}=await ue.from("announcements").select("*").eq("id",t).single();if(L)throw new Error(`Error fetching announcement: ${L.message}`);A&&a({...A,start_date:A.start_date?_(A.start_date):null,end_date:A.end_date?_(A.end_date):null})}catch(A){g(A instanceof Error?A.message:"An unknown error occurred"),console.error("Error fetching announcement data:",A)}finally{c(!1)}})():a({title:"",content:null,image_url:null,type:"slide",active:!0,start_date:null,end_date:null})},[t,x]);const T=z=>{const{name:A,value:L,type:P}=z.target;if(P==="checkbox"){const I=z.target.checked;a(C=>({...C,[A]:I}))}else a(I=>({...I,[A]:A!=="title"&&A!=="type"&&L===""?null:L}))},R=E.useCallback(z=>{a(A=>({...A,image_url:z})),b("Image uploaded successfully!"),setTimeout(()=>b(null),3e3)},[]),k=E.useCallback(z=>{a(A=>({...A,image_url:z})),b("Image selected successfully!"),setTimeout(()=>b(null),3e3)},[]),U=async z=>{z.preventDefault();try{if(h(!0),g(null),!s.title)throw new Error("Announcement title is required");if(!s.type)throw new Error("Announcement type is required");let A=null,L=null;try{A=s.start_date?new Date(s.start_date).toISOString():null,L=s.end_date?new Date(s.end_date).toISOString():null}catch(I){throw console.error("Date parsing error:",I),new Error("Invalid date format. Please use YYYY-MM-DD.")}const P={title:s.title,content:s.content,image_url:s.image_url,type:s.type,active:s.active,start_date:A,end_date:L};if(x){P.updated_at=new Date().toISOString();const{error:I}=await ue.from("announcements").update(P).eq("id",t);if(I)throw new Error(`Error updating announcement: ${I.message}`)}else{const{error:I}=await ue.from("announcements").insert(P);if(I)throw new Error(`Error creating announcement: ${I.message}`)}b("Announcement saved successfully!"),e()}catch(A){console.error("--- Error Saving Announcement ---"),console.error("Raw Error Object:",A);let L="An unknown error occurred while saving the announcement.";if(A instanceof Error&&(console.error("Error Name:",A.name),console.error("Error Message:",A.message),console.error("Error Stack:",A.stack),L=A.message),A&&typeof A=="object"){"details"in A&&console.error("Error Details:",A.details),"hint"in A&&console.error("Error Hint:",A.hint),"code"in A&&console.error("Error Code:",A.code);try{console.error("Error JSON:",JSON.stringify(A))}catch(P){console.error("Could not stringify error object:",P)}"message"in A&&typeof A.message=="string"&&(L=A.message,"details"in A&&typeof A.details=="string"&&(L+=` Details: ${A.details}`),"hint"in A&&typeof A.hint=="string"&&(L+=` Hint: ${A.hint}`))}L.includes("Invalid Date")||L.includes("RangeError")?g("Invalid date format. Please use YYYY-MM-DD."):g(`Failed to save: ${L}`)}finally{h(!1)}};return l?m.jsx("div",{className:"p-4",children:"Loading announcement data..."}):m.jsxs("div",{className:"announcement-form-container",children:[m.jsx("h2",{className:"announcement-form-title",children:x?"Edit Announcement":"Create New Announcement"}),f&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:f}),v&&m.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded",children:v}),m.jsxs("form",{onSubmit:U,children:[m.jsxs("div",{className:"announcement-form-grid",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"announcement-form-group",children:[m.jsx("label",{htmlFor:"title",className:"announcement-form-label",children:"Title*"}),m.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:T,className:"announcement-form-input",required:!0})]}),m.jsxs("div",{className:"announcement-form-group",children:[m.jsx("label",{htmlFor:"content",className:"announcement-form-label",children:"Content (Optional)"}),m.jsx("textarea",{id:"content",name:"content",value:s.content||"",onChange:T,rows:4,className:"announcement-form-textarea"})]}),m.jsxs("div",{className:"announcement-form-group",children:[m.jsx("label",{htmlFor:"type",className:"announcement-form-label",children:"Type*"}),m.jsxs("select",{id:"type",name:"type",value:s.type,onChange:T,className:"announcement-form-select",required:!0,children:[m.jsx("option",{value:"slide",children:"Slide"}),m.jsx("option",{value:"ticker",children:"Ticker"}),m.jsx("option",{value:"popup",children:"Popup"})]})]}),m.jsxs("div",{className:"announcement-form-group",children:[m.jsx("label",{className:"announcement-form-label",children:"Schedule (Optional)"}),m.jsxs("div",{className:"announcement-form-dates",children:[m.jsxs("div",{className:"announcement-form-date-group",children:[m.jsx("label",{htmlFor:"start_date",className:"announcement-form-date-label",children:"Start Date"}),m.jsx("input",{type:"date",id:"start_date",name:"start_date",value:s.start_date||"",onChange:T,className:"announcement-form-input"})]}),m.jsxs("div",{className:"announcement-form-date-group",children:[m.jsx("label",{htmlFor:"end_date",className:"announcement-form-date-label",children:"End Date"}),m.jsx("input",{type:"date",id:"end_date",name:"end_date",value:s.end_date||"",onChange:T,className:"announcement-form-input"})]})]})]}),m.jsx("div",{className:"announcement-form-group",children:m.jsxs("div",{className:"announcement-form-checkbox",children:[m.jsx("input",{type:"checkbox",id:"active",name:"active",checked:s.active,onChange:T}),m.jsx("label",{htmlFor:"active",className:"announcement-form-label",children:"Active"})]})})]}),m.jsx("div",{children:m.jsxs("div",{className:"form-section",children:[" ",m.jsx("h3",{className:"form-section-title",children:"Image (Optional)"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"Select or Upload Image"}),m.jsx(Lm,{currentImage:s.image_url,onSelect:k,onDelete:()=>a(z=>({...z,image_url:null})),bucket:"announcements"})]}),m.jsxs("div",{className:"form-group",style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[m.jsx("label",{className:"form-label",children:"Upload New Image"}),m.jsx(zm,{bucket:"announcements",onUploadComplete:R})]})]})})]}),m.jsxs("div",{className:"announcement-form-buttons",children:[m.jsx("button",{type:"button",onClick:n,className:"announcement-form-button announcement-form-button-cancel",disabled:d,children:"Cancel"}),m.jsx("button",{type:"submit",className:"announcement-form-button announcement-form-button-save",disabled:d,children:d?"Saving...":x?"Update Announcement":"Create Announcement"})]})]})]})},Y4=()=>{const[t,e]=E.useState([]),[n,s]=E.useState(!0),[a,l]=E.useState(null),[c,d]=E.useState(""),[h,f]=E.useState(""),[g,v]=E.useState(!1),[b,x]=E.useState(!1),[_,T]=E.useState(null);E.useEffect(()=>{b||(async()=>{try{s(!0),l(null);const{data:N,error:D}=await ue.from("announcements").select("*").order("created_at",{ascending:!1});if(D)throw new Error(D.message);N&&e(N)}catch(N){console.error("Error fetching announcements:",N),l(`Failed to load announcements: ${N.message}`)}finally{s(!1)}})()},[b]);const R=t.filter(j=>{const N=c===""||j.type===c;let D=!0;if(h==="active")D=j.active===!0;else if(h==="inactive")D=j.active===!1;else if(h==="scheduled"){const V=new Date,te=j.start_date?new Date(j.start_date):null,se=j.end_date?new Date(j.end_date):null;D=!!(j.active===!0&&(te&&te>V||se&&se>V))}return N&&D}),k=async(j,N)=>{try{s(!0);const{error:D}=await ue.from("announcements").update({active:!N}).eq("id",j);if(D)throw new Error(D.message);e(t.map(V=>V.id===j?{...V,active:!N}:V))}catch(D){console.error("Error toggling announcement status:",D),l(`Failed to update announcement: ${D.message}`)}finally{s(!1)}},U=async j=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{v(!0);const{error:N}=await ue.from("announcements").delete().eq("id",j);if(N)throw new Error(N.message);e(t.filter(D=>D.id!==j))}catch(N){console.error("Error deleting announcement:",N),l(`Failed to delete announcement: ${N.message}`)}finally{v(!1)}},z=()=>{T(null),x(!0)},A=j=>{T(j),x(!0)},L=()=>{x(!1),T(null)},P=()=>{x(!1),T(null)},I=j=>{if(!j)return"Not set";try{return new Date(j).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}catch{return"Invalid Date"}},C=()=>m.jsxs("div",{children:[m.jsxs("div",{className:"product-filter-bar",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"type",className:"form-label",children:"Type"}),m.jsxs("select",{id:"type",name:"type",className:"form-select",value:c,onChange:j=>d(j.target.value),children:[m.jsx("option",{value:"",children:"All Types"}),m.jsx("option",{value:"ticker",children:"Ticker"}),m.jsx("option",{value:"slide",children:"Slide"}),m.jsx("option",{value:"popup",children:"Popup"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),m.jsxs("select",{id:"status",name:"status",className:"form-select",value:h,onChange:j=>f(j.target.value),children:[m.jsx("option",{value:"",children:"All Statuses"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"}),m.jsx("option",{value:"scheduled",children:"Scheduled"})]})]})]}),a&&m.jsx("div",{className:"alert alert-error mb-6",children:m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:a})})}),n?m.jsxs("div",{className:"loading-indicator",children:[m.jsxs("svg",{className:"loading-spinner",children:[" "," "]}),m.jsx("p",{className:"loading-text",children:"Loading announcements..."})]}):R.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx("h3",{className:"empty-state-title",children:"No announcements found"}),m.jsx("p",{className:"empty-state-message",children:c||h?"Try adjusting filters.":"Add a new announcement."})]}):m.jsx("div",{className:"announcement-cards",children:R.map(j=>m.jsxs("div",{className:"announcement-card",children:[m.jsxs("div",{className:"announcement-card-header",children:[m.jsx("h3",{className:"announcement-card-title",children:j.title}),m.jsxs("div",{className:"announcement-card-badges",children:[m.jsx("span",{className:`announcement-type-badge ${j.type}`,children:j.type.charAt(0).toUpperCase()+j.type.slice(1)}),m.jsx("span",{className:`announcement-status-badge ${j.active?"active":"inactive"}`,children:j.active?"Active":"Inactive"})]})]}),m.jsxs("div",{className:"announcement-card-content",children:[m.jsx("p",{className:"announcement-card-text",children:j.content}),m.jsxs("div",{className:"announcement-card-dates",children:[m.jsxs("div",{children:["Start: ",I(j.start_date)]}),m.jsxs("div",{children:["End: ",I(j.end_date)]})]})]}),j.image_url&&m.jsx("div",{className:"announcement-card-image",children:m.jsx("img",{src:`https://rwsjbkedgztplwzxoxks.supabase.co/storage/v1/object/public/${j.image_url}`,alt:j.title,onError:N=>{const D=N.target;D.style.display="none"}})}),m.jsxs("div",{className:"announcement-card-actions",children:[m.jsx("button",{onClick:()=>k(j.id,j.active),className:`status-toggle ${j.active?"bg-green-500":"bg-gray-200"}`,title:j.active?"Deactivate":"Activate",children:m.jsx("div",{className:`status-toggle-knob ${j.active?"status-toggle-knob-active":""}`})}),m.jsx("button",{onClick:()=>A(j.id),className:"admin-button admin-button-primary",children:"Edit"}),m.jsx("button",{onClick:()=>U(j.id),disabled:g,className:"admin-button admin-button-delete",children:"Delete"})]})]},j.id))})]});return m.jsxs("div",{className:"category-page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Announcements"}),m.jsx("button",{onClick:z,className:"admin-button admin-button-primary",children:"Add New Announcement"})]}),b?m.jsx(G4,{announcementId:_||void 0,onSave:L,onCancel:P}):C()]})};var xc={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var K4=xc.exports,Wb;function X4(){return Wb||(Wb=1,function(t,e){((n,s)=>{t.exports=s()})(K4,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,l=!s.document&&!!s.postMessage,c=s.IS_PAPA_WORKER||!1,d={},h=0,f={};function g(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var N=L(j);N.chunkSize=parseInt(N.chunkSize),j.step||j.chunk||(N.chunkSize=null),this._handle=new T(N),(this._handle.streamer=this)._config=N}).call(this,C),this.parseChunk=function(j,N){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let te=this._config.newline;te||(V=this._config.quoteChar||'"',te=this._handle.guessLineEndings(j,V)),j=[...j.split(te).slice(D)].join(te)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(V=this._config.beforeFirstChunk(j))!==void 0&&(j=V),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+j,V=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=V.meta.cursor,D=(this._finished||(this._partialLine=D.substring(j-this._baseIndex),this._baseIndex=j),V&&V.data&&(this._rowCount+=V.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)s.postMessage({results:V,workerId:f.WORKER_ID,finished:D});else if(I(this._config.chunk)&&!N){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=V=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),this._completed||!D||!I(this._config.complete)||V&&V.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||V&&V.meta.paused||this._nextChunk(),V}this._halted=!0},this._sendError=function(j){I(this._config.error)?this._config.error(j):c&&this._config.error&&s.postMessage({workerId:f.WORKER_ID,error:j,finished:!1})}}function v(C){var j;(C=C||{}).chunkSize||(C.chunkSize=f.RemoteChunkSize),g.call(this,C),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),l||(j.onload=P(this._chunkLoaded,this),j.onerror=P(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var N,D=this._config.downloadRequestHeaders;for(N in D)j.setRequestHeader(N,D[N])}var V;this._config.chunkSize&&(V=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+V));try{j.send(this._config.downloadRequestBody)}catch(te){this._chunkError(te.message)}l&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(N){N=j.statusText||N,this._sendError(new Error(N))}}function b(C){(C=C||{}).chunkSize||(C.chunkSize=f.LocalChunkSize),g.call(this,C);var j,N,D=typeof FileReader<"u";this.stream=function(V){this._input=V,N=V.slice||V.webkitSlice||V.mozSlice,D?((j=new FileReader).onload=P(this._chunkLoaded,this),j.onerror=P(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input,te=(this._config.chunkSize&&(te=Math.min(this._start+this._config.chunkSize,this._input.size),V=N.call(V,this._start,te)),j.readAsText(V,this._config.encoding));D||this._chunkLoaded({target:{result:te}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(j.error)}}function x(C){var j;g.call(this,C=C||{}),this.stream=function(N){return j=N,this._nextChunk()},this._nextChunk=function(){var N,D;if(!this._finished)return N=this._config.chunkSize,j=N?(D=j.substring(0,N),j.substring(N)):(D=j,""),this._finished=!j,this.parseChunk(D)}}function _(C){g.call(this,C=C||{});var j=[],N=!0,D=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):N=!0},this._streamData=P(function(V){try{j.push(typeof V=="string"?V:V.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(te){this._streamError(te)}},this),this._streamError=P(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=P(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(C){var j,N,D,V,te=Math.pow(2,53),se=-te,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,ne=0,ie=0,M=!1,F=!1,J=[],Q={data:[],errors:[],meta:{}};function re(ce){return C.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function he(){if(Q&&D&&($e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),D=!1),C.skipEmptyLines&&(Q.data=Q.data.filter(function(ye){return!re(ye)})),le()){let ye=function(Fe,Je){I(C.transformHeader)&&(Fe=C.transformHeader(Fe,Je)),J.push(Fe)};if(Q)if(Array.isArray(Q.data[0])){for(var ce=0;le()&&ce<Q.data.length;ce++)Q.data[ce].forEach(ye);Q.data.splice(0,1)}else Q.data.forEach(ye)}function _e(ye,Fe){for(var Je=C.header?{}:[],De=0;De<ye.length;De++){var Pe=De,Te=ye[De],Te=((st,be)=>(Ge=>(C.dynamicTypingFunction&&C.dynamicTyping[Ge]===void 0&&(C.dynamicTyping[Ge]=C.dynamicTypingFunction(Ge)),(C.dynamicTyping[Ge]||C.dynamicTyping)===!0))(st)?be==="true"||be==="TRUE"||be!=="false"&&be!=="FALSE"&&((Ge=>{if(ae.test(Ge)&&(Ge=parseFloat(Ge),se<Ge&&Ge<te))return 1})(be)?parseFloat(be):H.test(be)?new Date(be):be===""?null:be):be)(Pe=C.header?De>=J.length?"__parsed_extra":J[De]:Pe,Te=C.transform?C.transform(Te,Pe):Te);Pe==="__parsed_extra"?(Je[Pe]=Je[Pe]||[],Je[Pe].push(Te)):Je[Pe]=Te}return C.header&&(De>J.length?$e("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+De,ie+Fe):De<J.length&&$e("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+De,ie+Fe)),Je}var Ie;Q&&(C.header||C.dynamicTyping||C.transform)&&(Ie=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(_e),Ie=Q.data.length):Q.data=_e(Q.data,0),C.header&&Q.meta&&(Q.meta.fields=J),ie+=Ie)}function le(){return C.header&&J.length===0}function $e(ce,_e,Ie,ye){ce={type:ce,code:_e,message:Ie},ye!==void 0&&(ce.row=ye),Q.errors.push(ce)}I(C.step)&&(V=C.step,C.step=function(ce){Q=ce,le()?he():(he(),Q.data.length!==0&&(ne+=ce.data.length,C.preview&&ne>C.preview?N.abort():(Q.data=Q.data[0],V(Q,X))))}),this.parse=function(ce,_e,Ie){var ye=C.quoteChar||'"',ye=(C.newline||(C.newline=this.guessLineEndings(ce,ye)),D=!1,C.delimiter?I(C.delimiter)&&(C.delimiter=C.delimiter(ce),Q.meta.delimiter=C.delimiter):((ye=((Fe,Je,De,Pe,Te)=>{var st,be,Ge,Cn;Te=Te||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var kn=0;kn<Te.length;kn++){for(var un,Si=Te[kn],yt=0,dn=0,Ze=0,Be=(Ge=void 0,new k({comments:Pe,delimiter:Si,newline:Je,preview:10}).parse(Fe)),vt=0;vt<Be.data.length;vt++)De&&re(Be.data[vt])?Ze++:(un=Be.data[vt].length,dn+=un,Ge===void 0?Ge=un:0<un&&(yt+=Math.abs(un-Ge),Ge=un));0<Be.data.length&&(dn/=Be.data.length-Ze),(be===void 0||yt<=be)&&(Cn===void 0||Cn<dn)&&1.99<dn&&(be=yt,st=Si,Cn=dn)}return{successful:!!(C.delimiter=st),bestDelimiter:st}})(ce,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=ye.bestDelimiter:(D=!0,C.delimiter=f.DefaultDelimiter),Q.meta.delimiter=C.delimiter),L(C));return C.preview&&C.header&&ye.preview++,j=ce,N=new k(ye),Q=N.parse(j,_e,Ie),he(),M?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,N.abort(),j=I(C.chunk)?"":j.substring(N.getCharIndex())},this.resume=function(){X.streamer._halted?(M=!1,X.streamer.parseChunk(j,!0)):setTimeout(X.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,N.abort(),Q.meta.aborted=!0,I(C.complete)&&C.complete(Q),j=""},this.guessLineEndings=function(Fe,ye){Fe=Fe.substring(0,1048576);var ye=new RegExp(R(ye)+"([^]*?)"+R(ye),"gm"),Ie=(Fe=Fe.replace(ye,"")).split("\r"),ye=Fe.split(`
`),Fe=1<ye.length&&ye[0].length<Ie[0].length;if(Ie.length===1||Fe)return`
`;for(var Je=0,De=0;De<Ie.length;De++)Ie[De][0]===`
`&&Je++;return Je>=Ie.length/2?`\r
`:"\r"}}function R(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(C){var j=(C=C||{}).delimiter,N=C.newline,D=C.comments,V=C.step,te=C.preview,se=C.fastMode,ae=null,H=!1,X=C.quoteChar==null?'"':C.quoteChar,ne=X;if(C.escapeChar!==void 0&&(ne=C.escapeChar),(typeof j!="string"||-1<f.BAD_DELIMITERS.indexOf(j))&&(j=","),D===j)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<f.BAD_DELIMITERS.indexOf(D))&&(D=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var ie=0,M=!1;this.parse=function(F,J,Q){if(typeof F!="string")throw new Error("Input must be a string");var re=F.length,he=j.length,le=N.length,$e=D.length,ce=I(V),_e=[],Ie=[],ye=[],Fe=ie=0;if(!F)return yt();if(se||se!==!1&&F.indexOf(X)===-1){for(var Je=F.split(N),De=0;De<Je.length;De++){if(ye=Je[De],ie+=ye.length,De!==Je.length-1)ie+=N.length;else if(Q)return yt();if(!D||ye.substring(0,$e)!==D){if(ce){if(_e=[],Cn(ye.split(j)),dn(),M)return yt()}else Cn(ye.split(j));if(te&&te<=De)return _e=_e.slice(0,te),yt(!0)}}return yt()}for(var Pe=F.indexOf(j,ie),Te=F.indexOf(N,ie),st=new RegExp(R(ne)+R(X),"g"),be=F.indexOf(X,ie);;)if(F[ie]===X)for(be=ie,ie++;;){if((be=F.indexOf(X,be+1))===-1)return Q||Ie.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_e.length,index:ie}),un();if(be===re-1)return un(F.substring(ie,be).replace(st,X));if(X===ne&&F[be+1]===ne)be++;else if(X===ne||be===0||F[be-1]!==ne){Pe!==-1&&Pe<be+1&&(Pe=F.indexOf(j,be+1));var Ge=kn((Te=Te!==-1&&Te<be+1?F.indexOf(N,be+1):Te)===-1?Pe:Math.min(Pe,Te));if(F.substr(be+1+Ge,he)===j){ye.push(F.substring(ie,be).replace(st,X)),F[ie=be+1+Ge+he]!==X&&(be=F.indexOf(X,ie)),Pe=F.indexOf(j,ie),Te=F.indexOf(N,ie);break}if(Ge=kn(Te),F.substring(be+1+Ge,be+1+Ge+le)===N){if(ye.push(F.substring(ie,be).replace(st,X)),Si(be+1+Ge+le),Pe=F.indexOf(j,ie),be=F.indexOf(X,ie),ce&&(dn(),M))return yt();if(te&&_e.length>=te)return yt(!0);break}Ie.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_e.length,index:ie}),be++}}else if(D&&ye.length===0&&F.substring(ie,ie+$e)===D){if(Te===-1)return yt();ie=Te+le,Te=F.indexOf(N,ie),Pe=F.indexOf(j,ie)}else if(Pe!==-1&&(Pe<Te||Te===-1))ye.push(F.substring(ie,Pe)),ie=Pe+he,Pe=F.indexOf(j,ie);else{if(Te===-1)break;if(ye.push(F.substring(ie,Te)),Si(Te+le),ce&&(dn(),M))return yt();if(te&&_e.length>=te)return yt(!0)}return un();function Cn(Ze){_e.push(Ze),Fe=ie}function kn(Ze){var Be=0;return Be=Ze!==-1&&(Ze=F.substring(be+1,Ze))&&Ze.trim()===""?Ze.length:Be}function un(Ze){return Q||(Ze===void 0&&(Ze=F.substring(ie)),ye.push(Ze),ie=re,Cn(ye),ce&&dn()),yt()}function Si(Ze){ie=Ze,Cn(ye),ye=[],Te=F.indexOf(N,ie)}function yt(Ze){if(C.header&&!J&&_e.length&&!H){var Be=_e[0],vt={},Ct=new Set(Be);let Fo=!1;for(let ji=0;ji<Be.length;ji++){let hn=Be[ji];if(vt[hn=I(C.transformHeader)?C.transformHeader(hn,ji):hn]){let Un,us=vt[hn];for(;Un=hn+"_"+us,us++,Ct.has(Un););Ct.add(Un),Be[ji]=Un,vt[hn]++,Fo=!0,(ae=ae===null?{}:ae)[Un]=hn}else vt[hn]=1,Be[ji]=hn;Ct.add(hn)}Fo&&console.warn("Duplicate headers found and renamed."),H=!0}return{data:_e,errors:Ie,meta:{delimiter:j,linebreak:N,aborted:M,truncated:!!Ze,cursor:Fe+(J||0),renamedHeaders:ae}}}function dn(){V(yt()),_e=[],Ie=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return ie}}function U(C){var j=C.data,N=d[j.workerId],D=!1;if(j.error)N.userError(j.error,j.file);else if(j.results&&j.results.data){var V={abort:function(){D=!0,z(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(I(N.userStep)){for(var te=0;te<j.results.data.length&&(N.userStep({data:j.results.data[te],errors:j.results.errors,meta:j.results.meta},V),!D);te++);delete j.results}else I(N.userChunk)&&(N.userChunk(j.results,V,j.file),delete j.results)}j.finished&&!D&&z(j.workerId,j.results)}function z(C,j){var N=d[C];I(N.userComplete)&&N.userComplete(j),N.terminate(),delete d[C]}function A(){throw new Error("Not implemented.")}function L(C){if(typeof C!="object"||C===null)return C;var j,N=Array.isArray(C)?[]:{};for(j in C)N[j]=L(C[j]);return N}function P(C,j){return function(){C.apply(j,arguments)}}function I(C){return typeof C=="function"}return f.parse=function(C,j){var N=(j=j||{}).dynamicTyping||!1;if(I(N)&&(j.dynamicTypingFunction=N,N={}),j.dynamicTyping=N,j.transform=!!I(j.transform)&&j.transform,!j.worker||!f.WORKERS_SUPPORTED)return N=null,f.NODE_STREAM_INPUT,typeof C=="string"?(C=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(C),N=new(j.download?v:x)(j)):C.readable===!0&&I(C.read)&&I(C.on)?N=new _(j):(s.File&&C instanceof File||C instanceof Object)&&(N=new b(j)),N.stream(C);(N=(()=>{var D;return!!f.WORKERS_SUPPORTED&&(D=(()=>{var V=s.URL||s.webkitURL||null,te=n.toString();return f.BLOB_URL||(f.BLOB_URL=V.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",te,")();"],{type:"text/javascript"})))})(),(D=new s.Worker(D)).onmessage=U,D.id=h++,d[D.id]=D)})()).userStep=j.step,N.userChunk=j.chunk,N.userComplete=j.complete,N.userError=j.error,j.step=I(j.step),j.chunk=I(j.chunk),j.complete=I(j.complete),j.error=I(j.error),delete j.worker,N.postMessage({input:C,config:j,workerId:N.id})},f.unparse=function(C,j){var N=!1,D=!0,V=",",te=`\r
`,se='"',ae=se+se,H=!1,X=null,ne=!1,ie=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||f.BAD_DELIMITERS.filter(function(J){return j.delimiter.indexOf(J)!==-1}).length||(V=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(N=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(H=j.skipEmptyLines),typeof j.newline=="string"&&(te=j.newline),typeof j.quoteChar=="string"&&(se=j.quoteChar),typeof j.header=="boolean"&&(D=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");X=j.columns}j.escapeChar!==void 0&&(ae=j.escapeChar+se),j.escapeFormulae instanceof RegExp?ne=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(ne=/^[=+\-@\t\r].*$/)}})(),new RegExp(R(se),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return M(null,C,H);if(typeof C[0]=="object")return M(X||Object.keys(C[0]),C,H)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||X),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),M(C.fields||[],C.data||[],H);throw new Error("Unable to serialize unrecognized input");function M(J,Q,re){var he="",le=(typeof J=="string"&&(J=JSON.parse(J)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(J)&&0<J.length),$e=!Array.isArray(Q[0]);if(le&&D){for(var ce=0;ce<J.length;ce++)0<ce&&(he+=V),he+=F(J[ce],ce);0<Q.length&&(he+=te)}for(var _e=0;_e<Q.length;_e++){var Ie=(le?J:Q[_e]).length,ye=!1,Fe=le?Object.keys(Q[_e]).length===0:Q[_e].length===0;if(re&&!le&&(ye=re==="greedy"?Q[_e].join("").trim()==="":Q[_e].length===1&&Q[_e][0].length===0),re==="greedy"&&le){for(var Je=[],De=0;De<Ie;De++){var Pe=$e?J[De]:De;Je.push(Q[_e][Pe])}ye=Je.join("").trim()===""}if(!ye){for(var Te=0;Te<Ie;Te++){0<Te&&!Fe&&(he+=V);var st=le&&$e?J[Te]:Te;he+=F(Q[_e][st],Te)}_e<Q.length-1&&(!re||0<Ie&&!Fe)&&(he+=te)}}return he}function F(J,Q){var re,he;return J==null?"":J.constructor===Date?JSON.stringify(J).slice(1,25):(he=!1,ne&&typeof J=="string"&&ne.test(J)&&(J="'"+J,he=!0),re=J.toString().replace(ie,ae),(he=he||N===!0||typeof N=="function"&&N(J,Q)||Array.isArray(N)&&N[Q]||((le,$e)=>{for(var ce=0;ce<$e.length;ce++)if(-1<le.indexOf($e[ce]))return!0;return!1})(re,f.BAD_DELIMITERS)||-1<re.indexOf(V)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?se+re+se:re)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!l&&!!s.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=k,f.ParserHandle=T,f.NetworkStreamer=v,f.FileStreamer=b,f.StringStreamer=x,f.ReadableStreamStreamer=_,s.jQuery&&((a=s.jQuery).fn.parse=function(C){var j=C.config||{},N=[];return this.each(function(te){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var se=0;se<this.files.length;se++)N.push({file:this.files[se],inputElem:this,instanceConfig:a.extend({},j)})}),D(),this;function D(){if(N.length===0)I(C.complete)&&C.complete();else{var te,se,ae,H,X=N[0];if(I(C.before)){var ne=C.before(X.file,X.inputElem);if(typeof ne=="object"){if(ne.action==="abort")return te="AbortError",se=X.file,ae=X.inputElem,H=ne.reason,void(I(C.error)&&C.error({name:te},se,ae,H));if(ne.action==="skip")return void V();typeof ne.config=="object"&&(X.instanceConfig=a.extend(X.instanceConfig,ne.config))}else if(ne==="skip")return void V()}var ie=X.instanceConfig.complete;X.instanceConfig.complete=function(M){I(ie)&&ie(M,X.file,X.inputElem),V()},f.parse(X.file,X.instanceConfig)}}function V(){N.splice(0,1),D()}}),c&&(s.onmessage=function(C){C=C.data,f.WORKER_ID===void 0&&C&&(f.WORKER_ID=C.workerId),typeof C.input=="string"?s.postMessage({workerId:f.WORKER_ID,results:f.parse(C.input,C.config),finished:!0}):(s.File&&C.input instanceof File||C.input instanceof Object)&&(C=f.parse(C.input,C.config))&&s.postMessage({workerId:f.WORKER_ID,results:C,finished:!0})}),(v.prototype=Object.create(g.prototype)).constructor=v,(b.prototype=Object.create(g.prototype)).constructor=b,(x.prototype=Object.create(x.prototype)).constructor=x,(_.prototype=Object.create(g.prototype)).constructor=_,f})}(xc)),xc.exports}var Q4=X4();const Jb=Nf(Q4),Z4=()=>{const[t,e]=E.useState("products"),[n,s]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState(null),[h,f]=E.useState([]),[g,v]=E.useState(!1),b={products:`name,description,category_id,image_url,active,featured,special,price,original_price,tier_name,currency
GIS Sky Blue Shirt,Short sleeve sky blue shirt for GIS,1,uniforms/shirt-ssleeve-gis-sky-blue.png,true,true,false,149.99,,Size 4,BWP`,categories:`name,description,image_url,icon,color,display_order
School Uniforms,School uniforms for various schools,,shirt,#3b82f6,1`,announcements:`title,content,image_url,type,active,start_date,end_date
Back to School Sale,Get up to 20% off on all school uniforms!,,ticker,true,2025-01-01,2025-02-28`},x=N=>{var V;const D=((V=N.target.files)==null?void 0:V[0])||null;d(D),D&&f([])},_=E.useCallback(N=>{N.preventDefault(),N.stopPropagation(),v(!0)},[]),T=E.useCallback(N=>{N.preventDefault(),N.stopPropagation(),v(!1)},[]),R=E.useCallback(N=>{N.preventDefault(),N.stopPropagation(),v(!1),f([]);const D=N.dataTransfer.files;if(D&&D.length>0){const V=D[0];V.type==="text/csv"||V.name.endsWith(".csv")?d(V):(f([{type:"error",message:"Invalid file type. Please drop a CSV file."}]),d(null))}},[]),k=N=>new Promise((D,V)=>{Jb.parse(N,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:te=>D(te),error:te=>V(te)})}),U=N=>{const D={...N};return["active","featured","special"].forEach(V=>{typeof D[V]=="string"?D[V]=D[V].toLowerCase()==="true":typeof D[V]!="boolean"&&(D[V]=V==="active")}),["price","original_price"].forEach(V=>{if(D[V]!==null&&D[V]!==void 0&&D[V]!==""){const te=Number(D[V]);D[V]=isNaN(te)?null:te}else D[V]=null}),["category_id","display_order"].forEach(V=>{if(D[V]!==null&&D[V]!==void 0&&D[V]!==""){const te=parseInt(String(D[V]),10);D[V]=isNaN(te)?null:te}else D[V]=null}),["start_date","end_date"].forEach(V=>{D[V]&&!isNaN(new Date(D[V]).getTime())?D[V]=new Date(D[V]).toISOString():D[V]=null}),D},z=async()=>{if(!c){f([{type:"error",message:"Please select a file to import"}]);return}s(!0),f([]);try{const N=await k(c);if(N.errors.length>0){f([{type:"error",message:"CSV parsing errors",details:N.errors.map(D=>`Row ${D.row}: ${D.message}`)}]);return}if(N.data.length===0){f([{type:"warning",message:"The CSV file contains no data rows to import."}]);return}switch(t){case"products":await A(N.data);break;case"categories":await L(N.data);break;case"announcements":await P(N.data);break}}catch(N){console.error("Import error:",N),f([{type:"error",message:`Failed to import data: ${N.message||"Unknown error"}`}])}finally{s(!1)}},A=async N=>{const D=[];let V=0,te=0;const se=N.map(U).filter(M=>M.name&&M.price!==null);if(se.length!==N.length&&D.push({type:"warning",message:`${N.length-se.length} rows skipped due to missing name or price.`}),se.length===0){D.push({type:"error",message:"No valid product rows found to import."}),f(D);return}const ae=se.map(M=>({name:M.name,description:M.description||null,category_id:M.category_id||null,image_url:M.image_url||null,active:M.active!==void 0?M.active:!0,featured:M.featured!==void 0?M.featured:!1,special:M.special!==void 0?M.special:!1})),{data:H,error:X}=await ue.from("products").upsert(ae,{onConflict:"name"}).select("id, name");if(X){D.push({type:"error",message:`Error upserting products: ${X.message}`}),f(D);return}const ne=new Map(H==null?void 0:H.map(M=>[M.name,M.id])),ie=se.map(M=>{const F=ne.get(M.name);return F?{product_id:F,tier_name:M.tier_name||null,price:M.price,original_price:M.original_price||null,currency:M.currency||"BWP"}:null}).filter(M=>M!==null);if(ie.length>0){const{error:M}=await ue.from("product_prices").upsert(ie,{onConflict:"product_id, tier_name"});M&&D.push({type:"error",message:`Error upserting prices: ${M.message}`})}V=(H==null?void 0:H.length)||0,te=N.length-V-(N.length-se.length),D.push({type:te>0||D.some(M=>M.type==="error")?"warning":"success",message:`Import completed: ${V} products processed. Check details for errors.`}),f(D)},L=async N=>{const D=[],V=N.map(U).filter(ae=>ae.name);if(V.length!==N.length&&D.push({type:"warning",message:`${N.length-V.length} rows skipped due to missing name.`}),V.length===0){D.push({type:"error",message:"No valid category rows found to import."}),f(D);return}const te=V.map(ae=>({name:ae.name,description:ae.description||null,image_url:ae.image_url||null,icon:ae.icon||null,color:ae.color||null,display_order:ae.display_order||null})),{error:se}=await ue.from("categories").upsert(te,{onConflict:"name"});se?D.push({type:"error",message:`Error upserting categories: ${se.message}`}):D.push({type:"success",message:`Import completed: ${V.length} categories processed.`}),f(D)},P=async N=>{const D=[],V=N.map(U).filter(ae=>ae.title&&ae.content&&ae.type&&["ticker","slide","popup"].includes(ae.type));if(V.length!==N.length&&D.push({type:"warning",message:`${N.length-V.length} rows skipped due to missing required fields or invalid type.`}),V.length===0){D.push({type:"error",message:"No valid announcement rows found to import."}),f(D);return}const te=V.map(ae=>({title:ae.title,content:ae.content,image_url:ae.image_url||null,type:ae.type,active:ae.active!==void 0?ae.active:!0,start_date:ae.start_date||null,end_date:ae.end_date||null})),{error:se}=await ue.from("announcements").upsert(te,{onConflict:"title"});se?D.push({type:"error",message:`Error upserting announcements: ${se.message}`}):D.push({type:"success",message:`Import completed: ${V.length} announcements processed.`}),f(D)},I=async N=>{l(N),f([]);try{let D=[],V=`bms_${N}_export_${new Date().toISOString().split("T")[0]}.csv`;switch(N){case"products":const{data:X,error:ne}=await ue.from("products").select("*, prices:product_prices(*)");if(ne)throw ne;D=X.map(Q=>{var he;const re=(he=Q.prices)==null?void 0:he[0];return{name:Q.name,description:Q.description,category_id:Q.category_id,image_url:Q.image_url,active:Q.active,featured:Q.featured,special:Q.special,price:(re==null?void 0:re.price)??"",original_price:(re==null?void 0:re.original_price)??"",tier_name:(re==null?void 0:re.tier_name)??"",currency:(re==null?void 0:re.currency)??""}});break;case"categories":const{data:ie,error:M}=await ue.from("categories").select("*");if(M)throw M;D=ie;break;case"announcements":const{data:F,error:J}=await ue.from("announcements").select("*");if(J)throw J;D=F;break}if(D.length===0){f([{type:"warning",message:`No ${N} found to export.`}]);return}const te=Jb.unparse(D),se=new Blob([te],{type:"text/csv;charset=utf-8;"}),ae=URL.createObjectURL(se),H=document.createElement("a");H.href=ae,H.setAttribute("download",V),document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(ae)}catch(D){console.error("Export error:",D),f([{type:"error",message:`Failed to export data: ${D.message||"Unknown error"}`}])}finally{l(null)}},C=N=>{const D=b[N],V=new Blob([D],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(V),se=document.createElement("a");se.href=te,se.setAttribute("download",`bms_${N}_template.csv`),document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(te)},j=N=>N==="success"?m.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):N==="warning"?m.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):m.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});return m.jsxs("div",{className:"product-page-container",children:[m.jsx("div",{className:"page-header",children:m.jsx("h1",{className:"page-title",children:"Import & Export Data"})}),m.jsxs("div",{className:"form-container",children:[m.jsx("p",{className:"dashboard-subtitle",children:"Import data from CSV files or export data to CSV format"}),m.jsxs("div",{className:"import-export-grid",children:[m.jsxs("div",{className:"import-export-section",children:[m.jsx("h3",{className:"import-export-section-title",children:"Import Data"}),m.jsx("p",{className:"import-export-section-description",children:"Import data from a CSV file. Download a template to see the required format."}),m.jsxs("div",{className:"import-export-content",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"import-type",className:"form-label",children:"Import Type"}),m.jsxs("select",{id:"import-type",name:"import-type",className:"form-select",value:t,onChange:N=>e(N.target.value),disabled:n,children:[m.jsx("option",{value:"products",children:"Products"}),m.jsx("option",{value:"categories",children:"Categories"}),m.jsx("option",{value:"announcements",children:"Announcements"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"CSV File"}),m.jsx("div",{className:`file-dropzone ${g?"file-dropzone-dragging":""}`,onDragOver:_,onDragLeave:T,onDrop:R,children:m.jsxs("div",{className:"file-dropzone-content",children:[m.jsx("svg",{className:"file-dropzone-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),m.jsxs("div",{className:"file-dropzone-text",children:[m.jsxs("label",{htmlFor:"file-upload",className:"file-dropzone-label",children:[m.jsx("span",{children:"Select CSV file"}),m.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".csv",onChange:x,disabled:n})]}),m.jsx("p",{className:"file-dropzone-or",children:g?"Drop the file here":"or drag and drop"})]}),m.jsx("p",{className:"file-dropzone-hint",children:"CSV files only"})]})}),c&&m.jsxs("div",{className:"file-selected-info",children:["Selected file: ",m.jsx("span",{className:"file-selected-name",children:c.name}),m.jsxs("span",{className:"file-selected-size",children:["(",(c.size/1024).toFixed(1)," KB)"]})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",onClick:z,disabled:n||!c,className:"admin-button admin-button-primary",children:n?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"loading-spinner-small",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import Data"}),m.jsxs("button",{type:"button",onClick:()=>C(t),className:"admin-button admin-button-secondary",children:[m.jsx("svg",{className:"download-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download Template"]})]})]})]}),m.jsxs("div",{className:"import-export-section",children:[m.jsx("h3",{className:"import-export-section-title",children:"Export Data"}),m.jsx("p",{className:"import-export-section-description",children:"Export your data to CSV format for backup or editing."}),m.jsx("div",{className:"import-export-content",children:m.jsx("div",{className:"export-buttons",children:["products","categories","announcements"].map(N=>m.jsx("button",{type:"button",onClick:()=>I(N),disabled:a===N,className:"admin-button admin-button-secondary export-button",children:a===N?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"loading-spinner-small",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting ",N.charAt(0).toUpperCase()+N.slice(1),"..."]}):m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"download-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export ",N.charAt(0).toUpperCase()+N.slice(1)]})},N))})})]})]}),h.length>0&&m.jsxs("div",{className:"import-results",children:[m.jsx("h3",{className:"import-export-section-title",children:"Import Results"}),m.jsx("div",{className:"import-results-list",children:h.map((N,D)=>m.jsxs("div",{className:`alert ${N.type==="success"?"alert-success":N.type==="warning"?"alert-warning":"alert-error"}`,children:[m.jsx("div",{className:"alert-icon",children:j(N.type)}),m.jsxs("div",{className:"alert-content",children:[m.jsx("p",{className:"alert-message",children:N.message}),N.details&&N.details.length>0&&m.jsx("ul",{className:"alert-details",children:N.details.map((V,te)=>m.jsx("li",{children:V},te))})]})]},D))})]})]})]})},W4=()=>{const[t,e]=E.useState(!1),[n,s]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState({displayDuration:10,transitionDuration:1,enableAutoRotation:!0,defaultCurrency:"BWP",storeTimezone:"Africa/Gaborone",storeLocation:"Gaborone, Botswana",logoUrl:"",primaryColor:"#1e3a8a",secondaryColor:"#2563eb"});Yn.useEffect(()=>{(async()=>{try{e(!0);const v=await Vc();if(!v||typeof v.id>"u")throw new Error("Received invalid settings data.");d({displayDuration:v.display_duration,transitionDuration:v.transition_duration,enableAutoRotation:v.enable_auto_rotation,defaultCurrency:v.default_currency,storeTimezone:v.store_timezone,storeLocation:v.store_location,logoUrl:v.logo_url||"",primaryColor:v.primary_color,secondaryColor:v.secondary_color})}catch(v){console.error("Error fetching settings:",v),l(`Failed to load settings from the database. This might be due to a connection issue or a problem with the settings table structure. Default values are being used. Please ensure the database is configured correctly. Original error: ${v.message||"Unknown error"}`),console.log("Using default settings due to error."),d({displayDuration:Gn.display_duration,transitionDuration:Gn.transition_duration,enableAutoRotation:Gn.enable_auto_rotation,defaultCurrency:Gn.default_currency,storeTimezone:Gn.store_timezone,storeLocation:Gn.store_location,logoUrl:"",primaryColor:Gn.primary_color,secondaryColor:Gn.secondary_color})}finally{e(!1)}})()},[]);const h=g=>{const{name:v,value:b,type:x}=g.target;if(x==="checkbox"){const{checked:_}=g.target;d(T=>({...T,[v]:_}))}else d(_=>({..._,[v]:b}));s(!1),l(null)},f=async g=>{g.preventDefault();try{e(!0),s(!1),l(null);const v=await JT({display_duration:c.displayDuration,transition_duration:c.transitionDuration,enable_auto_rotation:c.enableAutoRotation,default_currency:c.defaultCurrency,store_timezone:c.storeTimezone,store_location:c.storeLocation,logo_url:c.logoUrl||"",primary_color:c.primaryColor,secondary_color:c.secondaryColor});if(!v.success)throw v.error||new Error("Unknown error");s(!0)}catch(v){console.error("Error saving settings:",v),l("Failed to save settings: "+(v.message||"Unknown error"))}finally{e(!1)}};return m.jsxs("div",{className:"dashboard-container",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsx("h2",{className:"dashboard-title",children:"System Settings"}),m.jsx("p",{className:"dashboard-subtitle",children:"Configure global settings for your digital signage system"})]}),t&&!a&&m.jsxs("div",{className:"dashboard-loading",children:[m.jsxs("svg",{className:"dashboard-loading-spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"dashboard-loading-text",children:"Loading settings..."})]}),a&&m.jsx("div",{className:"dashboard-error-container",children:m.jsxs("div",{className:"dashboard-error",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"dashboard-error-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),m.jsx("div",{children:m.jsx("p",{className:"dashboard-error-text",children:a})})]})}),n&&m.jsxs("div",{className:"alert alert-success",children:[m.jsx("div",{className:"alert-icon",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:"Settings saved successfully!"})})]}),m.jsx("div",{className:"form-container",children:m.jsxs("form",{onSubmit:f,children:[m.jsxs("div",{className:"form-section",children:[m.jsx("h3",{className:"form-section-title",children:"Display Settings"}),m.jsx("p",{className:"form-section-description",children:"Configure how content is displayed on digital signage screens."}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"displayDuration",className:"form-label",children:"Display Duration (seconds)"}),m.jsx("div",{className:"form-input-wrapper",children:m.jsx("input",{type:"number",name:"displayDuration",id:"displayDuration",min:"1",max:"60",className:"form-input",value:c.displayDuration,onChange:h})}),m.jsx("p",{className:"form-help-text",children:"How long each slide is displayed before transitioning."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"transitionDuration",className:"form-label",children:"Transition Duration (seconds)"}),m.jsx("div",{className:"form-input-wrapper",children:m.jsx("input",{type:"number",name:"transitionDuration",id:"transitionDuration",min:"0.1",max:"5",step:"0.1",className:"form-input",value:c.transitionDuration,onChange:h})}),m.jsx("p",{className:"form-help-text",children:"Duration of transition animation between slides."})]})]}),m.jsx("div",{className:"form-group",children:m.jsxs("div",{className:"form-checkbox",children:[m.jsx("input",{id:"enableAutoRotation",name:"enableAutoRotation",type:"checkbox",checked:c.enableAutoRotation,onChange:h}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"enableAutoRotation",className:"form-label",children:"Enable Auto-Rotation"}),m.jsx("p",{className:"form-help-text",children:"Automatically rotate through slides in the display."})]})]})})]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h3",{className:"form-section-title",children:"Store Settings"}),m.jsx("p",{className:"form-section-description",children:"Configure store-specific settings."}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"defaultCurrency",className:"form-label",children:"Default Currency"}),m.jsx("div",{className:"form-input-wrapper",children:m.jsxs("select",{id:"defaultCurrency",name:"defaultCurrency",className:"form-select",value:c.defaultCurrency,onChange:h,children:[m.jsx("option",{value:"BWP",children:"Botswana Pula (BWP)"}),m.jsx("option",{value:"USD",children:"US Dollar (USD)"}),m.jsx("option",{value:"ZAR",children:"South African Rand (ZAR)"}),m.jsx("option",{value:"GBP",children:"British Pound (GBP)"}),m.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"storeTimezone",className:"form-label",children:"Store Timezone"}),m.jsx("div",{className:"form-input-wrapper",children:m.jsxs("select",{id:"storeTimezone",name:"storeTimezone",className:"form-select",value:c.storeTimezone,onChange:h,children:[m.jsx("option",{value:"Africa/Gaborone",children:"Africa/Gaborone"}),m.jsx("option",{value:"Africa/Johannesburg",children:"Africa/Johannesburg"}),m.jsx("option",{value:"Africa/Lagos",children:"Africa/Lagos"}),m.jsx("option",{value:"Africa/Nairobi",children:"Africa/Nairobi"}),m.jsx("option",{value:"Europe/London",children:"Europe/London"})]})})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"storeLocation",className:"form-label",children:"Store Location"}),m.jsx("div",{className:"form-input-wrapper",children:m.jsx("input",{type:"text",name:"storeLocation",id:"storeLocation",className:"form-input",value:c.storeLocation,onChange:h})})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h3",{className:"form-section-title",children:"Branding Settings"}),m.jsx("p",{className:"form-section-description",children:"Configure branding and appearance settings."}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"logoUrl",className:"form-label",children:"Logo URL"}),m.jsx("div",{className:"form-input-wrapper",children:m.jsx("input",{type:"text",name:"logoUrl",id:"logoUrl",className:"form-input",value:c.logoUrl,onChange:h})}),m.jsx("p",{className:"form-help-text",children:"URL to your store logo image. Recommended size: 200x60px."})]}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"primaryColor",className:"form-label",children:"Primary Color"}),m.jsxs("div",{className:"form-color-input-wrapper",children:[m.jsx("input",{type:"color",name:"primaryColor",id:"primaryColor",className:"form-color-picker",value:c.primaryColor,onChange:h}),m.jsx("input",{type:"text",name:"primaryColor","aria-label":"Primary color hex value",className:"form-input",value:c.primaryColor,onChange:h})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"secondaryColor",className:"form-label",children:"Secondary Color"}),m.jsxs("div",{className:"form-color-input-wrapper",children:[m.jsx("input",{type:"color",name:"secondaryColor",id:"secondaryColor",className:"form-color-picker",value:c.secondaryColor,onChange:h}),m.jsx("input",{type:"text",name:"secondaryColor","aria-label":"Secondary color hex value",className:"form-input",value:c.secondaryColor,onChange:h})]})]})]})]}),m.jsx("div",{className:"form-actions",children:m.jsx("button",{type:"submit",className:"admin-button admin-button-primary",disabled:t,children:t?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Settings"})})]})})]})},Qh=["BWP","ZAR","USD","GBP","EUR"],J4=()=>{const{id:t}=G2(),e=Po(),n=!!t,[s,a]=E.useState({name:"",description:"",category_id:"",image_url:"",active:!0,featured:!1,special:!1,prices:[{tier_name:"",price:0,original_price:null,currency:Qh[0]}]}),[l,c]=E.useState([]),[d,h]=E.useState(!0),[f,g]=E.useState(!1),[v,b]=E.useState(null),[x,_]=E.useState(null);E.useEffect(()=>{(async()=>{var C;try{h(!0);const{data:j,error:N}=await ue.from("categories").select("id,name").order("name");if(N)throw N;if(c(j||[]),n&&t){const{data:D,error:V}=await ue.from("products").select("*, prices:product_prices(*)").eq("id",t).single();if(V)throw V;a({name:D.name||"",description:D.description||"",category_id:D.category_id||"",image_url:D.image_url||"",active:D.active??!0,featured:D.featured??!1,special:D.special??!1,prices:(C=D.prices)!=null&&C.length?D.prices.map(te=>({id:te.id,tier_name:te.tier_name||"",price:te.price||0,original_price:te.original_price||null,currency:te.currency||"BWP"})):[{tier_name:"",price:0,original_price:null,currency:"BWP"}]})}}catch(j){b(j.message)}finally{h(!1)}})()},[t,n]);const T=C=>{a({...s,[C.target.name]:C.target.value}),b(null),_(null)},R=C=>{a({...s,[C.target.name]:C.target.checked}),b(null),_(null)},k=(C,j,N)=>{const D=[...s.prices];D[C]={...D[C],[j]:N},a({...s,prices:D}),b(null),_(null)},U=()=>a({...s,prices:[...s.prices,{tier_name:"",price:0,original_price:null,currency:Qh[0]}]}),z=C=>{if(s.prices.length<=1)return;const j=[...s.prices];j.splice(C,1),a({...s,prices:j})},A=E.useCallback(C=>{a(j=>({...j,image_url:C})),_("Image selected"),setTimeout(()=>_(null),2e3)},[]),L=E.useCallback(C=>{a(j=>({...j,image_url:C})),_("Image uploaded"),setTimeout(()=>_(null),2e3)},[]),P=()=>a(C=>({...C,image_url:""})),I=async C=>{C.preventDefault();try{if(g(!0),b(null),_(null),!s.name.trim())throw new Error("Product name required");if(!s.category_id)throw new Error("Select a category");for(const[j,N]of s.prices.entries()){if(N.price<=0)throw new Error(`Price > 0 for tier ${j+1}`);if(N.original_price!==null&&N.original_price<=N.price)throw new Error(`Original price > price for tier ${j+1}`)}if(s.special&&!s.prices.some(j=>j.original_price!==null))throw new Error("Specials need original price");if(n&&t){const{error:j}=await ue.from("products").update({name:s.name,description:s.description,category_id:s.category_id,image_url:s.image_url,active:s.active,featured:s.featured,special:s.special}).eq("id",t);if(j)throw j;for(const se of s.prices)if(se.id){const{error:ae}=await ue.from("product_prices").update({tier_name:se.tier_name,price:se.price,original_price:se.original_price,currency:se.currency}).eq("id",se.id);if(ae)throw ae}else{const{error:ae}=await ue.from("product_prices").insert({product_id:t,tier_name:se.tier_name,price:se.price,original_price:se.original_price,currency:se.currency});if(ae)throw ae}const{data:N,error:D}=await ue.from("product_prices").select("id").eq("product_id",t);if(D)throw D;const V=s.prices.map(se=>se.id).filter(Boolean),te=N.filter(se=>!V.includes(se.id)).map(se=>se.id);if(te.length){const{error:se}=await ue.from("product_prices").delete().in("id",te);if(se)throw se}_("Product updated")}else{const{data:j,error:N}=await ue.from("products").insert({name:s.name,description:s.description,category_id:s.category_id,image_url:s.image_url,active:s.active,featured:s.featured,special:s.special}).select("id").single();if(N)throw N;const D=s.prices.map(te=>({product_id:j.id,tier_name:te.tier_name,price:te.price,original_price:te.original_price,currency:te.currency})),{error:V}=await ue.from("product_prices").insert(D);if(V)throw V;_("Product created"),e(`/admin/products/edit/${j.id}`)}}catch(j){b(j.message||"Save failed")}finally{g(!1)}};return m.jsxs("div",{className:"form-container",children:[m.jsxs("h2",{className:"form-title",children:[m.jsx(P4,{style:{marginRight:"0.5rem",verticalAlign:"middle"}})," ",n?"Edit Product":"Add New Product"]}),d?m.jsxs("div",{className:"loading-indicator",children:[m.jsx(Om,{className:"loading-spinner"}),m.jsx("p",{className:"loading-text",children:"Loading product data..."})]}):m.jsxs("form",{onSubmit:I,children:[v&&m.jsxs("div",{className:"alert alert-error",style:{marginBottom:"1.5rem"},children:[" ",m.jsx("div",{className:"alert-icon",children:m.jsx(Dm,{})}),m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:v})})]}),x&&m.jsxs("div",{className:"alert alert-success",style:{marginBottom:"1.5rem"},children:[" ",m.jsx("div",{className:"alert-icon",children:m.jsx(O4,{})}),m.jsx("div",{className:"alert-content",children:m.jsx("p",{children:x})})]}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-column",children:[m.jsxs("div",{className:"form-section",children:[m.jsxs("h3",{className:"form-section-title",children:[m.jsx(q4,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Product Details"]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name ",m.jsx("span",{style:{color:"red"},children:"*"})]}),m.jsx("input",{id:"name",name:"name",value:s.name,onChange:T,required:!0,className:"form-input"})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"category_id",className:"form-label",children:["Category ",m.jsx("span",{style:{color:"red"},children:"*"})]}),m.jsxs("select",{id:"category_id",name:"category_id",value:s.category_id,onChange:T,required:!0,className:"form-select",children:[m.jsx("option",{value:"",children:"Select category"}),l.map(C=>m.jsx("option",{value:C.id,children:C.name},C.id))]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),m.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:T,rows:4,className:"form-textarea",placeholder:"Enter product description..."})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("h3",{className:"form-section-title",children:[m.jsx(H4,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Product Status"]}),m.jsx("div",{className:"checkbox-group",children:[{name:"active",label:"Active",desc:"Visible on signage"},{name:"featured",label:"Featured",desc:"Highlight product"},{name:"special",label:"Special Offer",desc:"Show discount"}].map(C=>m.jsxs("div",{className:"checkbox-item",children:[m.jsx("input",{type:"checkbox",name:C.name,id:C.name,checked:s[C.name],onChange:R}),m.jsxs("label",{htmlFor:C.name,className:"checkbox-label",children:[m.jsx("span",{className:"checkbox-label-text",children:C.label}),m.jsx("span",{className:"checkbox-label-description",children:C.desc})]})]},C.name))})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("h3",{className:"form-section-title",children:[m.jsx(L4,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Pricing"]}),s.prices.map((C,j)=>m.jsxs("div",{className:"price-tier",children:[m.jsxs("div",{className:"price-tier-header",children:[m.jsx("h4",{className:"price-tier-title",children:C.tier_name||`Price Tier ${j+1}`}),s.prices.length>1&&m.jsx("button",{type:"button",onClick:()=>z(j),className:"price-tier-remove",children:m.jsx(F1,{})})]}),m.jsxs("div",{className:"price-tier-grid",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:`tier_name_${j}`,className:"form-label",children:"Tier Name/Size (optional)"}),m.jsx("input",{id:`tier_name_${j}`,type:"text",placeholder:"e.g., Size 4, Small",value:C.tier_name,onChange:N=>k(j,"tier_name",N.target.value),className:"form-input"})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:`price_${j}`,className:"form-label",children:["Price (BWP) ",m.jsx("span",{style:{color:"red"},children:"*"})]}),m.jsx("input",{id:`price_${j}`,type:"number",placeholder:"0.00",value:C.price,onChange:N=>k(j,"price",parseFloat(N.target.value)||0),min:"0",step:"0.01",required:!0,className:"form-input"})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:`original_price_${j}`,className:"form-label",children:["Original Price (BWP) ",s.special&&m.jsx("span",{style:{color:"red"},children:"*"})]}),m.jsx("input",{id:`original_price_${j}`,type:"number",placeholder:s.special?"Required for specials":"Optional",value:C.original_price??"",onChange:N=>k(j,"original_price",N.target.value?parseFloat(N.target.value):null),min:"0",step:"0.01",required:s.special,className:"form-input"}),m.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:[" ",s.special?"Required for special offers":"Leave empty if not on special"]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:`currency_${j}`,className:"form-label",children:"Currency"}),m.jsx("select",{id:`currency_${j}`,value:C.currency,onChange:N=>k(j,"currency",N.target.value),className:"form-select",children:Qh.map(N=>m.jsx("option",{value:N,children:N},N))})]})]})]},j)),m.jsxs("button",{type:"button",onClick:U,className:"add-price-tier-button",children:[m.jsx(B4,{})," Add Another Price Tier"]})]})]}),m.jsx("div",{className:"form-column",children:m.jsxs("div",{className:"form-section",children:[m.jsxs("h3",{className:"form-section-title",children:[m.jsx(xo,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Product Image"]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"Select or Upload Image"}),m.jsx(Lm,{currentImage:s.image_url,onSelect:A,onDelete:P,bucket:"products"})]}),m.jsxs("div",{className:"form-group",style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[m.jsx("label",{className:"form-label",children:"Upload New Image"}),m.jsx(zm,{bucket:"products",onUploadComplete:L})]})]})})]}),m.jsxs("div",{className:"form-actions",children:[m.jsxs("button",{type:"button",onClick:()=>e("/admin/products"),className:"admin-button admin-button-secondary",children:[m.jsx(D4,{style:{marginRight:"0.5rem"}}),"Cancel"]}),m.jsxs("button",{type:"submit",disabled:f,className:"admin-button admin-button-primary",children:[m.jsx(U4,{style:{marginRight:"0.5rem"}}),f?"Saving...":"Save Product"]})]})]})]})},ez=()=>{const t=Po(),e=()=>{t("/admin/categories")},n=()=>{t("/admin/categories")};return m.jsx(G1,{onSave:e,onCancel:n})};function tz(){return E.useEffect(()=>{tC().catch(t=>{console.error("Failed to initialize currency settings:",t)})},[]),m.jsx(FT,{children:m.jsxs(oj,{children:[m.jsx(rn,{path:"/",element:m.jsx(s4,{})}),m.jsx(rn,{path:"/mock",element:m.jsx(y4,{})}),m.jsx(rn,{path:"/test-images",element:m.jsx(b4,{})}),m.jsx(rn,{path:"/admin/login",element:m.jsx(x4,{})}),m.jsx(rn,{path:"/admin",element:m.jsxs(Ki,{children:[m.jsx(Xi,{children:m.jsx(j4,{})})," "]})}),m.jsx(rn,{path:"/admin/announcements",element:m.jsxs(Ki,{children:[m.jsx(Xi,{children:m.jsx(Y4,{})})," "]})}),m.jsx(rn,{path:"/admin/products",element:m.jsxs(Ki,{children:[m.jsx(Xi,{children:m.jsx(E4,{})})," "]})}),m.jsx(rn,{path:"/admin/products/edit/:id",element:m.jsxs(Ki,{children:[m.jsx(Xi,{children:m.jsx(J4,{})})," "]})}),m.jsx(rn,{path:"/admin/categories",element:m.jsxs(Ki,{children:[m.jsx(Xi,{children:m.jsx(F4,{})})," "]})}),m.jsx(rn,{path:"/admin/categories/new",element:m.jsx(Ki,{children:m.jsxs(Xi,{children:[m.jsx(ez,{})," "]})})}),m.jsx(rn,{path:"/admin/settings",element:m.jsxs(Ki,{children:[m.jsx(Xi,{children:m.jsx(W4,{})})," "]})}),m.jsx(rn,{path:"/admin/import",element:m.jsx(Ki,{children:m.jsx(Xi,{children:m.jsx(Z4,{})})})})]})})}g2.createRoot(document.getElementById("root")).render(m.jsx(E.StrictMode,{children:m.jsx(Rj,{basename:"/bms-digital-signage/",children:m.jsx(tz,{})})}));export{Nf as g};
